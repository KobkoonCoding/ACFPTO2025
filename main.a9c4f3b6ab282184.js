"use strict";(self.webpackChunkiwana_website=self.webpackChunkiwana_website||[]).push([[792],{547:(Iu,Vg,js)=>{var Ci={};js.r(Ci),js.d(Ci,{AbortException:()=>LU,AnnotationEditorLayer:()=>kU,AnnotationEditorParamsType:()=>NU,AnnotationEditorType:()=>sD,AnnotationEditorUIManager:()=>FU,AnnotationLayer:()=>BU,AnnotationMode:()=>jU,CMapCompressionType:()=>VU,ColorPicker:()=>HU,DOMSVGFactory:()=>UU,DrawLayer:()=>$U,FeatureTest:()=>zU,GlobalWorkerOptions:()=>oD,ImageKind:()=>WU,InvalidPDFException:()=>GU,MissingPDFException:()=>qU,OPS:()=>YU,PDFDataRangeTransport:()=>KU,PDFDateString:()=>XU,PDFWorker:()=>QU,PasswordResponses:()=>ZU,PermissionFlag:()=>JU,PixelsPerInch:()=>e$,RenderingCancelledException:()=>t$,TextLayer:()=>n$,UnexpectedResponseException:()=>i$,Util:()=>r$,VerbosityLevel:()=>aD,XfaLayer:()=>s$,build:()=>o$,createValidAbsoluteUrl:()=>a$,fetchData:()=>l$,getDocument:()=>lD,getFilenameFromUrl:()=>c$,getPdfFilenameFromUrl:()=>u$,getXfaPageViewport:()=>d$,isDataScheme:()=>h$,isPdfFile:()=>f$,noContextMenu:()=>p$,normalizeUnicode:()=>g$,setLayerDimensions:()=>m$,shadow:()=>v$,version:()=>uu});var Tu={};function ue(n){return"function"==typeof n}function Pu(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}js.r(Tu),js.d(Tu,{AnnotationLayerBuilder:()=>D3,DownloadManager:()=>S3,EventBus:()=>x3,FindState:()=>M3,GenericL10n:()=>rS,LinkTarget:()=>Bs,PDFFindController:()=>sS,PDFHistory:()=>I3,PDFLinkService:()=>oS,PDFPageView:()=>T3,PDFScriptingManager:()=>P3,PDFSinglePageViewer:()=>aS,PDFViewer:()=>lS,ProgressBar:()=>R3,RenderingStates:()=>O3,ScrollMode:()=>L3,SimpleLinkService:()=>k3,SpreadMode:()=>N3,StructTreeLayerBuilder:()=>F3,TextLayerBuilder:()=>B3,XfaLayerBuilder:()=>j3,parseQueryString:()=>V3});const Ru=Pu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ia(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ot{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ue(i))try{i()}catch(s){e=s instanceof Ru?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{$g(s)}catch(o){e=e??[],o instanceof Ru?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ru(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$g(e);else{if(e instanceof Ot){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ia(t,e)}remove(e){const{_finalizers:t}=this;t&&Ia(t,e),e instanceof Ot&&e._removeParent(this)}}Ot.EMPTY=(()=>{const n=new Ot;return n.closed=!0,n})();const Hg=Ot.EMPTY;function Ug(n){return n instanceof Ot||n&&"closed"in n&&ue(n.remove)&&ue(n.add)&&ue(n.unsubscribe)}function $g(n){ue(n)?n():n.unsubscribe()}const qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ta={setTimeout(n,e,...t){const{delegate:i}=Ta;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ta;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zg(n){Ta.setTimeout(()=>{const{onUnhandledError:e}=qi;if(!e)throw n;e(n)})}function Ou(){}const uS=Lu("C",void 0,void 0);function Lu(n,e,t){return{kind:n,value:e,error:t}}let Yi=null;function Pa(n){if(qi.useDeprecatedSynchronousErrorHandling){const e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Yi;if(Yi=null,t)throw i}}else n()}class ku extends Ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ug(e)&&e.add(this)):this.destination=vS}static create(e,t,i){return new Vs(e,t,i)}next(e){this.isStopped?Fu(function hS(n){return Lu("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Fu(function dS(n){return Lu("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fu(uS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pS=Function.prototype.bind;function Nu(n,e){return pS.call(n,e)}class gS{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ra(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ra(i)}else Ra(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ra(t)}}}class Vs extends ku{constructor(e,t,i){let r;if(super(),ue(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&qi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Nu(e.next,s),error:e.error&&Nu(e.error,s),complete:e.complete&&Nu(e.complete,s)}):r=e}this.destination=new gS(r)}}function Ra(n){qi.useDeprecatedSynchronousErrorHandling?function fS(n){qi.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}(n):zg(n)}function Fu(n,e){const{onStoppedNotification:t}=qi;t&&Ta.setTimeout(()=>t(n,e))}const vS={closed:!0,next:Ou,error:function mS(n){throw n},complete:Ou},Bu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ai(n){return n}function Wg(n){return 0===n.length?Ai:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let $e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function _S(n){return n&&n instanceof ku||function bS(n){return n&&ue(n.next)&&ue(n.error)&&ue(n.complete)}(n)&&Ug(n)}(t)?t:new Vs(t,i,r);return Pa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Gg(i))((r,s)=>{const o=new Vs({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Bu](){return this}pipe(...t){return Wg(t)(this)}toPromise(t){return new(t=Gg(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Gg(n){var e;return null!==(e=n??qi.Promise)&&void 0!==e?e:Promise}const wS=Pu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tn=(()=>{class n extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new qg(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new wS}next(t){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Hg:(this.currentObservers=null,s.push(t),new Ot(()=>{this.currentObservers=null,Ia(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new $e;return t.source=this,t}}return n.create=(e,t)=>new qg(e,t),n})();class qg extends tn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Hg}}function Yg(n){return ue(n?.lift)}function ze(n){return e=>{if(Yg(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(n,e,t,i,r){return new ES(n,e,t,i,r)}class ES extends ku{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(n,e){return ze((t,i)=>{let r=0;t.subscribe(We(i,s=>{i.next(n.call(e,s,r++))}))})}function Di(n){return this instanceof Di?(this.v=n,this):new Di(n)}function Zg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Uu(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $u=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jg(n){return ue(n?.then)}function em(n){return ue(n[Bu])}function tm(n){return Symbol.asyncIterator&&ue(n?.[Symbol.asyncIterator])}function nm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const im=function zS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rm(n){return ue(n?.[im])}function sm(n){return function Qg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(p){return Promise.resolve(p).then(f,d)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(f,p){i[f]&&(r[f]=function(g){return new Promise(function(v,m){s.push([f,g,v,m])>1||l(f,g)})},p&&(r[f]=p(r[f])))}function l(f,p){try{!function c(f){f.value instanceof Di?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}(i[f](p))}catch(g){h(s[0][3],g)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Di(t.read());if(r)return yield Di(void 0);yield yield Di(i)}}finally{t.releaseLock()}})}function om(n){return ue(n?.getReader)}function Wt(n){if(n instanceof $e)return n;if(null!=n){if(em(n))return function WS(n){return new $e(e=>{const t=n[Bu]();if(ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if($u(n))return function GS(n){return new $e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Jg(n))return function qS(n){return new $e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zg)})}(n);if(tm(n))return am(n);if(rm(n))return function YS(n){return new $e(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(om(n))return function KS(n){return am(sm(n))}(n)}throw nm(n)}function am(n){return new $e(e=>{(function XS(n,e){var t,i,r,s;return function Kg(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Zg(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function qn(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function st(n,e,t=1/0){return ue(e)?st((i,r)=>Ce((s,o)=>e(i,s,r,o))(Wt(n(i,r))),t):("number"==typeof e&&(t=e),ze((i,r)=>function QS(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let v=!1;Wt(t(g,u++)).subscribe(We(e,m=>{r?.(m),s?f(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){const m=l.shift();o?qn(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(We(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Er(n=1/0){return st(Ai,n)}const In=new $e(n=>n.complete());function zu(n){return n[n.length-1]}function Hs(n){return function JS(n){return n&&ue(n.schedule)}(zu(n))?n.pop():void 0}function lm(n,e=0){return ze((t,i)=>{t.subscribe(We(i,r=>qn(i,n,()=>i.next(r),e),()=>qn(i,n,()=>i.complete(),e),r=>qn(i,n,()=>i.error(r),e)))})}function cm(n,e=0){return ze((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function um(n,e){if(!n)throw new Error("Iterable cannot be null");return new $e(t=>{qn(t,e,()=>{const i=n[Symbol.asyncIterator]();qn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Xe(n,e){return e?function ax(n,e){if(null!=n){if(em(n))return function nx(n,e){return Wt(n).pipe(cm(e),lm(e))}(n,e);if($u(n))return function rx(n,e){return new $e(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Jg(n))return function ix(n,e){return Wt(n).pipe(cm(e),lm(e))}(n,e);if(tm(n))return um(n,e);if(rm(n))return function sx(n,e){return new $e(t=>{let i;return qn(t,e,()=>{i=n[im](),qn(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>ue(i?.return)&&i.return()})}(n,e);if(om(n))return function ox(n,e){return um(sm(n),e)}(n,e)}throw nm(n)}(n,e):Wt(n)}class nn extends tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function G(...n){return Xe(n,Hs(n))}function dm(n={}){const{connector:e=(()=>new tn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ze((g,v)=>{c++,!d&&!u&&h();const m=l=l??e();v.add(()=>{c--,0===c&&!d&&!u&&(a=Wu(p,r))}),m.subscribe(v),!o&&c>0&&(o=new Vs({next:y=>m.next(y),error:y=>{d=!0,h(),a=Wu(f,t,y),m.error(y)},complete:()=>{u=!0,h(),a=Wu(f,i),m.complete()}}),Wt(g).subscribe(o))})(s)}}function Wu(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Vs({next:()=>{i.unsubscribe(),n()}});return Wt(e(...t)).subscribe(i)}function Tn(n,e){return ze((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(We(i,l=>{r?.unsubscribe();let c=0;const u=s++;Wt(n(l,u)).subscribe(r=We(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ux(n,e){return n===e}function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function Qe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Qe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Gu(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const dx=ve({__forward_ref__:ve});function qu(n){return n.__forward_ref__=qu,n.toString=function(){return Qe(this())},n}function z(n){return Yu(n)?n():n}function Yu(n){return"function"==typeof n&&n.hasOwnProperty(dx)&&n.__forward_ref__===qu}function Ku(n){return n&&!!n.\u0275providers}const hm="https://g.co/ng/security#xss";class R extends Error{constructor(e,t){super(function La(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function q(n){return"string"==typeof n?n:null==n?"":String(n)}function Xu(n,e){throw new R(-201,!1)}function rn(n,e){null==n&&function U(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ka(n){return fm(n,Fa)||fm(n,pm)}function fm(n,e){return n.hasOwnProperty(e)?n[e]:null}function Na(n){return n&&(n.hasOwnProperty(Qu)||n.hasOwnProperty(bx))?n[Qu]:null}const Fa=ve({\u0275prov:ve}),Qu=ve({\u0275inj:ve}),pm=ve({ngInjectableDef:ve}),bx=ve({ngInjectorDef:ve});var ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ie||{});let Zu;function Lt(n){const e=Zu;return Zu=n,e}function mm(n,e,t){const i=ka(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ie.Optional?null:void 0!==e?e:void Xu(Qe(n))}const Ae=globalThis;class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Us={},id="__NG_DI_FLAG__",Ba="ngTempTokenPath",Ex=/\n/gm,ym="__source";let Cr;function Si(n){const e=Cr;return Cr=n,e}function Dx(n,e=ie.Default){if(void 0===Cr)throw new R(-203,!1);return null===Cr?mm(n,void 0,e):Cr.get(n,e&ie.Optional?null:void 0,e)}function V(n,e=ie.Default){return(function gm(){return Zu}()||Dx)(z(n),e)}function N(n,e=ie.Default){return V(n,ja(e))}function ja(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rd(n){const e=[];for(let t=0;t<n.length;t++){const i=z(n[t]);if(Array.isArray(i)){if(0===i.length)throw new R(900,!1);let r,s=ie.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Sx(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(V(r,s))}else e.push(V(i))}return e}function $s(n,e){return n[id]=e,n.prototype[id]=e,n}function Sx(n){return n[id]}function Kn(n){return{toString:n}.toString()}var Va=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Va||{}),mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mn||{});const Pn={},de=[],Ha=ve({\u0275cmp:ve}),sd=ve({\u0275dir:ve}),od=ve({\u0275pipe:ve}),_m=ve({\u0275mod:ve}),Xn=ve({\u0275fac:ve}),zs=ve({__NG_ELEMENT_ID__:ve}),wm=ve({__NG_ENV_ID__:ve});function Em(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function ad(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];Am(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function Cm(n){return 3===n||4===n||6===n}function Am(n){return 64===n.charCodeAt(0)}function Ws(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Dm(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Dm(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const Sm="ng-template";function Ix(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==Em(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function xm(n){return 4===n.type&&n.value!==Sm}function Tx(n,e,t){return e===(4!==n.type||t?n.value:Sm)}function Px(n,e,t){let i=4;const r=n.attrs||[],s=function Lx(n){for(let e=0;e<n.length;e++)if(Cm(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Tx(n,l,t)||""===l&&1===e.length){if(vn(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!Ix(n.attrs,c,t)){if(vn(i))return!1;o=!0}continue}const d=Rx(8&i?"class":l,r,xm(n),t);if(-1===d){if(vn(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==Em(f,c,0)||2&i&&c!==h){if(vn(i))return!1;o=!0}}}}else{if(!o&&!vn(i)&&!vn(l))return!1;if(o&&vn(l))continue;o=!1,i=l|1&i}}return vn(i)||o}function vn(n){return 0==(1&n)}function Rx(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function kx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Mm(n,e,t=!1){for(let i=0;i<e.length;i++)if(Px(n,e[i],t))return!0;return!1}function Im(n,e){return n?":not("+e.trim()+")":e}function Fx(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!vn(o)&&(e+=Im(s,r),r=""),i=o,s=s||!vn(i);t++}return""!==r&&(e+=Im(s,r)),e}function ht(n){return Kn(()=>{const e=Pm(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Va.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,styles:n.styles||de,_:null,schemas:n.schemas||null,tView:null,id:""};Rm(t);const i=n.dependencies;return t.directiveDefs=Ua(i,!1),t.pipeDefs=Ua(i,!0),t.id=function Wx(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Hx(n){return oe(n)||ot(n)}function Ux(n){return null!==n}function xi(n){return Kn(()=>({type:n.type,bootstrap:n.bootstrap||de,declarations:n.declarations||de,imports:n.imports||de,exports:n.exports||de,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tm(n,e){if(null==n)return Pn;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function Et(n){return Kn(()=>{const e=Pm(n);return Rm(e),e})}function oe(n){return n[Ha]||null}function ot(n){return n[sd]||null}function Ct(n){return n[od]||null}function qt(n,e){const t=n[_m]||null;if(!t&&!0===e)throw new Error(`Type ${Qe(n)} does not have '\u0275mod' property.`);return t}function Pm(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Pn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||de,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tm(n.inputs,e),outputs:Tm(n.outputs)}}function Rm(n){n.features?.forEach(e=>e(n))}function Ua(n,e){if(!n)return null;const t=e?Ct:Hx;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Ux)}const Oe=0,L=1,J=2,Me=3,yn=4,Gs=5,ft=6,Dr=7,je=8,Mi=9,Sr=10,Y=11,qs=12,Om=13,xr=14,Ve=15,Ys=16,Mr=17,Rn=18,Ks=19,Lm=20,Ii=21,Qn=22,Xs=23,Qs=24,re=25,ld=1,km=2,On=7,Ir=9,at=11;function Nt(n){return Array.isArray(n)&&"object"==typeof n[ld]}function At(n){return Array.isArray(n)&&!0===n[ld]}function cd(n){return 0!=(4&n.flags)}function Xi(n){return n.componentOffset>-1}function za(n){return 1==(1&n.flags)}function bn(n){return!!n.template}function ud(n){return 0!=(512&n[J])}function Qi(n,e){return n.hasOwnProperty(Xn)?n[Xn]:null}let lt=null,Wa=!1;function sn(n){const e=lt;return lt=n,e}const Bm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Vm(n){if(!Js(n)||n.dirty){if(!n.producerMustRecompute(n)&&!$m(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Um(n){n.dirty=!0,function Hm(n){if(void 0===n.liveConsumerNode)return;const e=Wa;Wa=!0;try{for(const t of n.liveConsumerNode)t.dirty||Um(t)}finally{Wa=e}}(n),n.consumerMarkedDirty?.(n)}function hd(n){return n&&(n.nextProducerIndex=0),sn(n)}function fd(n,e){if(sn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Js(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ga(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $m(n){Tr(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Vm(t),i!==t.version))return!0}return!1}function zm(n){if(Tr(n),Js(n))for(let e=0;e<n.producerNode.length;e++)Ga(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ga(n,e){if(function Gm(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Tr(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Ga(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Tr(r),r.producerIndexOfThis[i]=e}}function Js(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Tr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let qm=null;const Qm=()=>{},rM=(()=>({...Bm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Qm}))();class sM{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Pi(){return Zm}function Zm(n){return n.type.prototype.ngOnChanges&&(n.setInput=aM),oM}function oM(){const n=ev(this),e=n?.current;if(e){const t=n.previous;if(t===Pn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function aM(n,e,t,i){const r=this.declaredInputs[t],s=ev(n)||function lM(n,e){return n[Jm]=e}(n,{previous:Pn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new sM(l&&l.currentValue,e,a===Pn),n[i]=e}Pi.ngInherit=!0;const Jm="__ngSimpleChanges__";function ev(n){return n[Jm]||null}const Ln=function(n,e,t){};function De(n){for(;Array.isArray(n);)n=n[Oe];return n}function Ft(n,e){return De(e[n.index])}function iv(n,e){return n.data[e]}function Yt(n,e){const t=e[n];return Nt(t)?t:t[Oe]}function Ri(n,e){return null==e?null:n[e]}function rv(n){n[Mr]=0}function pM(n){1024&n[J]||(n[J]|=1024,ov(n,1))}function sv(n){1024&n[J]&&(n[J]&=-1025,ov(n,-1))}function ov(n,e){let t=n[Me];if(null===t)return;t[Gs]+=e;let i=t;for(t=t[Me];null!==t&&(1===e&&1===i[Gs]||-1===e&&0===i[Gs]);)t[Gs]+=e,i=t,t=t[Me]}const $={lFrame:vv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cv(){return $.bindingsEnabled}function I(){return $.lFrame.lView}function ae(){return $.lFrame.tView}function ct(){let n=uv();for(;null!==n&&64===n.type;)n=n.parent;return n}function uv(){return $.lFrame.currentTNode}function kn(n,e){const t=$.lFrame;t.currentTNode=n,t.isParent=e}function yd(){return $.lFrame.isParent}function Or(){return $.lFrame.bindingIndex++}function MM(n,e){const t=$.lFrame;t.bindingIndex=t.bindingRootIndex=n,_d(e)}function _d(n){$.lFrame.currentDirectiveIndex=n}function pv(){return $.lFrame.currentQueryIndex}function Ed(n){$.lFrame.currentQueryIndex=n}function TM(n){const e=n[L];return 2===e.type?e.declTNode:1===e.type?n[ft]:null}function gv(n,e,t){if(t&ie.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&ie.Host||(r=TM(s),null===r||(s=s[xr],10&r.type))););if(null===r)return!1;e=r,n=s}const i=$.lFrame=mv();return i.currentTNode=e,i.lView=n,!0}function Cd(n){const e=mv(),t=n[L];$.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mv(){const n=$.lFrame,e=null===n?null:n.child;return null===e?vv(n):e}function vv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function yv(){const n=$.lFrame;return $.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const bv=yv;function Ad(){const n=yv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function St(){return $.lFrame.selectedIndex}function Zi(n){$.lFrame.selectedIndex=n}function Ie(){const n=$.lFrame;return iv(n.tView,n.selectedIndex)}let wv=!0;function Ya(){return wv}function Oi(n){wv=n}function Ka(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Xa(n,e,t){Ev(n,e,3,t)}function Qa(n,e,t,i){(3&n[J])===t&&Ev(n,e,t,i)}function Dd(n,e){let t=n[J];(3&t)===e&&(t&=8191,t+=1,n[J]=t)}function Ev(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Mr]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Mr]+=65536),(a<s||-1==s)&&(BM(n,t,e,l),n[Mr]=(4294901760&n[Mr])+l+2),l++}function Cv(n,e){Ln(4,n,e);const t=sn(null);try{e.call(n)}finally{sn(t),Ln(5,n,e)}}function BM(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[J]>>13<n[Mr]>>16&&(3&n[J])===e&&(n[J]+=8192,Cv(a,s)):Cv(a,s)}const Lr=-1;class to{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function xd(n){return n!==Lr}function no(n){return 32767&n}function io(n,e){let t=function UM(n){return n>>16}(n),i=e;for(;t>0;)i=i[xr],t--;return i}let Md=!0;function Za(n){const e=Md;return Md=n,e}const Av=255,Dv=5;let $M=0;const Nn={};function Ja(n,e){const t=Sv(n,e);if(-1!==t)return t;const i=e[L];i.firstCreatePass&&(n.injectorIndex=e.length,Id(i.data,n),Id(e,null),Id(i.blueprint,null));const r=el(n,e),s=n.injectorIndex;if(xd(r)){const o=no(r),a=io(r,e),l=a[L].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Id(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Sv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function el(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Lv(r),null===i)return Lr;if(t++,r=r[xr],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Lr}function Td(n,e,t){!function zM(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(zs)&&(i=t[zs]),null==i&&(i=t[zs]=$M++);const r=i&Av;e.data[n+(r>>Dv)]|=1<<r}(n,e,t)}function xv(n,e,t){if(t&ie.Optional||void 0!==n)return n;Xu()}function Mv(n,e,t,i){if(t&ie.Optional&&void 0===i&&(i=null),!(t&(ie.Self|ie.Host))){const r=n[Mi],s=Lt(void 0);try{return r?r.get(e,i,t&ie.Optional):mm(e,i,t&ie.Optional)}finally{Lt(s)}}return xv(i,0,t)}function Iv(n,e,t,i=ie.Default,r){if(null!==n){if(2048&e[J]&&!(i&ie.Self)){const o=function XM(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[J]&&!(512&o[J]);){const a=Tv(s,o,t,i|ie.Self,Nn);if(a!==Nn)return a;let l=s.parent;if(!l){const c=o[Lm];if(c){const u=c.get(t,Nn,i);if(u!==Nn)return u}l=Lv(o),o=o[xr]}s=l}return r}(n,e,t,i,Nn);if(o!==Nn)return o}const s=Tv(n,e,t,i,Nn);if(s!==Nn)return s}return Mv(e,t,i,r)}function Tv(n,e,t,i,r){const s=function qM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(zs)?n[zs]:void 0;return"number"==typeof e?e>=0?e&Av:KM:e}(t);if("function"==typeof s){if(!gv(e,n,i))return i&ie.Host?xv(r,0,i):Mv(e,t,i,r);try{let o;if(o=s(i),null!=o||i&ie.Optional)return o;Xu()}finally{bv()}}else if("number"==typeof s){let o=null,a=Sv(n,e),l=Lr,c=i&ie.Host?e[Ve][ft]:null;for((-1===a||i&ie.SkipSelf)&&(l=-1===a?el(n,e):e[a+8],l!==Lr&&Rv(i,!1)?(o=e[L],a=no(l),e=io(l,e)):a=-1);-1!==a;){const u=e[L];if(Pv(s,a,u.data)){const d=GM(a,e,t,o,i,c);if(d!==Nn)return d}l=e[a+8],l!==Lr&&Rv(i,e[L].data[a+8]===c)&&Pv(s,a,e)?(o=u,a=no(l),e=io(l,e)):a=-1}}return r}function GM(n,e,t,i,r,s){const o=e[L],a=o.data[n+8],u=tl(a,o,t,null==i?Xi(a)&&Md:i!=o&&0!=(3&a.type),r&ie.Host&&s===a);return null!==u?Ji(e,o,u,a):Nn}function tl(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&bn(f)&&f.type===t)return l}return null}function Ji(n,e,t,i){let r=n[t];const s=e.data;if(function jM(n){return n instanceof to}(r)){const o=r;o.resolving&&function hx(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():q(n)}(s[t]));const a=Za(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Lt(o.injectImpl):null;gv(n,i,ie.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function FM(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=Zm(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Lt(c),Za(a),o.resolving=!1,bv()}}return r}function Pv(n,e,t){return!!(t[e+(n>>Dv)]&1<<n)}function Rv(n,e){return!(n&ie.Self||n&ie.Host&&e)}class xt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Iv(this._tNode,this._lView,e,ja(i),t)}}function KM(){return new xt(ct(),I())}function Pd(n){return Yu(n)?()=>{const e=Pd(z(n));return e&&e()}:Qi(n)}function Lv(n){const e=n[L],t=e.type;return 2===t?e.declTNode:1===t?n[ft]:null}const Nr="__parameters__";function Br(n,e,t){return Kn(()=>{const i=function Rd(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Nr)?l[Nr]:Object.defineProperty(l,Nr,{value:[]})[Nr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Vr(n,e){n.forEach(t=>Array.isArray(t)?Vr(t,e):e(t))}function Nv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function il(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}const sl=$s(Br("Optional"),8),ol=$s(Br("SkipSelf"),4);function dl(n){return 128==(128&n.flags)}var Li=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Li||{});const Bd=new Map;let xI=0;const Vd="__ngContext__";function pt(n,e){Nt(e)?(n[Vd]=e[Ks],function II(n){Bd.set(n[Ks],n)}(e)):n[Vd]=e}let Hd;function Ud(n,e){return Hd(n,e)}function co(n){const e=n[Me];return At(e)?e[Me]:e}function iy(n){return sy(n[qs])}function ry(n){return sy(n[yn])}function sy(n){for(;null!==n&&!At(n);)n=n[yn];return n}function zr(n,e,t,i,r){if(null!=i){let s,o=!1;At(i)?s=i:Nt(i)&&(o=!0,i=i[Oe]);const a=De(i);0===n&&null!==t?null==r?cy(e,t,a):er(e,t,a,r||null,!0):1===n&&null!==t?er(e,t,a,r||null,!0):2===n?function yl(n,e,t){const i=ml(n,e);i&&function YI(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function QI(n,e,t,i,r){const s=t[On];s!==De(t)&&zr(e,n,i,s,r);for(let a=at;a<t.length;a++){const l=t[a];ho(l[L],l,n,e,i,s)}}(e,n,s,t,r)}}function pl(n,e,t){return n.createElement(e,t)}function ay(n,e){const t=n[Ir],i=t.indexOf(e);sv(e),t.splice(i,1)}function gl(n,e){if(n.length<=at)return;const t=at+e,i=n[t];if(i){const r=i[Ys];null!==r&&r!==n&&ay(r,i),e>0&&(n[t-1][yn]=i[yn]);const s=il(n,at+e);!function VI(n,e){ho(n,e,e[Y],2,null,null),e[Oe]=null,e[ft]=null}(i[L],i);const o=s[Rn];null!==o&&o.detachView(s[L]),i[Me]=null,i[yn]=null,i[J]&=-129}return i}function zd(n,e){if(!(256&e[J])){const t=e[Y];e[Xs]&&zm(e[Xs]),e[Qs]&&zm(e[Qs]),t.destroyNode&&ho(n,e,t,3,null,null),function $I(n){let e=n[qs];if(!e)return Wd(n[L],n);for(;e;){let t=null;if(Nt(e))t=e[qs];else{const i=e[at];i&&(t=i)}if(!t){for(;e&&!e[yn]&&e!==n;)Nt(e)&&Wd(e[L],e),e=e[Me];null===e&&(e=n),Nt(e)&&Wd(e[L],e),t=e&&e[yn]}e=t}}(e)}}function Wd(n,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function qI(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof to)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Ln(4,a,l);try{l.call(a)}finally{Ln(5,a,l)}}else{Ln(4,r,s);try{s.call(r)}finally{Ln(5,r,s)}}}}}(n,e),function GI(n,e){const t=n.cleanup,i=e[Dr];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[Dr]=null);const r=e[Ii];if(null!==r){e[Ii]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[L].type&&e[Y].destroy();const t=e[Ys];if(null!==t&&At(e[Me])){t!==e[Me]&&ay(t,e);const i=e[Rn];null!==i&&i.detachView(n)}!function TI(n){Bd.delete(n[Ks])}(e)}}function Gd(n,e,t){return function ly(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Oe];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===mn.None||s===mn.Emulated)return null}return Ft(i,t)}}(n,e.parent,t)}function er(n,e,t,i,r){n.insertBefore(e,t,i,r)}function cy(n,e,t){n.appendChild(e,t)}function uy(n,e,t,i,r){null!==i?er(n,e,t,i,r):cy(n,e,t)}function ml(n,e){return n.parentNode(e)}let qd,Qd,_l,fy=function hy(n,e,t){return 40&n.type?Ft(n,t):null};function vl(n,e,t,i){const r=Gd(n,i,e),s=e[Y],a=function dy(n,e,t){return fy(n,e,t)}(i.parent||e[ft],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)uy(s,r,t[l],a,!1);else uy(s,r,t,a,!1);void 0!==qd&&qd(s,i,e,t,r)}function uo(n,e){if(null!==e){const t=e.type;if(3&t)return Ft(e,n);if(4&t)return Yd(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return uo(n,i);{const r=n[e.index];return At(r)?Yd(-1,r):De(r)}}if(32&t)return Ud(e,n)()||De(n[e.index]);{const i=gy(n,e);return null!==i?Array.isArray(i)?i[0]:uo(co(n[Ve]),i):uo(n,e.next)}}return null}function gy(n,e){return null!==e?n[Ve][ft].projection[e.projection]:null}function Yd(n,e){const t=at+n+1;if(t<e.length){const i=e[t],r=i[L].firstChild;if(null!==r)return uo(i,r)}return e[On]}function Kd(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&pt(De(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)Kd(n,e,t.child,i,r,s,!1),zr(e,n,r,a,s);else if(32&l){const c=Ud(t,i);let u;for(;u=c();)zr(e,n,r,u,s);zr(e,n,r,a,s)}else 16&l?vy(n,e,i,t,r,s):zr(e,n,r,a,s);t=o?t.projectionNext:t.next}}function ho(n,e,t,i,r,s){Kd(t,i,n.firstChild,e,r,s,!1)}function vy(n,e,t,i,r,s){const o=t[Ve],l=o[ft].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)zr(e,n,r,l[c],s);else{let c=l;const u=o[Me];dl(i)&&(c.flags|=128),Kd(n,e,c,u,r,s,!0)}}function yy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function by(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&ad(n,e,i),null!==r&&yy(n,e,r),null!==s&&function JI(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Ey(n){return function Zd(){if(void 0===_l&&(_l=null,Ae.trustedTypes))try{_l=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _l}()?.createScriptURL(n)||n}class Cy{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hm})`}}function ki(n){return n instanceof Cy?n.changingThisBreaksApplicationSecurity:n}function fo(n,e){const t=function cT(n){return n instanceof Cy&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${hm})`)}return t===e}const fT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qr||{});function Ty(n){const e=go();return e?e.sanitize(qr.URL,n)||"":fo(n,"URL")?ki(n):function Jd(n){return(n=String(n)).match(fT)?n:"unsafe:"+n}(q(n))}function Py(n){const e=go();if(e)return Ey(e.sanitize(qr.RESOURCE_URL,n)||"");if(fo(n,"ResourceURL"))return Ey(ki(n));throw new R(904,!1)}function go(){const n=I();return n&&n[Sr].sanitizer}const mo=new B("ENVIRONMENT_INITIALIZER"),Oy=new B("INJECTOR",-1),Ly=new B("INJECTOR_DEF_TYPES");class ih{get(e,t=Us){if(t===Us){const i=new Error(`NullInjectorError: No provider for ${Qe(e)}!`);throw i.name="NullInjectorError",i}return t}}function ST(...n){return{\u0275providers:Ny(0,n),\u0275fromNgModule:!0}}function Ny(n,...e){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return Vr(e,o=>{const a=o;El(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Fy(r,s),t}function Fy(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];rh(r,s=>{e(s,i)})}}function El(n,e,t,i){if(!(n=z(n)))return!1;let r=null,s=Na(n);const o=!s&&oe(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=Na(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)El(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Vr(s.imports,u=>{El(u,e,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Fy(c,e)}if(!a){const c=Qi(r)||(()=>new r);e({provide:r,useFactory:c,deps:de},r),e({provide:Ly,useValue:r,multi:!0},r),e({provide:mo,useValue:()=>V(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;rh(l,u=>{e(u,c)})}}}return r!==n&&void 0!==n.providers}function rh(n,e){for(let t of n)Ku(t)&&(t=t.\u0275providers),Array.isArray(t)?rh(t,e):e(t)}const xT=ve({provide:String,useValue:ve});function sh(n){return null!==n&&"object"==typeof n&&xT in n}function tr(n){return"function"==typeof n}const oh=new B("Set Injector scope."),Cl={},IT={};let ah;function Al(){return void 0===ah&&(ah=new ih),ah}class an{}class Yr extends an{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(e,o=>this.processProvider(o)),this.records.set(Oy,Kr(void 0,this)),r.has("environment")&&this.records.set(an,Kr(void 0,this));const s=this.records.get(oh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ly.multi,de,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Si(this),i=Lt(void 0);try{return e()}finally{Si(t),Lt(i)}}get(e,t=Us,i=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wm))return e[wm](this);i=ja(i);const s=Si(this),o=Lt(void 0);try{if(!(i&ie.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function LT(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&ka(e);l=c&&this.injectableDefInScope(c)?Kr(lh(e),Cl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&ie.Self?Al():this.parent).get(e,t=i&ie.Optional&&t===Us?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ba]=a[Ba]||[]).unshift(Qe(e)),s)throw a;return function xx(n,e,t,i){const r=n[Ba];throw e[ym]&&r.unshift(e[ym]),n.message=function Mx(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Qe(e);if(Array.isArray(e))r=e.map(Qe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Qe(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Ex,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ba]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Lt(o),Si(s)}}resolveInjectorInitializers(){const e=Si(this),t=Lt(void 0);try{const r=this.get(mo.multi,de,ie.Self);for(const s of r)s()}finally{Si(e),Lt(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Qe(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let t=tr(e=z(e))?e:z(e&&e.provide);const i=function PT(n){return sh(n)?Kr(void 0,n.useValue):Kr(function Vy(n,e,t){let i;if(tr(n)){const r=z(n);return Qi(r)||lh(r)}if(sh(n))i=()=>z(n.useValue);else if(function jy(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...rd(n.deps||[]));else if(function By(n){return!(!n||!n.useExisting)}(n))i=()=>V(z(n.useExisting));else{const r=z(n&&(n.useClass||n.provide));if(!function RT(n){return!!n.deps}(n))return Qi(r)||lh(r);i=()=>new r(...rd(n.deps))}return i}(n),Cl)}(e);if(tr(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Kr(void 0,Cl,!0),r.factory=()=>rd(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Cl&&(t.value=IT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function OT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=z(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function lh(n){const e=ka(n),t=null!==e?e.factory:Qi(n);if(null!==t)return t;if(n instanceof B)throw new R(204,!1);if(n instanceof Function)return function TT(n){const e=n.length;if(e>0)throw function oo(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new R(204,!1);const t=function yx(n){return n&&(n[Fa]||n[pm])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new R(204,!1)}function Kr(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ch(n,e){for(const t of n)Array.isArray(t)?ch(t,e):t&&Ku(t)?ch(t.\u0275providers,e):e(t)}const Dl=new B("AppId",{providedIn:"root",factory:()=>kT}),kT="ng",Hy=new B("Platform Initializer"),Xr=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uy=new B("CSP nonce",{providedIn:"root",factory:()=>function Gr(){if(void 0!==Qd)return Qd;if(typeof document<"u")return document;throw new R(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $y=(n,e,t)=>null;function vh(n,e,t=!1){return $y(n,e,t)}class WT{}class Gy{}class qT{resolveComponentFactory(e){throw function GT(n){const e=Error(`No component factory found for ${Qe(n)}.`);return e.ngComponent=n,e}(e)}}let Pl=(()=>{class n{static{this.NULL=new qT}}return n})();function YT(){return Jr(ct(),I())}function Jr(n,e){return new ti(Ft(n,e))}let ti=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=YT}}return n})();function KT(n){return n instanceof ti?n.nativeElement:n}class Yy{}let Rl=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function XT(){const n=I(),t=Yt(ct().index,n);return(Nt(t)?t:n)[Y]}()}}return n})(),QT=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();class Ol{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ZT=new Ol("16.2.12"),_h={};function Zy(n,e=null,t=null,i){const r=Jy(n,e,t,i);return r.resolveInjectorInitializers(),r}function Jy(n,e=null,t=null,i,r=new Set){const s=[t||de,ST(n)];return i=i||("object"==typeof n?void 0:Qe(n)),new Yr(s,e||Al(),i||null,r)}let ln=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Us}static{this.NULL=new ih}static create(t,i){if(Array.isArray(t))return Zy({name:""},i,t,"");{const r=t.name??"";return Zy({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>V(Oy)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Eh(n){return n.ngOriginalError}class ni{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Eh(e);for(;t&&Eh(t);)t=Eh(t);return t||null}}function Ch(n){return e=>{setTimeout(n,void 0,e)}}const Le=class oP extends tn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ch(s),r&&(r=Ch(r)),o&&(o=Ch(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ot&&e.add(a),a}};function tb(...n){}class we{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function aP(){const n="function"==typeof Ae.requestAnimationFrame;let e=Ae[n?"requestAnimationFrame":"setTimeout"],t=Ae[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function uP(n){const e=()=>{!function cP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ae,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Dh(n),n.isCheckStableRunning=!0,Ah(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Dh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function hP(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return nb(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),ib(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return nb(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),ib(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Dh(n),Ah(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!we.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(we.isInAngularZone())throw new R(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,lP,tb,tb);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const lP={};function Ah(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function nb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ib(n){n._nesting--,Ah(n)}class dP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const rb=new B("",{providedIn:"root",factory:sb});function sb(){const n=N(we);let e=!0;return function lx(...n){const e=Hs(n),t=function tx(n,e){return"number"==typeof zu(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Wt(i[0]):Er(t)(Xe(i,e)):In}(new $e(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new $e(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{we.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(dm()))}function ii(n){return n instanceof Function?n():n}let Sh=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();function bo(n){for(;n;){n[J]|=64;const e=co(n);if(ud(n)&&!e)return n;n=e}return null}const ub=new B("",{providedIn:"root",factory:()=>!1});let Nl=null;function pb(n,e){return n[e]??vb()}function gb(n,e){const t=vb();t.producerNode?.length&&(n[e]=Nl,t.lView=n,Nl=mb())}const EP={...Bm,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{bo(n.lView)},lView:null};function mb(){return Object.create(EP)}function vb(){return Nl??=mb(),Nl}const X={};function xh(n){yb(ae(),I(),St()+n,!1)}function yb(n,e,t,i){if(!i)if(3==(3&e[J])){const s=n.preOrderCheckHooks;null!==s&&Xa(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Qa(e,s,0,t)}Zi(t)}function j(n,e=ie.Default){const t=I();return null===t?V(n,e):Iv(ct(),t,z(n),e)}function Fl(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Oe]=r,d[J]=140|i,(null!==c||n&&2048&n[J])&&(d[J]|=2048),rv(d),d[Me]=d[xr]=n,d[je]=t,d[Sr]=o||n&&n[Sr],d[Y]=a||n&&n[Y],d[Mi]=l||n&&n[Mi]||null,d[ft]=s,d[Ks]=function MI(){return xI++}(),d[Qn]=u,d[Lm]=c,d[Ve]=2==e.type?n[Ve]:d,d}function ns(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Mh(n,e,t,i,r){const s=uv(),o=yd(),l=n.data[e]=function TP(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return function Rr(){return null!==$.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function xM(){return $.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function eo(){const n=$.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return kn(s,!0),s}function _o(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function _b(n,e,t,i,r){const s=pb(e,Xs),o=St(),a=2&i;try{Zi(-1),a&&e.length>re&&yb(n,e,re,!1),Ln(a?2:0,r);const c=a?s:null,u=hd(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{fd(c,u)}}finally{a&&null===e[Xs]&&gb(e,Xs),Zi(o),Ln(a?3:1,r)}}function Ih(n,e,t){if(cd(e)){const i=sn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{sn(i)}}}function wb(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Rh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Rh(n,e,t,i,r,s,o,a,l,c,u){const d=re+i,h=d+r,f=function AP(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:X);return t}(d,h),p="function"==typeof c?c():c;return f[L]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let Eb=n=>null;function Cb(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?Ab(t,e,r,s):i.hasOwnProperty(r)&&Ab(t,e,i[r],s)}return t}function Ab(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Db(n,e,t,i,r,s){for(let c=0;c<i.length;c++)Td(Ja(t,e),n,i[c].type);!function UP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=_o(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Ws(t.mergedAttrs,u.hostAttrs),$P(n,t,e,l,u),HP(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function PP(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=Cb(d.inputs,u,l,h?h.inputs:null),c=Cb(d.outputs,u,c,p);const g=null===l||null===o||xm(e)?null:GP(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function Sb(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function IM(){return $.lFrame.currentDirectiveIndex}();try{Zi(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];_d(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&BP(l,c)}}finally{Zi(-1),_d(o)}}function BP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Lh(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function HP(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;bn(e)&&(t[""]=n)}}function $P(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Qi(r.type)),o=new to(s,bn(r),j);n.blueprint[i]=o,t[i]=o,function kP(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function NP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,_o(n,t,r.hostVars,X),r)}function Fn(n,e,t,i,r,s){const o=Ft(n,e);!function kh(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?q(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[Y],o,s,n.value,t,i,r)}function WP(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)xb(i,t,o[a++],o[a++],o[a++])}function xb(n,e,t,i,r){const s=sn(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{sn(s)}}function GP(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Ib(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];Ed(t[i]),o.contentQueries(2,e[s],s)}}}function Bl(n,e){return n[qs]?n[Om][yn]=e:n[qs]=e,n[Om]=e,e}function Nh(n,e,t){Ed(0);const i=sn(null);try{e(n,t)}finally{sn(i)}}function Tb(n){return n[Dr]||(n[Dr]=[])}function Pb(n){return n.cleanup||(n.cleanup=[])}function Ob(n,e){const t=n[Mi],i=t?t.get(ni,null):null;i&&i.handleError(e)}function Fh(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];xb(n.data[o],e[o],i,a,r)}}function qP(n,e){const t=Yt(e,n),i=t[L];!function YP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Oe];null!==r&&null===t[Qn]&&(t[Qn]=vh(r,t[Mi])),Bh(i,t,t[je])}function Bh(n,e,t){Cd(e);try{const i=n.viewQuery;null!==i&&Nh(1,i,t);const r=n.template;null!==r&&_b(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ib(n,e),n.staticViewQueries&&Nh(2,n.viewQuery,t);const s=n.components;null!==s&&function KP(n,e){for(let t=0;t<e.length;t++)qP(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[J]&=-5,Ad()}}let Lb=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function iM(n,e,t){const i=Object.create(rM);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>Um(i),run:()=>{if(i.dirty=!1,i.hasRun&&!$m(i))return;i.hasRun=!0;const o=hd(i);try{i.cleanupFn(),i.cleanupFn=Qm,i.fn(r)}finally{fd(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();function jl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Gu(r,a):2==s&&(i=Gu(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function wo(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&i.push(De(s)),At(s)&&kb(s,i);const o=t.type;if(8&o)wo(n,e,t.child,i);else if(32&o){const a=Ud(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=gy(e,t);if(Array.isArray(a))i.push(...a);else{const l=co(e[Ve]);wo(l[L],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function kb(n,e){for(let t=at;t<n.length;t++){const i=n[t],r=i[L].firstChild;null!==r&&wo(i[L],i,r,e)}n[On]!==n[Oe]&&e.push(n[On])}function Vl(n,e,t,i=!0){const r=e[Sr],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{Nb(n,e,n.template,t)}catch(l){throw i&&Ob(e,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function Nb(n,e,t,i){const r=e[J];if(256!=(256&r)){e[Sr].effectManager?.flush(),Cd(e);try{rv(e),function hv(n){return $.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&_b(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Xa(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Qa(e,c,0,null),Dd(e,0)}if(function ZP(n){for(let e=iy(n);null!==e;e=ry(e)){if(!e[km])continue;const t=e[Ir];for(let i=0;i<t.length;i++){pM(t[i])}}}(e),Fb(e,2),null!==n.contentQueries&&Ib(n,e),o){const c=n.contentCheckHooks;null!==c&&Xa(e,c)}else{const c=n.contentHooks;null!==c&&Qa(e,c,1),Dd(e,1)}!function CP(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=pb(e,Qs);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)Zi(~s);else{const o=s,a=t[++r],l=t[++r];MM(a,o),i.dirty=!1;const c=hd(i);try{l(2,e[o])}finally{fd(i,c)}}}}finally{null===e[Qs]&&gb(e,Qs),Zi(-1)}}(n,e);const a=n.components;null!==a&&jb(e,a,0);const l=n.viewQuery;if(null!==l&&Nh(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Xa(e,c)}else{const c=n.viewHooks;null!==c&&Qa(e,c,2),Dd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[J]&=-73,sv(e)}finally{Ad()}}}function Fb(n,e){for(let t=iy(n);null!==t;t=ry(t))for(let i=at;i<t.length;i++)Bb(t[i],e)}function JP(n,e,t){Bb(Yt(e,n),t)}function Bb(n,e){if(!function hM(n){return 128==(128&n[J])}(n))return;const t=n[L],i=n[J];if(80&i&&0===e||1024&i||2===e)Nb(t,n,t.template,n[je]);else if(n[Gs]>0){Fb(n,1);const r=t.components;null!==r&&jb(n,r,1)}}function jb(n,e,t){for(let i=0;i<e.length;i++)JP(n,e[i],t)}class Eo{get rootNodes(){const e=this._lView,t=e[L];return wo(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[je]}set context(e){this._lView[je]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Me];if(At(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(gl(e,i),il(t,i))}this._attachedToViewContainer=!1}zd(this._lView[L],this._lView)}onDestroy(e){!function av(n,e){if(256==(256&n[J]))throw new R(911,!1);null===n[Ii]&&(n[Ii]=[]),n[Ii].push(e)}(this._lView,e)}markForCheck(){bo(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){Vl(this._lView[L],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UI(n,e){ho(n,e,e[Y],2,null,null)}(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class e1 extends Eo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Vl(e[L],e,e[je],!1)}checkNoChanges(){}get context(){return null}}class Vb extends Pl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new Co(t,this.ngModule)}}function Hb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class n1{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ja(i);const r=this.injector.get(e,_h,i);return r!==_h||t===_h?r:this.parentInjector.get(e,t,i)}}class Co extends Gy{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=Hb(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Hb(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Bx(n){return n.map(Fx).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof an?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new n1(e,s):e,a=o.get(Yy,null);if(null===a)throw new R(407,!1);const d={rendererFactory:a,sanitizer:o.get(QT,null),effectManager:o.get(Lb,null),afterRenderEventManager:o.get(Sh,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function DP(n,e,t,i){const s=i.get(ub,!1)||t===mn.ShadowDom,o=n.selectRootElement(e,s);return function SP(n){Eb(n)}(o),o}(h,i,this.componentDef.encapsulation,o):pl(h,f,function t1(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),m=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=vh(p,o,!0));const b=Rh(0,null,null,1,0,null,null,null,null,null,null),_=Fl(null,b,null,m,null,null,d,h,o,null,y);let w,S;Cd(_);try{const x=this.componentDef;let T,C=null;x.findHostDirectiveDefs?(T=[],C=new Map,x.findHostDirectiveDefs(x,T,C),T.push(x)):T=[x];const P=function r1(n,e){const t=n[L],i=re;return n[i]=e,ns(t,i,2,"#host",null)}(_,p),k=function s1(n,e,t,i,r,s,o){const a=r[L];!function o1(n,e,t,i){for(const r of n)e.mergedAttrs=Ws(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(jl(e,e.mergedAttrs,!0),null!==t&&by(i,t,e))}(i,n,e,o);let l=null;null!==e&&(l=vh(e,r[Mi]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Fl(r,wb(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Lh(a,n,i.length-1),Bl(r,d),r[n.index]=d}(P,p,x,T,_,d,h);S=iv(b,re),p&&function l1(n,e,t,i){if(i)ad(n,t,["ng-version",ZT.full]);else{const{attrs:r,classes:s}=function jx(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!vn(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&ad(n,t,r),s&&s.length>0&&yy(n,t,s.join(" "))}}(h,x,p,i),void 0!==t&&function c1(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(S,this.ngContentSelectors,t),w=function a1(n,e,t,i,r,s){const o=ct(),a=r[L],l=Ft(o,r);Db(a,r,o,t,null,i);for(let u=0;u<t.length;u++)pt(Ji(r,a,o.directiveStart+u,o),r);Sb(a,r,o),l&&pt(l,r);const c=Ji(r,a,o.directiveStart+o.componentOffset,o);if(n[je]=r[je]=c,null!==s)for(const u of s)u(c,e);return Ih(a,o,n),c}(k,x,T,C,_,[u1]),Bh(b,_,null)}finally{Ad()}return new i1(this.componentType,w,Jr(S,_),_,S)}}class i1 extends WT{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new e1(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Fh(s[L],s,r,e,t),this.previousInputValues.set(e,t),bo(Yt(this._tNode.index,s))}}get injector(){return new xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function u1(){const n=ct();Ka(I()[L],n)}function qb(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function Ul(n){return!!jh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function jh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Vh(n,e,t,i){const r=I();return gt(r,Or(),e)&&(ae(),Fn(Ie(),r,n,e,t,i)),Vh}function ql(n,e,t){const i=I();return gt(i,Or(),e)&&function Xt(n,e,t,i,r,s,o,a){const l=Ft(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(Fh(n,t,u,i,r),Xi(e)&&function OP(n,e){const t=Yt(e,n);16&t[J]||(t[J]|=64)}(t,e.index)):3&e.type&&(i=function RP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}(ae(),Ie(),i,n,e,i[Y],t,!1),ql}function Gh(n,e,t,i,r){const o=r?"class":"style";Fh(n,t,e.inputs[o],o,i)}function A(n,e,t,i){const r=I(),s=ae(),o=re+n,a=r[Y],l=s.firstCreatePass?function W1(n,e,t,i,r,s){const o=e.consts,l=ns(e,n,2,i,Ri(o,r));return function Oh(n,e,t,i){if(cv()){const r=null===i?null:{"":-1},s=function jP(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Mm(e,o.selectors,!1))if(i||(i=[]),bn(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Lh(n,e,a.length)}else i.unshift(o),Lh(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Db(n,e,t,o,r,a),r&&function VP(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new R(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Ws(t.mergedAttrs,t.attrs)}(e,t,l,Ri(o,s)),null!==l.attrs&&jl(l,l.attrs,!1),null!==l.mergedAttrs&&jl(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=l_(s,r,l,a,e,n);r[o]=c;const u=za(l);return kn(l,!0),by(a,c,l),32!=(32&l.flags)&&Ya()&&vl(s,r,c,l),0===function mM(){return $.lFrame.elementDepthCount}()&&pt(c,r),function vM(){$.lFrame.elementDepthCount++}(),u&&(function Th(n,e,t){cv()&&(function FP(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;Xi(t)&&function zP(n,e,t){const i=Ft(e,n),r=wb(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Bl(n,Fl(n,r,null,o,i,e,null,n[Sr].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ja(t,e),pt(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Ji(e,n,a,t);pt(c,e),null!==o&&WP(0,a-r,c,l,0,o),bn(l)&&(Yt(t.index,e)[je]=Ji(e,n,a,t))}}(n,e,t,Ft(t,e)),64==(64&t.flags)&&Sb(n,e,t))}(s,r,l),Ih(s,l,r)),null!==i&&function Ph(n,e,t=Ft){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}(r,l),A}function D(){let n=ct();yd()?function bd(){$.lFrame.isParent=!1}():(n=n.parent,kn(n,!1));const e=n;(function bM(n){return $.skipHydrationRootTNode===n})(e)&&function CM(){$.skipHydrationRootTNode=null}(),function yM(){$.lFrame.elementDepthCount--}();const t=ae();return t.firstCreatePass&&(Ka(t,n),cd(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function VM(n){return 0!=(8&n.flags)}(e)&&Gh(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HM(n){return 0!=(16&n.flags)}(e)&&Gh(t,e,I(),e.stylesWithoutHost,!1),D}function Je(n,e,t,i){return A(n,e,t,i),D(),Je}let l_=(n,e,t,i,r,s)=>(Oi(!0),pl(i,r,function _v(){return $.lFrame.currentNamespace}()));function Yl(n){return!!n&&"function"==typeof n.then}function d_(n){return!!n&&"function"==typeof n.subscribe}function Kl(n,e,t,i){const r=I(),s=ae(),o=ct();return function f_(n,e,t,i,r,s,o){const a=za(i),c=n.firstCreatePass&&Pb(n),u=e[je],d=Tb(e);let h=!0;if(3&i.type||o){const g=Ft(i,e),v=o?o(g):g,m=d.length,y=o?_=>o(De(_[i.index])):i.index;let b=null;if(!o&&a&&(b=function Z1(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[Dr],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=g_(i,e,u,s,!1);const _=t.listen(v,r,s);d.push(s,_),c&&c.push(r,y,m,m+1)}}else s=g_(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const w=e[p[v]][p[v+1]].subscribe(s),S=d.length;d.push(s,w),c&&c.push(r,i.index,S,-(S+1))}}}(s,r,r[Y],o,n,e,i),Kl}function p_(n,e,t,i){try{return Ln(6,e,t),!1!==t(i)}catch(r){return Ob(n,r),!1}finally{Ln(7,e,t)}}function g_(n,e,t,i,r){return function s(o){if(o===Function)return i;bo(n.componentOffset>-1?Yt(n.index,e):e);let l=p_(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=p_(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function E(n,e=""){const t=I(),i=ae(),r=n+re,s=i.firstCreatePass?ns(i,r,1,e,null):i.data[r],o=V_(i,t,s,e,n);t[r]=o,Ya()&&vl(i,t,o,s),kn(s,!1)}let V_=(n,e,t,i,r)=>(Oi(!0),function fl(n,e){return n.createText(e)}(e[Y],i));const ps="en-US";let cw=ps;class sr{}class kw{}class cf extends sr{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vb(this);const r=qt(e);this._bootstrapComponents=ii(r.bootstrap),this._r3Injector=Jy(e,t,[{provide:sr,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver},...i],Qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uf extends kw{constructor(e){super(),this.moduleType=e}create(e){return new cf(this.moduleType,e,[])}}class Nw extends sr{constructor(e){super(),this.componentFactoryResolver=new Vb(this),this.instance=null;const t=new Yr([...e.providers,{provide:sr,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver}],e.parent||Al(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function df(n,e,t=null){return new Nw({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let KO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Ny(0,t.type),r=i.length>0?df([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(V(an))})}}return n})();function Fw(n){n.getStandaloneInjector=e=>e.get(KO).getOrCreateStandaloneInjector(n)}function zw(n,e,t,i){return function Ww(n,e,t,i,r,s){const o=e+t;return gt(n,o,r)?function Bn(n,e,t){return n[e]=t}(n,o+1,s?i.call(s,r):i(r)):function Lo(n,e){const t=n[e];return t===X?void 0:t}(n,o+1)}(I(),function Dt(){const n=$.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function _L(){return this._results[Symbol.iterator]()}class ff{get changes(){return this._changes||(this._changes=new Le)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ff.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=_L)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function on(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function tI(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function EL(n,e,t,i=!0){const r=e[L];if(function zI(n,e,t,i){const r=at+i,s=t.length;i>0&&(t[r-1][yn]=e),i<s-at?(e[yn]=t[r],Nv(t,at+i,e)):(t.push(e),e[yn]=null),e[Me]=t;const o=e[Ys];null!==o&&t!==o&&function WI(n,e){const t=n[Ir];e[Ve]!==e[Me][Me][Ve]&&(n[km]=!0),null===t?n[Ir]=[e]:t.push(e)}(o,e);const a=e[Rn];null!==a&&a.insertView(n),e[J]|=128}(r,e,n,t),i){const s=Yd(t,n),o=e[Y],a=ml(o,n[On]);null!==a&&function HI(n,e,t,i,r,s){i[Oe]=r,i[ft]=e,ho(n,i,t,1,r,s)}(r,n[ft],o,e,a,s)}}let si=(()=>{class n{static{this.__NG_ELEMENT_ID__=DL}}return n})();const CL=si,AL=class extends CL{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function wL(n,e,t,i){const r=e.tView,a=Fl(n,r,t,4096&n[J]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Ys]=n[e.index];const c=n[Rn];return null!==c&&(a[Rn]=c.createEmbeddedView(r)),Bh(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Eo(r)}};function DL(){return nc(ct(),I())}function nc(n,e){return 4&n.type?new AL(e,n,Jr(n,e)):null}let En=(()=>{class n{static{this.__NG_ELEMENT_ID__=PL}}return n})();function PL(){return n0(ct(),I())}const RL=En,e0=class extends RL{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Jr(this._hostTNode,this._hostLView)}get injector(){return new xt(this._hostTNode,this._hostLView)}get parentInjector(){const e=el(this._hostTNode,this._hostLView);if(xd(e)){const t=io(e,this._hostLView),i=no(e);return new xt(t[L].data[i+8],t)}return new xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=t0(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,s){const o=e&&!function so(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Co(oe(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const v=(o?c:this.parentInjector).get(an,null);v&&(s=v)}oe(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function fM(n){return At(n[Me])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[Me],u=new e0(c,c[ft],c[Me]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return EL(a,r,o,!i),e.attachToViewContainerRef(),Nv(pf(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=t0(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=gl(this._lContainer,t);i&&(il(pf(this._lContainer),t),zd(i[L],i))}detach(e){const t=this._adjustIndex(e,-1),i=gl(this._lContainer,t);return i&&null!=il(pf(this._lContainer),t)?new Eo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function t0(n){return n[8]}function pf(n){return n[8]||(n[8]=[])}function n0(n,e){let t;const i=e[n.index];return At(i)?t=i:(t=function Mb(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}(i,e,null,n),e[n.index]=t,Bl(e,t)),r0(t,e,n,i),new e0(t,n,e)}let r0=function s0(n,e,t,i){if(n[On])return;let r;r=8&t.type?De(i):function OL(n,e){const t=n[Y],i=t.createComment(""),r=Ft(e,n);return er(t,ml(t,r),i,function KI(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[On]=r};class gf{constructor(e){this.queryList=e,this.matches=null}clone(){return new gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class mf{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new mf(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==h0(e,t).matches&&this.queries[t].setDirty()}}class o0{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class vf{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new vf(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class yf{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new yf(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,NL(t,s)),this.matchTNodeWithReadOption(e,t,tl(t,e,s,!1,!1))}else i===si?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,tl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ti||r===En||r===si&&4&t.type)this.addMatch(t.index,-2);else{const s=tl(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function NL(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function BL(n,e,t,i){return-1===t?function FL(n,e){return 11&n.type?Jr(n,e):4&n.type?nc(n,e):null}(e,n):-2===t?function jL(n,e,t){return t===ti?Jr(e,n):t===si?nc(e,n):t===En?n0(e,n):void 0}(n,e,i):Ji(n,n[L],t,e)}function a0(n,e,t,i){const r=e[Rn].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:BL(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function bf(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=a0(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=at;d<u.length;d++){const h=u[d];h[Ys]===h[Me]&&bf(h[L],h,c,i)}if(null!==u[Ir]){const d=u[Ir];for(let h=0;h<d.length;h++){const f=d[h];bf(f[L],f,c,i)}}}}}return i}function _f(n){const e=I(),t=ae(),i=pv();Ed(i+1);const r=h0(t,i);if(n.dirty&&function dM(n){return 4==(4&n[J])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?bf(t,e,i,[]):a0(t,e,r,i);n.reset(s,KT),n.notifyOnChanges()}return!0}return!1}function l0(n,e,t){const i=ae();i.firstCreatePass&&(function d0(n,e,t){null===n.queries&&(n.queries=new vf),n.queries.track(new yf(e,t))}(i,new o0(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function u0(n,e,t){const i=new ff(4==(4&t));(function IP(n,e,t,i){const r=Tb(e);r.push(t),n.firstCreatePass&&Pb(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Rn]&&(e[Rn]=new mf),e[Rn].queries.push(new gf(i))}(i,I(),e)}function h0(n,e){return n.queries.getByIndex(e)}const xf=new B("Application Initializer");let Mf=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=N(xf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(Yl(s))t.push(s);else if(d_(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),I0=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const oi=new B("LocaleId",{providedIn:"root",factory:()=>N(oi,ie.Optional|ie.SkipSelf)||function ck(){return typeof $localize<"u"&&$localize.locale||ps}()});let T0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class hk{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let P0=(()=>{class n{compileModuleSync(t){return new uf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=ii(qt(t).declarations).reduce((o,a)=>{const l=oe(a);return l&&o.push(new Co(l)),o},[]);return new hk(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const k0=new B(""),oc=new B("");let Of,Pf=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Of||(function Lk(n){Of=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(V(we),V(Rf),V(oc))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Rf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Of?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Fi=null;const N0=new B("AllowMultipleToken"),Lf=new B("PlatformDestroyListeners"),kf=new B("appBootstrapListener");class B0{constructor(e,t){this.name=e,this.token=t}}function V0(n,e,t=[]){const i=`Platform: ${e}`,r=new B(i);return(s=[])=>{let o=Nf();if(!o||o.injector.get(N0,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function Fk(n){if(Fi&&!Fi.get(N0,!1))throw new R(400,!1);(function F0(){!function Zx(n){qm=n}(()=>{throw new R(600,!1)})})(),Fi=n;const e=n.get(U0);(function j0(n){n.get(Hy,null)?.forEach(t=>t())})(n)}(function H0(n=[],e){return ln.create({name:e,providers:[{provide:oh,useValue:"platform"},{provide:Lf,useValue:new Set([()=>Fi=null])},...n]})}(a,i))}return function jk(n){const e=Nf();if(!e)throw new R(401,!1);return e}()}}function Nf(){return Fi?.get(U0)??null}let U0=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Vk(n="zone.js",e){return"noop"===n?new dP:"zone.js"===n?new we(e):n}(i?.ngZone,function $0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function YO(n,e,t){return new cf(n,e,t)}(t.moduleType,this.injector,function Y0(n){return[{provide:we,useFactory:n},{provide:mo,multi:!0,useFactory:()=>{const e=N(Uk,{optional:!0});return()=>e.initialize()}},{provide:q0,useFactory:Hk},{provide:rb,useFactory:sb}]}(()=>r)),o=s.injector.get(ni,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{ac(this._modules,s),a.unsubscribe()})}),function z0(n,e,t){try{const i=t();return Yl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Mf);return a.runInitializers(),a.donePromise.then(()=>(function uw(n){rn(n,"Expected localeId to be defined"),"string"==typeof n&&(cw=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(oi,ps)||ps),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=W0({},i);return function kk(n,e,t){const i=new uf(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(vs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new R(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Lf,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(V(ln))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function W0(n,e){return Array.isArray(e)?e.reduce(W0,n):{...n,...e}}let vs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(q0),this.zoneIsStable=N(rb),this.componentTypes=[],this.components=[],this.isStable=N(T0).hasPendingTasks.pipe(Tn(t=>t?G(!1):this.zoneIsStable),function cx(n,e=Ai){return n=n??ux,ze((t,i)=>{let r,s=!0;t.subscribe(We(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),dm()),this._injector=N(an)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Gy;if(!this._injector.get(Mf).done)throw!r&&function Ar(n){const e=oe(n)||ot(n)||Ct(n);return null!==e&&e.standalone}(t),new R(405,!1);let o;o=r?t:this._injector.get(Pl).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Nk(n){return n.isBoundToModule}(o)?void 0:this._injector.get(sr),c=o.create(ln.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(k0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),ac(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ac(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(kf,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ac(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ac(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const q0=new B("",{providedIn:"root",factory:()=>N(ni).handleError.bind(void 0)});function Hk(){const n=N(we),e=N(ni);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Uk=(()=>{class n{constructor(){this.zone=N(we),this.applicationRef=N(vs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Ff=(()=>{class n{static{this.__NG_ELEMENT_ID__=zk}}return n})();function zk(n){return function Wk(n,e,t){if(Xi(n)&&!t){const i=Yt(n.index,e);return new Eo(i,i)}return 47&n.type?new Eo(e[Ve],e):null}(ct(),I(),16==(16&n))}class J0{constructor(){}supports(e){return Ul(e)}create(e){return new Xk(e)}}const Kk=(n,e)=>e;class Xk{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kk}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<tE(i,r,s)?t:i,a=tE(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ul(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function w1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Qk(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new eE),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Qk{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zk{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class eE{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Zk,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tE(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class nE{constructor(){}supports(e){return e instanceof Map||jh(e)}create(){return new Jk}}class Jk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||jh(e)))throw new R(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new eN(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class eN{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iE(){return new uc([new J0])}let uc=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:iE})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||iE()),deps:[[n,new ol,new sl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new R(901,!1)}}return n})();function rE(){return new Bo([new nE])}let Bo=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:rE})}constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||rE()),deps:[[n,new ol,new sl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new R(901,!1)}}return n})();const iN=V0(null,"core",[]);let rN=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(V(vs))}}static{this.\u0275mod=xi({type:n})}static{this.\u0275inj=Yn({})}}return n})();function $f(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let zf=null;function ys(){return zf}class yN{}const un=new B("DocumentToken");let Wf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return N(_N)},providedIn:"platform"})}}return n})();const bN=new B("Location Initialized");let _N=(()=>{class n extends Wf{constructor(){super(),this._doc=N(un),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ys().getBaseHref(this._doc)}onPopState(t){const i=ys().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ys().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function Gf(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function fE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ai(n){return n&&"?"!==n[0]?"?"+n:n}let ar=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return N(gE)},providedIn:"root"})}}return n})();const pE=new B("appBaseHref");let gE=(()=>{class n extends ar{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gf(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ai(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+ai(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+ai(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(V(Wf),V(pE,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wN=(()=>{class n extends ar{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Gf(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(V(Wf),V(pE,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),qf=(()=>{class n{constructor(t){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function AN(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(fE(mE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ai(i))}normalize(t){return n.stripTrailingSlash(function CN(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,mE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ai(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ai(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ai}static{this.joinWithSlash=Gf}static{this.stripTrailingSlash=fE}static{this.\u0275fac=function(i){return new(i||n)(V(ar))}}static{this.\u0275prov=H({token:n,factory:function(){return function EN(){return new qf(V(ar))}()},providedIn:"root"})}}return n})();function mE(n){return n.replace(/\/index.html$/,"")}const ip=/\s+/,DE=[];let SE=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=DE,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ip):DE}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ip):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(ip).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(j(uc),j(Bo),j(ti),j(Rl))}}static{this.\u0275dir=Et({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),BF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=xi({type:n})}static{this.\u0275inj=Yn({})}}return n})();function OE(n){return"server"===n}let UF=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new $F(V(un),window)})}}return n})();class $F{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zF(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class p2 extends yN{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class up extends p2{static makeCurrent(){!function vN(n){zf||(zf=n)}(new up)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function g2(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}();return null==t?null:function m2(n){Ac=Ac||document.createElement("a"),Ac.setAttribute("href",n);const e=Ac.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ac,Uo=null,y2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();const dp=new B("EventManagerPlugins");let BE=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(V(dp),V(we))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();class jE{constructor(e){this._doc=e}}const hp="ng-app-id";let VE=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=OE(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${hp}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(hp),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(hp,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(V(un),V(Dl),V(Uy,8),V(Xr))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();const fp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pp=/%COMP%/g,E2=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function UE(n,e){return e.map(t=>t.replace(pp,n))}let $E=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=OE(a),this.defaultRenderer=new gp(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===mn.ShadowDom&&(i={...i,encapsulation:mn.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof WE?r.applyToHost(t):r instanceof mp&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case mn.Emulated:s=new WE(l,c,i,this.appId,u,o,a,d);break;case mn.ShadowDom:return new S2(l,c,t,i,o,a,this.nonce,d);default:s=new mp(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(V(BE),V(VE),V(Dl),V(E2),V(un),V(Xr),V(we),V(Uy))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();class gp{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zE(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(zE(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new R(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=fp[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=fp[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Li.DashCase|Li.Important)?e.style.setProperty(t,i,r&Li.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=ys().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zE(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class S2 extends gp{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=UE(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mp extends gp{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?UE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WE extends mp{constructor(e,t,i,r,s,o,a,l){const c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=function C2(n){return"_ngcontent-%COMP%".replace(pp,n)}(c),this.hostAttr=function A2(n){return"_nghost-%COMP%".replace(pp,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let x2=(()=>{class n extends jE{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(V(un))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();const GE=["alt","control","meta","shift"],M2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let T2=(()=>{class n extends jE{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ys().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),GE.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=M2[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),GE.forEach(o=>{o!==r&&(0,I2[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(V(un))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();const L2=V0(iN,"browser",[{provide:Xr,useValue:"browser"},{provide:Hy,useValue:function P2(){up.makeCurrent()},multi:!0},{provide:un,useFactory:function O2(){return function iT(n){Qd=n}(document),document},deps:[]}]),k2=new B(""),KE=[{provide:oc,useClass:class v2{addToWindow(e){Ae.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new R(5103,!1);return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(i=>{const r=Ae.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?ys().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:k0,useClass:Pf,deps:[we,Rf,oc]},{provide:Pf,useClass:Pf,deps:[we,Rf,oc]}],XE=[{provide:oh,useValue:"root"},{provide:ni,useFactory:function R2(){return new ni},deps:[]},{provide:dp,useClass:x2,multi:!0,deps:[un,we,Xr]},{provide:dp,useClass:T2,multi:!0,deps:[un]},$E,VE,BE,{provide:Yy,useExisting:$E},{provide:class WF{},useClass:y2,deps:[]},[]];let N2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Dl,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(V(k2,12))}}static{this.\u0275mod=xi({type:n})}static{this.\u0275inj=Yn({providers:[...XE,...KE],imports:[BF,rN]})}}return n})(),QE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(V(un))}}static{this.\u0275prov=H({token:n,factory:function(i){let r=null;return r=i?new i:function B2(){return new QE(V(un))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:z2}=Array,{getPrototypeOf:W2,prototype:G2,keys:q2}=Object;const{isArray:X2}=Array;function tC(n){return Ce(e=>function Q2(n,e){return X2(e)?n(...e):n(e)}(n,e))}function yp(...n){const e=Hs(n),t=function ex(n){return ue(zu(n))?n.pop():void 0}(n),{args:i,keys:r}=function Y2(n){if(1===n.length){const e=n[0];if(z2(e))return{args:e,keys:null};if(function K2(n){return n&&"object"==typeof n&&W2(n)===G2}(e)){const t=q2(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return Xe([],e);const s=new $e(function J2(n,e,t=Ai){return i=>{nC(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)nC(e,()=>{const c=Xe(n[l],e);let u=!1;c.subscribe(We(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>function Z2(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,o):Ai));return t?s.pipe(tC(t)):s}function nC(n,e,t){n?qn(t,n,e):e()}const Dc=Pu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bp(...n){return function eB(){return Er(1)}()(Xe(n,Hs(n)))}function iC(n){return new $e(e=>{Wt(n()).subscribe(e)})}function $o(n,e){const t=ue(n)?n:()=>n,i=r=>r.error(t());return new $e(e?r=>e.schedule(i,0,r):i)}function _p(){return ze((n,e)=>{let t=null;n._refCount++;const i=We(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class rC extends $e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ot;const t=this.getSubject();e.add(this.source.subscribe(We(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ot.EMPTY)}return e}refCount(){return _p()(this)}}function _s(n){return n<=0?()=>In:ze((e,t)=>{let i=0;e.subscribe(We(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ui(n,e){return ze((t,i)=>{let r=0;t.subscribe(We(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Sc(n){return ze((e,t)=>{let i=!1;e.subscribe(We(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function sC(n=nB){return ze((e,t)=>{let i=!1;e.subscribe(We(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function nB(){return new Dc}function lr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ui((r,s)=>n(r,s,i)):Ai,_s(1),t?Sc(e):sC(()=>new Dc))}function zo(n,e){return ue(e)?st(n,e,1):st(n,1)}function mt(n,e,t){const i=ue(n)||e||t?{next:n,error:e,complete:t}:n;return i?ze((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(We(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ai}function cr(n){return ze((e,t)=>{let s,i=null,r=!1;i=e.subscribe(We(t,void 0,void 0,o=>{s=Wt(n(o,cr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function wp(n){return n<=0?()=>In:ze((e,t)=>{let i=[];e.subscribe(We(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ep(n){return ze((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Te(n){return ze((e,t)=>{Wt(n).subscribe(We(t,()=>t.complete(),Ou)),!t.closed&&e.subscribe(t)})}const ee="primary",Wo=Symbol("RouteTitle");class aB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ws(n){return new aB(n)}function lB(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Hn(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!oC(n[r],e[r]))return!1;return!0}function oC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function aC(n){return n.length>0?n[n.length-1]:null}function ji(n){return function $2(n){return!!n&&(n instanceof $e||ue(n.lift)&&ue(n.subscribe))}(n)?n:Yl(n)?Xe(Promise.resolve(n)):G(n)}const uB={exact:function uC(n,e,t){if(!ur(n.segments,e.segments)||!xc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!uC(n.children[i],e.children[i],t))return!1;return!0},subset:dC},lC={exact:function dB(n,e){return Hn(n,e)},subset:function hB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oC(n[t],e[t]))},ignored:()=>!0};function cC(n,e,t){return uB[t.paths](n.root,e.root,t.matrixParams)&&lC[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dC(n,e,t){return hC(n,e,e.segments,t)}function hC(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ur(r,t)||e.hasChildren()||!xc(r,t,i))}if(n.segments.length===t.length){if(!ur(n.segments,t)||!xc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!dC(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ur(n.segments,r)&&xc(n.segments,r,i)&&n.children[ee])&&hC(n.children[ee],e,s,i)}}function xc(n,e,t){return e.every((i,r)=>lC[t](n[r].parameters,i.parameters))}class Es{constructor(e=new ye([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ws(this.queryParams)),this._queryParamMap}toString(){return gB.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mc(this)}}class Go{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ws(this.parameters)),this._parameterMap}toString(){return gC(this)}}function ur(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let qo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return new Cp},providedIn:"root"})}}return n})();class Cp{parse(e){const t=new SB(e);return new Es(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yo(e.root,!0)}`,i=function yB(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ic(t)}=${Ic(r)}`).join("&"):`${Ic(t)}=${Ic(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function mB(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gB=new Cp;function Mc(n){return n.segments.map(e=>gC(e)).join("/")}function Yo(n,e){if(!n.hasChildren())return Mc(n);if(e){const t=n.children[ee]?Yo(n.children[ee],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ee&&i.push(`${r}:${Yo(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function pB(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ee&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ee&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ee?[Yo(n.children[ee],!1)]:[`${r}:${Yo(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ee]?`${Mc(n)}/${t[0]}`:`${Mc(n)}/(${t.join("//")})`}}function fC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(n){return fC(n).replace(/%3B/gi,";")}function Ap(n){return fC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tc(n){return decodeURIComponent(n)}function pC(n){return Tc(n.replace(/\+/g,"%20"))}function gC(n){return`${Ap(n.path)}${function vB(n){return Object.keys(n).map(e=>`;${Ap(e)}=${Ap(n[e])}`).join("")}(n.parameters)}`}const bB=/^[^\/()?;#]+/;function Dp(n){const e=n.match(bB);return e?e[0]:""}const _B=/^[^\/()?;=#]+/,EB=/^[^=?&#]+/,AB=/^[^&#]+/;class SB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ee]=new ye(e,t)),i}parseSegment(){const e=Dp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new Go(Tc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function wB(n){const e=n.match(_B);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Dp(this.remaining);r&&(i=r,this.capture(i))}e[Tc(t)]=Tc(i)}parseQueryParam(e){const t=function CB(n){const e=n.match(EB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function DB(n){const e=n.match(AB);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=pC(t),s=pC(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Dp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new R(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ee]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}}function mC(n){return n.segments.length>0?new ye([],{[ee]:n}):n}function vC(n){const e={};for(const i of Object.keys(n.children)){const s=vC(n.children[i]);if(i===ee&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function xB(n){if(1===n.numberOfChildren&&n.children[ee]){const e=n.children[ee];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}function dr(n){return n instanceof Es}function yC(n){let e;const r=mC(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new ye(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function bC(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return Sp(r,r,r,t,i);const s=function IB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wC(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new wC(t,e,i)}(e);if(s.toRoot())return Sp(r,r,new ye([],{}),t,i);const o=function TB(n,e,t){if(n.isAbsolute)return new Rc(e,!0,0);if(!t)return new Rc(e,!1,NaN);if(null===t.parent)return new Rc(t,!0,0);const i=Pc(n.commands[0])?0:1;return function PB(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new R(4005,!1);r=i.segments.length}return new Rc(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?Xo(o.segmentGroup,o.index,s.commands):EC(o.segmentGroup,o.index,s.commands);return Sp(r,o.segmentGroup,a,t,i)}function Pc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ko(n){return"object"==typeof n&&null!=n&&n.outlets}function Sp(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:_C(n,e,t);const a=mC(vC(o));return new Es(a,s,r)}function _C(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:_C(s,e,t)}),new ye(n.segments,i)}class wC{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Pc(i[0]))throw new R(4003,!1);const r=i.find(Ko);if(r&&r!==aC(i))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function EC(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Xo(n,e,t);const i=function OB(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Ko(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!AC(l,c,o))return s;i+=2}else{if(!AC(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,i.pathIndex),{});return s.children[ee]=new ye(n.segments.slice(i.pathIndex),n.children),Xo(s,0,r)}return i.match&&0===r.length?new ye(n.segments,{}):i.match&&!n.hasChildren()?xp(n,e,t):i.match?Xo(n,0,r):xp(n,e,t)}function Xo(n,e,t){if(0===t.length)return new ye(n.segments,{});{const i=function RB(n){return Ko(n[0])?n[0].outlets:{[ee]:n}}(t),r={};if(Object.keys(i).some(s=>s!==ee)&&n.children[ee]&&1===n.numberOfChildren&&0===n.children[ee].segments.length){const s=Xo(n.children[ee],e,t);return new ye(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=EC(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new ye(n.segments,r)}}function xp(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Ko(s)){const l=LB(s.outlets);return new ye(i,l)}if(0===r&&Pc(t[0])){i.push(new Go(n.segments[e].path,CC(t[0]))),r++;continue}const o=Ko(s)?s.outlets[ee]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Pc(a)?(i.push(new Go(o,CC(a))),r+=2):(i.push(new Go(o,{})),r++)}return new ye(i,{})}function LB(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=xp(new ye([],{}),0,i))}),e}function CC(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function AC(n,e,t){return n==t.path&&Hn(e,t.parameters)}const Qo="imperative";class Un{constructor(e,t){this.id=e,this.url=t}}class Oc extends Un{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends Un{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zo extends Un{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cs extends Un{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Lc extends Un{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DC extends Un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kB extends Un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NB extends Un{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FB extends Un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BB extends Un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jB{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VB{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HB{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UB{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $B{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zB{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SC{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mp{}class Ip{constructor(e){this.url=e}}class WB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jo,this.attachRef=null}}let Jo=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new WB,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tp(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Tp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Pp(e,this._root).map(t=>t.value)}}function Tp(n,e){if(n===e.value)return e;for(const t of e.children){const i=Tp(n,t);if(i)return i}return null}function Pp(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Pp(n,t);if(i.length)return i.unshift(e),i}return[]}class di{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function As(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class MC extends xC{constructor(e,t){super(e),this.snapshot=t,Rp(this,e)}toString(){return this.snapshot.toString()}}function IC(n,e){const t=function GB(n,e){const o=new kc([],{},{},"",{},ee,e,null,{});return new PC("",new di(o,[]))}(0,e),i=new nn([new Go("",{})]),r=new nn({}),s=new nn({}),o=new nn({}),a=new nn(""),l=new Ds(i,r,o,a,s,ee,e,t.root);return l.snapshot=t.root,new MC(new di(l,[]),t)}class Ds{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ce(c=>c[Wo]))??G(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>ws(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>ws(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TC(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function qB(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class kc{get title(){return this.data?.[Wo]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PC extends xC{constructor(e,t){super(t),this.url=e,Rp(this,t)}toString(){return RC(this._root)}}function Rp(n,e){e.value._routerState=n,e.children.forEach(t=>Rp(n,t))}function RC(n){const e=n.children.length>0?` { ${n.children.map(RC).join(", ")} } `:"";return`${n.value}${e}`}function Op(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hn(e.params,t.params)||n.paramsSubject.next(t.params),function cB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Hn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Lp(n,e){const t=Hn(n.params,e.params)&&function fB(n,e){return ur(n,e)&&n.every((t,i)=>Hn(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Lp(n.parent,e.parent))}let kp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=N(Jo),this.location=N(En),this.changeDetector=N(Ff),this.environmentInjector=N(an),this.inputBinder=N(Nc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new YB(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Et({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pi]})}}return n})();class YB{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ds?this.route:e===Jo?this.childContexts:this.parent.get(e,t)}}const Nc=new B("");let OC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=yp([i.queryParams,i.params,i.data]).pipe(Tn(([s,o,a],l)=>(a={...s,...o,...a},0===l?G(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function mN(n){const e=oe(n);if(!e)return null;const t=new Co(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function ea(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function XB(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ea(n,i,r);return ea(n,i)})}(n,e,t);return new di(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ea(n,a)),o}}const i=function QB(n){return new Ds(new nn(n.url),new nn(n.params),new nn(n.queryParams),new nn(n.fragment),new nn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>ea(n,s));return new di(i,r)}}const Np="ngNavigationCancelingError";function LC(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=dr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=kC(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function kC(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Np]=!0,i.cancellationCode=e,t&&(i.url=t),i}function NC(n){return n&&n[Np]}let FC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["ng-component"]],standalone:!0,features:[Fw],decls:1,vars:0,template:function(i,r){1&i&&Je(0,"router-outlet")},dependencies:[kp],encapsulation:2})}}return n})();function Fp(n){const e=n.children&&n.children.map(Fp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=FC),t}function Dn(n){return n.outlet||ee}function ta(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sj{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Op(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=As(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=As(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=As(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=As(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new zB(s.value.snapshot))}),e.children.length&&this.forwardEvent(new UB(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Op(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Op(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ta(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class BC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fc{constructor(e,t){this.component=e,this.route=t}}function oj(n,e,t){const i=n._root;return na(i,e?e._root:null,t,[i.value])}function Ss(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function vx(n){return null!==ka(n)}(n)?e.get(n):n:i}function na(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=As(e);return n.children.forEach(o=>{(function lj(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function cj(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ur(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ur(n.url,e.url)||!Hn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lp(n,e)||!Hn(n.queryParams,e.queryParams);default:return!Lp(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new BC(i)):(s.data=o.data,s._resolvedData=o._resolvedData),na(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fc(a.outlet.component,o))}else o&&ia(e,a,r),r.canActivateChecks.push(new BC(i)),na(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ia(a,t.getContext(o),r)),r}function ia(n,e,t){const i=As(n),r=n.value;Object.entries(i).forEach(([s,o])=>{ia(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Fc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ra(n){return"function"==typeof n}function jC(n){return n instanceof Dc||"EmptyError"===n?.name}const Bc=Symbol("INITIAL_VALUE");function xs(){return Tn(n=>yp(n.map(e=>e.pipe(_s(1),function tB(...n){const e=Hs(n);return ze((t,i)=>{(e?bp(n,t,e):bp(n,t)).subscribe(i)})}(Bc)))).pipe(Ce(e=>{for(const t of e)if(!0!==t){if(t===Bc)return Bc;if(!1===t||t instanceof Es)return t}return!0}),ui(e=>e!==Bc),_s(1)))}function VC(n){return function yS(...n){return Wg(n)}(mt(e=>{if(dr(e))throw LC(0,e)}),Ce(e=>!0===e))}class jc{constructor(e){this.segmentGroup=e||null}}class HC{constructor(e){this.urlTree=e}}function Ms(n){return $o(new jc(n))}function UC(n){return $o(new HC(n))}class Ij{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new R(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return G(i);if(r.numberOfChildren>1||!r.children[ee])return $o(new R(4e3,!1));r=r.children[ee]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Es(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new ye(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new R(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Bp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tj(n,e,t,i,r){const s=jp(n,e,t);return s.matched?(i=function JB(n,e){return n.providers&&!n._injector&&(n._injector=df(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Sj(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?G(r.map(o=>{const a=Ss(o,n);return ji(function gj(n){return n&&ra(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(xs(),VC()):G(!0)}(i,e,t).pipe(Ce(o=>!0===o?s:{...Bp}))):G(s)}function jp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Bp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||lB)(t,n,e);if(!r)return{...Bp};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function $C(n,e,t,i){return t.length>0&&function Oj(n,e,t){return t.some(i=>Vc(n,e,i)&&Dn(i)!==ee)}(n,t,i)?{segmentGroup:new ye(e,Rj(i,new ye(t,n.children))),slicedSegments:[]}:0===t.length&&function Lj(n,e,t){return t.some(i=>Vc(n,e,i))}(n,t,i)?{segmentGroup:new ye(n.segments,Pj(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function Pj(n,e,t,i,r){const s={};for(const o of i)if(Vc(n,t,o)&&!r[Dn(o)]){const a=new ye([],{});s[Dn(o)]=a}return{...r,...s}}function Rj(n,e){const t={};t[ee]=e;for(const i of n)if(""===i.path&&Dn(i)!==ee){const r=new ye([],{});t[Dn(i)]=r}return t}function Vc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Bj{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ij(this.urlSerializer,this.urlTree)}noMatchError(e){return new R(4002,!1)}recognize(){const e=$C(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(cr(t=>{if(t instanceof HC)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof jc?this.noMatchError(t):t}),Ce(t=>{const i=new kc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new di(i,t),s=new PC("",r),o=function MB(n,e,t=null,i=null){return bC(yC(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ee).pipe(cr(i=>{throw i instanceof jc?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=TC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Xe(r).pipe(zo(s=>{const o=i.children[s],a=function ij(n,e){const t=n.filter(i=>Dn(i)===e);return t.push(...n.filter(i=>Dn(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function rB(n,e){return ze(function iB(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(We(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Sc(null),function sB(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ui((r,s)=>n(r,s,i)):Ai,wp(1),t?Sc(e):sC(()=>new Dc))}(),st(s=>{if(null===s)return Ms(i);const o=zC(s);return function jj(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}(o),G(o)}))}processSegment(e,t,i,r,s,o){return Xe(t).pipe(zo(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(cr(l=>{if(l instanceof jc)return G(null);throw l}))),lr(a=>!!a),cr(a=>{if(jC(a))return function Nj(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?G([]):Ms(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function kj(n,e,t,i){return!!(Dn(n)===i||i!==ee&&Vc(e,t,n))&&("**"===n.path||jp(e,n,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Ms(r):Ms(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?UC(s):this.applyRedirects.lineralizeSegments(i,s).pipe(st(o=>{const a=new ye(o,{});return this.processSegment(e,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=jp(t,r,s);if(!a)return Ms(t);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?UC(d):this.applyRedirects.lineralizeSegments(r,d).pipe(st(h=>this.processSegment(e,i,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?aC(r).parameters:{};a=G({snapshot:new kc(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WC(i),Dn(i),i.component??i._loadedComponent??null,i,GC(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Tj(t,i,r,e).pipe(Ce(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new kc(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WC(i),Dn(i),i.component??i._loadedComponent??null,i,GC(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Tn(l=>null===l?Ms(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Tn(({routes:c})=>{const u=i._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=$C(t,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Ce(m=>null===m?null:[new di(d,m)]));if(0===c.length&&0===g.length)return G([new di(d,[])]);const v=Dn(i)===s;return this.processSegment(u,c,p,g,v?ee:s,!0).pipe(Ce(m=>[new di(d,m)]))}))))}getChildConfig(e,t,i){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dj(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?G(!0):G(r.map(o=>{const a=Ss(o,n);return ji(function dj(n){return n&&ra(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(xs(),VC())}(e,t,i).pipe(st(r=>r?this.configLoader.loadChildren(e,t).pipe(mt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Mj(n){return $o(kC(!1,3))}())):G({routes:[],injector:e})}}function Vj(n){const e=n.value.routeConfig;return e&&""===e.path}function zC(n){const e=[],t=new Set;for(const i of n){if(!Vj(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=zC(i.children);e.push(new di(i.value,r))}return e.filter(i=>!t.has(i))}function WC(n){return n.data||{}}function GC(n){return n.resolve||{}}function qC(n){return"string"==typeof n.title||null===n.title}function Vp(n){return Tn(e=>{const t=n(e);return t?Xe(t).pipe(Ce(()=>e)):G(e)})}const Is=new B("ROUTES");let Hp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(P0)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ji(t.loadComponent()).pipe(Ce(YC),mt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ep(()=>{this.componentLoaders.delete(t)})),r=new rC(i,()=>new tn).pipe(_p());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function qj(n,e,t,i){return ji(n.loadChildren()).pipe(Ce(YC),st(r=>r instanceof kw||Array.isArray(r)?G(r):Xe(e.compileModuleAsync(r))),Ce(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Is,[],{optional:!0,self:!0}).flat()),{routes:o.map(Fp),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ep(()=>{this.childrenLoaders.delete(i)})),o=new rC(s,()=>new tn).pipe(_p());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YC(n){return function Yj(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hc=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tn,this.transitionAbortSubject=new tn,this.configLoader=N(Hp),this.environmentInjector=N(an),this.urlSerializer=N(qo),this.rootContexts=N(Jo),this.inputBindingEnabled=null!==N(Nc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new VB(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new jB(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new nn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qo,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(s=>0!==s.id),Ce(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Tn(s=>{this.currentTransition=s;let o=!1,a=!1;return G(s).pipe(mt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tn(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Cs(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),In}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Tn(h=>{const f=this.transitions?.getValue();return this.events.next(new Oc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?In:Promise.resolve(h)}),function Hj(n,e,t,i,r,s){return st(o=>function Fj(n,e,t,i,r,s,o="emptyOnly"){return new Bj(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(Ce(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),mt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new DC(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:v}=l,m=new Oc(h,this.urlSerializer.serialize(f),p,g);this.events.next(m);const y=IC(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:y,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},G(s)}{const h="";return this.events.next(new Cs(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),In}}),mt(l=>{const c=new kB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ce(l=>(this.currentTransition=s={...l,guards:oj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function vj(n,e){return st(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?G({...t,guardsResult:!0}):function yj(n,e,t,i){return Xe(n).pipe(st(r=>function Aj(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const l=ta(e)??r,c=Ss(a,l);return ji(function pj(n){return n&&ra(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(lr())})).pipe(xs()):G(!0)}(r.component,r.route,t,e,i)),lr(r=>!0!==r,!0))}(o,i,r,n).pipe(st(a=>a&&function uj(n){return"boolean"==typeof n}(a)?function bj(n,e,t,i){return Xe(e).pipe(zo(r=>bp(function wj(n,e){return null!==n&&e&&e(new HB(n)),G(!0)}(r.route.parent,i),function _j(n,e){return null!==n&&e&&e(new $B(n)),G(!0)}(r.route,i),function Cj(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function aj(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>iC(()=>G(o.guards.map(l=>{const c=ta(o.node)??t,u=Ss(l,c);return ji(function fj(n){return n&&ra(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(lr())})).pipe(xs())));return G(s).pipe(xs())}(n,r.path,t),function Ej(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return G(!0);const r=i.map(s=>iC(()=>{const o=ta(e)??t,a=Ss(s,o);return ji(function hj(n){return n&&ra(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(lr())}));return G(r).pipe(xs())}(n,r.route,t))),lr(r=>!0!==r,!0))}(i,s,n,e):G(a)),Ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),mt(l=>{if(s.guardsResult=l.guardsResult,dr(l.guardsResult))throw LC(0,l.guardsResult);const c=new NB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ui(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Vp(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(mt(c=>{const u=new FB(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Tn(c=>{let u=!1;return G(c).pipe(function Uj(n,e){return st(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return G(t);let s=0;return Xe(r).pipe(zo(o=>function $j(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!qC(r)&&(s[Wo]=r.title),function zj(n,e,t,i){const r=function Wj(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return G({});const s={};return Xe(r).pipe(st(o=>function Gj(n,e,t,i){const r=ta(e)??i,s=Ss(n,r);return ji(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(lr(),mt(a=>{s[o]=a}))),wp(1),function oB(n){return Ce(()=>n)}(s),cr(o=>jC(o)?In:$o(o)))}(s,n,e,i).pipe(Ce(o=>(n._resolvedData=o,n.data=TC(n,t).resolve,r&&qC(r)&&(n.data[Wo]=r.title),null)))}(o.route,i,n,e)),mt(()=>s++),wp(1),st(o=>s===r.length?G(t):In))})}(t.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),mt(c=>{const u=new BB(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Vp(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(mt(h=>{u.component=h}),Ce(()=>{})));for(const h of u.children)d.push(...c(h));return d};return yp(c(l.targetSnapshot.root)).pipe(Sc(),_s(1))}),Vp(()=>this.afterPreactivation()),Ce(l=>{const c=function KB(n,e,t){const i=ea(n,e._root,t?t._root:void 0);return new MC(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),mt(()=>{this.events.next(new Mp)}),((n,e,t,i)=>Ce(r=>(new sj(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_s(1),mt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Te(this.transitionAbortSubject.pipe(mt(l=>{throw l}))),Ep(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),cr(l=>{if(a=!0,NC(l))this.events.next(new Zo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function ZB(n){return NC(n)&&dr(n.url)}(l)?this.events.next(new Ip(l.url)):s.resolve(!1);else{this.events.next(new Lc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return In}))}))}cancelNavigationTransition(t,i,r){const s=new Zo(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KC(n){return n!==Qo}let XC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ee);return i}getResolvedTitleForRoute(t){return t.data[Wo]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return N(Kj)},providedIn:"root"})}}return n})(),Kj=(()=>{class n extends XC{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(V(QE))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return N(Zj)},providedIn:"root"})}}return n})();class Qj{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Zj=(()=>{class n extends Qj{static{this.\u0275fac=function(){let t;return function(r){return(t||(t=function Ov(n){return Kn(()=>{const e=n.prototype.constructor,t=e[Xn]||Pd(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Xn]||Pd(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(n)))(r||n)}}()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Uc=new B("",{providedIn:"root",factory:()=>({})});let Jj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:function(){return N(eV)},providedIn:"root"})}}return n})(),eV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var sa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(sa||{});function QC(n,e){n.events.pipe(ui(t=>t instanceof Vi||t instanceof Zo||t instanceof Lc||t instanceof Cs),Ce(t=>t instanceof Vi||t instanceof Cs?sa.COMPLETE:t instanceof Zo&&(0===t.code||1===t.code)?sa.REDIRECTING:sa.FAILED),ui(t=>t!==sa.REDIRECTING),_s(1)).subscribe(()=>{e()})}function tV(n){throw n}function nV(n,e,t){return e.parse("/")}const iV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=N(I0),this.isNgZoneEnabled=!1,this._events=new tn,this.options=N(Uc,{optional:!0})||{},this.pendingTasks=N(T0),this.errorHandler=this.options.errorHandler||tV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=N(Jj),this.routeReuseStrategy=N(Xj),this.titleStrategy=N(XC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=N(Is,{optional:!0})?.flat()??[],this.navigationTransitions=N(Hc),this.urlSerializer=N(qo),this.location=N(qf),this.componentInputBindingEnabled=!!N(Nc,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=N(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Es,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IC(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(ZC(i)&&this._events.next(i));if(i instanceof Oc)KC(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Cs)this.rawUrlTree=r.rawUrl;else if(i instanceof DC){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Mp)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Zo)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Ip){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||KC(r.source)};this.scheduleNavigation(s,Qo,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Lc&&this.restoreHistory(r,!0),i instanceof Vi&&(this.navigated=!0),ZC(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qo,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Fp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=yC(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return bC(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=dr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Qo,null,i)}navigate(t,i={skipLocationChange:!1}){return function sV(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new R(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...iV}:!1===i?{...rV}:i,dr(t))return cC(this.currentUrlTree,t,r);const s=this.parseUrl(t);return cC(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return QC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZC(n){return!(n instanceof Mp||n instanceof Ip)}let Ts=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new tn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Ry(n,e,t){return function DT(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Py:Ty}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(j(fn),j(Ds),function nl(n){return function WM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Cm(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(ct(),n)}("tabindex"),j(Rl),j(ti),j(ar))}}static{this.\u0275dir=Et({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Kl("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Vh("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",$f],skipLocationChange:["skipLocationChange","skipLocationChange",$f],replaceUrl:["replaceUrl","replaceUrl",$f],routerLink:"routerLink"},standalone:!0,features:[qb,Pi]})}}return n})();class JC{}let lV=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ui(t=>t instanceof Vi),zo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=df(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Xe(r).pipe(Er())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):G(null);const s=r.pipe(st(o=>null===o?G(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Xe([s,this.loader.loadComponent(i)]).pipe(Er()):s})}static{this.\u0275fac=function(i){return new(i||n)(V(fn),V(P0),V(an),V(JC),V(Hp))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Up=new B("");let eA=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Cs&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof SC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new SC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){!function bb(){throw new Error("invalid")}()}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function hi(n,e){return{\u0275kind:n,\u0275providers:e}}function nA(){const n=N(ln);return e=>{const t=n.get(vs);if(e!==t.components[0])return;const i=n.get(fn),r=n.get(iA);1===n.get($p)&&i.initialNavigation(),n.get(rA,null,ie.Optional)?.setUpPreloading(),n.get(Up,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const iA=new B("",{factory:()=>new tn}),$p=new B("",{providedIn:"root",factory:()=>1}),rA=new B("");function hV(n){return hi(0,[{provide:rA,useExisting:lV},{provide:JC,useExisting:n}])}const sA=new B("ROUTER_FORROOT_GUARD"),pV=[qf,{provide:qo,useClass:Cp},fn,Jo,{provide:Ds,useFactory:function tA(n){return n.routerState.root},deps:[fn]},Hp,[]];function gV(){return new B0("Router",fn)}let oA=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[pV,[],{provide:Is,multi:!0,useValue:t},{provide:sA,useFactory:bV,deps:[[fn,new sl,new ol]]},{provide:Uc,useValue:i||{}},i?.useHash?{provide:ar,useClass:wN}:{provide:ar,useClass:gE},{provide:Up,useFactory:()=>{const n=N(UF),e=N(we),t=N(Uc),i=N(Hc),r=N(qo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eA(r,i,n,e,t)}},i?.preloadingStrategy?hV(i.preloadingStrategy).\u0275providers:[],{provide:B0,multi:!0,useFactory:gV},i?.initialNavigation?_V(i):[],i?.bindToComponentInputs?hi(8,[OC,{provide:Nc,useExisting:OC}]).\u0275providers:[],[{provide:aA,useFactory:nA},{provide:kf,multi:!0,useExisting:aA}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Is,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(V(sA,8))}}static{this.\u0275mod=xi({type:n})}static{this.\u0275inj=Yn({})}}return n})();function bV(n){return"guarded"}function _V(n){return["disabled"===n.initialNavigation?hi(3,[{provide:xf,multi:!0,useFactory:()=>{const e=N(fn);return()=>{e.setUpLocationChangeListener()}}},{provide:$p,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hi(2,[{provide:$p,useValue:0},{provide:xf,multi:!0,deps:[ln],useFactory:e=>{const t=e.get(bN,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(fn),s=e.get(iA);QC(r,()=>{i(!0)}),e.get(Hc).afterPreactivation=()=>(i(!0),s.closed?G(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const aA=new B("");let EV=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-home"]],decls:43,vars:0,consts:[[1,"full-width-image-section"],["src","assets/CMU.png","alt","Chiang Mai University",1,"full-width-image"],[1,"home-banner"],[1,"banner-content"],["routerLink","/registration",1,"btn-register"],[1,"introduction-section"],[1,"importance-section"],[1,"importance-points"],[1,"importance-card"],[1,"history-section"]],template:function(i,r){1&i&&(A(0,"section",0),Je(1,"img",1),D(),A(2,"section",2)(3,"div",3)(4,"h1"),E(5,"Welcome to The ACFPTO 2025"),D(),A(6,"p"),E(7,"The 12th Asian Conferences on Fixed Point Theory and Optimization 2025 (ACFPTO 2025), which will be held at Chiang Mai University, 15-18 January, 2025"),D(),A(8,"a",4),E(9,"Register Now"),D()()(),A(10,"section",5)(11,"h2"),E(12,"About the Conference"),D(),A(13,"p"),E(14,"The main aim of the conference is to bring together leading experts and researchers in fixed point theory and optimization in order to assess new developments, ideas and methods in this very active, important and dynamic field of Mathematics. A special emphasis will be put on applications in related areas, as well as in such other sciences as natural sciences, economics and engineering."),D()(),A(15,"section",6)(16,"h2"),E(17,"Why This Conference is Important"),D(),A(18,"p"),E(19,"Professor Suthep Suantai is one of the BIG THREE S.\u2019s, alongside with Professor Sompong Dhompongsa and Professor Somyot Plubtieng, who have laid the foundation of fixed point theory, as well as modern mathematical research, in Thailand. He has been inventing several important results in the area of fixed point theory, variational inequality, variational analysis, and optimization. Moreover, he had trained several young mathematicians to be able to produce meaningful researches and writing successful research proposals."),D(),A(20,"p"),E(21,"This conference serves as a pivotal platform for professionals to network, gain new insights, and contribute to the global community in areas such as mathematical analysis, applied sciences, and computational optimization techniques."),D(),A(22,"div",7)(23,"div",8)(24,"h3"),E(25,"Networking"),D(),A(26,"p"),E(27,"Connect with professionals, academicians, and researchers from around the world."),D()(),A(28,"div",8)(29,"h3"),E(30,"Research Contributions"),D(),A(31,"p"),E(32,"Showcase your work and explore cutting-edge research in the field."),D()(),A(33,"div",8)(34,"h3"),E(35,"Knowledge Sharing"),D(),A(36,"p"),E(37,"Gain insights from leading experts and be part of the future of optimization and analysis."),D()()()(),A(38,"section",9)(39,"h2"),E(40,"History of the Conference"),D(),A(41,"p"),E(42,"The International Conference on Fixed Point Theory and Optimization has a rich history of gathering top minds to discuss and promote advances in mathematics and optimization. From its inception, it has been hosted in several prestigious locations and has grown to become a prominent event in the academic calendar."),D()())},dependencies:[Ts],styles:[".full-width-image-section[_ngcontent-%COMP%]{width:100vw;margin:0;padding:0;overflow:hidden}.full-width-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.home-banner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:50vh;background:#f4f4f4;text-align:center}.banner-content[_ngcontent-%COMP%]{background:#4f4f4f;color:#fff;padding:50px;border-radius:8px;max-width:800px;width:100%}.banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px}.banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:30px}.btn-register[_ngcontent-%COMP%]{display:inline-block;background:#FFD700;color:#333;padding:15px 30px;text-decoration:none;border-radius:5px;transition:background .3s ease-in-out}.btn-register[_ngcontent-%COMP%]:hover{background:#FFA500}.introduction-section[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;background:#f7f7f7}.introduction-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}.introduction-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#555;max-width:800px;margin:0 auto;line-height:1.6}.importance-section[_ngcontent-%COMP%]{padding:60px 20px;background:#fff;text-align:center}.importance-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}.importance-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#555;max-width:800px;margin:0 auto 40px}.importance-points[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap}.importance-card[_ngcontent-%COMP%]{background:#4f4f4f;color:#fff;border-radius:8px;padding:20px;margin:15px;width:300px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease-in-out}.importance-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.importance-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#ddd}.importance-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.history-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f4f4f4;text-align:center}.history-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}.history-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#555;max-width:800px;margin:0 auto;line-height:1.6}@media (max-width: 768px){.banner-content[_ngcontent-%COMP%]{padding:20px;margin:10px;max-width:90%}.banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.btn-register[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem}}@media (max-width: 480px){.banner-content[_ngcontent-%COMP%]{padding:15px;margin:5px;max-width:95%}.banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:15px}.btn-register[_ngcontent-%COMP%]{padding:8px 15px;font-size:.9rem}}"]})}}return n})();const CV=["addListener","removeListener"],AV=["addEventListener","removeEventListener"],DV=["on","off"];function Ne(n,e,t,i){if(ue(t)&&(i=t,t=void 0),i)return Ne(n,e,t).pipe(tC(i));const[r,s]=function MV(n){return ue(n.addEventListener)&&ue(n.removeEventListener)}(n)?AV.map(o=>a=>n[o](e,a,t)):function SV(n){return ue(n.addListener)&&ue(n.removeListener)}(n)?CV.map(lA(n,e)):function xV(n){return ue(n.on)&&ue(n.off)}(n)?DV.map(lA(n,e)):[];if(!r&&$u(n))return st(o=>Ne(o,e,t))(Wt(n));if(!r)throw new TypeError("Invalid event target");return new $e(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function lA(n,e){return t=>i=>n[t](e,i)}class IV extends Ot{constructor(e,t){super()}schedule(e,t=0){return this}}const $c={setInterval(n,e,...t){const{delegate:i}=$c;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=$c;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},cA={now:()=>(cA.delegate||Date).now(),delegate:void 0};class oa{constructor(e,t=oa.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}oa.now=cA.now;const RV=new class PV extends oa{constructor(e,t=oa.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class TV extends IV{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return $c.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&$c.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ia(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});function uA(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function O(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){uA(s,i,r,o,a,"next",l)}function a(l){uA(s,i,r,o,a,"throw",l)}o(void 0)})}}var aa={d:(n,e)=>{for(var t in e)aa.o(e,t)&&!aa.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)},Q=globalThis.pdfjsLib={};aa.d(Q,{AbortException:()=>fr,AnnotationEditorLayer:()=>OU,AnnotationEditorParamsType:()=>K,AnnotationEditorType:()=>se,AnnotationEditorUIManager:()=>fa,AnnotationLayer:()=>PU,AnnotationMode:()=>Hi,CMapCompressionType:()=>Wp,ColorPicker:()=>Wn,DOMSVGFactory:()=>Jp,DrawLayer:()=>bt,FeatureTest:()=>Ht,GlobalWorkerOptions:()=>ma,ImageKind:()=>Wc,InvalidPDFException:()=>hA,MissingPDFException:()=>hr,OPS:()=>Sn,PDFDataRangeTransport:()=>GA,PDFDateString:()=>_A,PDFWorker:()=>gn,PasswordResponses:()=>FV,PermissionFlag:()=>NV,PixelsPerInch:()=>Ps,RenderingCancelledException:()=>eg,TextLayer:()=>en,UnexpectedResponseException:()=>Kc,Util:()=>F,VerbosityLevel:()=>Gc,XfaLayer:()=>XA,build:()=>dU,createValidAbsoluteUrl:()=>HV,fetchData:()=>eu,getDocument:()=>nU,getFilenameFromUrl:()=>ZV,getPdfFilenameFromUrl:()=>JV,getXfaPageViewport:()=>eH,isDataScheme:()=>tu,isPdfFile:()=>tg,noContextMenu:()=>Ut,normalizeUnicode:()=>YV,setLayerDimensions:()=>pr,shadow:()=>le,version:()=>uU});const vt=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),dA=[1,0,0,1,0,0],zp=[.001,0,0,.001,0,0],Hi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},K={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},NV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gc={ERRORS:0,WARNINGS:1,INFOS:5},Wp={NONE:0,BINARY:1},Sn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},FV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let qc=Gc.WARNINGS;function jV(){return qc}function Yc(n){qc>=Gc.INFOS&&console.log(`Info: ${n}`)}function ne(n){qc>=Gc.WARNINGS&&console.log(`Warning: ${n}`)}function _e(n){throw new Error(n)}function nt(n,e){n||_e(e)}function HV(n,e=null,t=null){if(!n)return null;try{if(t&&"string"==typeof n&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=function qV(n){return decodeURIComponent(escape(n))}(n)}catch{}const i=e?new URL(n,e):new URL(n);if(function VV(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function le(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Ui=function(){function e(t,i){this.constructor===e&&_e("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Gp extends Ui{constructor(e,t){super(e,"PasswordException"),this.code=t}}class qp extends Ui{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class hA extends Ui{constructor(e){super(e,"InvalidPDFException")}}class hr extends Ui{constructor(e){super(e,"MissingPDFException")}}class Kc extends Ui{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class UV extends Ui{constructor(e){super(e,"FormatError")}}class fr extends Ui{constructor(e){super(e,"AbortException")}}function fA(n){("object"!=typeof n||void 0===n?.length)&&_e("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function ca(n){"string"!=typeof n&&_e("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=255&n.charCodeAt(i);return t}function Yp(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}class Ht{static get isLittleEndian(){return le(this,"isLittleEndian",function zV(){const n=new Uint8Array(4);return n[0]=1,1===new Uint32Array(n.buffer,0,1)[0]}())}static get isEvalSupported(){return le(this,"isEvalSupported",function WV(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&"string"==typeof navigator?.platform?le(this,"platform",{isMac:navigator.platform.includes("Mac")}):le(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return le(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Kp=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class F{static makeHexColor(e,t,i){return`#${Kp[e]}${Kp[t]}${Kp[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,u=a-l||1;return[Math.sqrt(a+l||1),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static#e(e,t,i,r,s,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,p=d*(d*(d*e+3*c*t)+3*h*i)+f*r,g=d*(d*(d*s+3*c*o)+3*h*a)+f*l;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],g)}static#t(e,t,i,r,s,o,a,l,c,u,d,h){if(Math.abs(c)<1e-12)return void(Math.abs(u)>=1e-12&&this.#e(e,t,i,r,s,o,a,l,-d/u,h));const f=u**2-4*d*c;if(f<0)return;const p=Math.sqrt(f),g=2*c;this.#e(e,t,i,r,s,o,a,l,(-u+p)/g,h),this.#e(e,t,i,r,s,o,a,l,(-u-p)/g,h)}static bezierBoundingBox(e,t,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],this.#t(e,i,s,a,t,r,o,l,3*(3*(i-s)-e+a),6*(e-2*i+s),3*(i-e),c),this.#t(e,i,s,a,t,r,o,l,3*(3*(r-o)-t+l),6*(t-2*r+o),3*(r-t),c),c}}let Xp=null,pA=null;function YV(n){return Xp||(Xp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pA=new Map([["\ufb05","\u017ft"]])),n.replaceAll(Xp,(e,t,i)=>t?t.normalize("NFKC"):pA.get(i))}const gA="pdfjs_internal_id_";class Xc{constructor(){this.constructor===Xc&&_e("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class Qc{#e=!1;constructor({enableHWA:e=!1}={}){this.constructor===Qc&&_e("Cannot initialize BaseCanvasFactory."),this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){_e("Abstract method `_createCanvas` called.")}}class Zc{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Zc&&_e("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}fetch({name:e}){var t=this;return O(function*(){if(!t.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const i=t.baseUrl+e+(t.isCompressed?".bcmap":"");return t._fetchData(i,t.isCompressed?Wp.BINARY:Wp.NONE).catch(s=>{throw new Error(`Unable to load ${t.isCompressed?"binary ":""}CMap at: ${i}`)})})()}_fetchData(e,t){_e("Abstract method `_fetchData` called.")}}class Jc{constructor({baseUrl:e=null}){this.constructor===Jc&&_e("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch({filename:e}){var t=this;return O(function*(){if(!t.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const i=`${t.baseUrl}${e}`;return t._fetchData(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})})()}_fetchData(e){_e("Abstract method `_fetchData` called.")}}class Qp{constructor(){this.constructor===Qp&&_e("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){_e("Abstract method `_createSVG` called.")}}const pi="http://www.w3.org/2000/svg";class Ps{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}function eu(n){return Zp.apply(this,arguments)}function Zp(){return(Zp=O(function*(n,e="text"){if(da(n,document.baseURI)){const t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(200===r.status||0===r.status){switch(e){case"arraybuffer":case"blob":case"json":return void t(r.response)}return void t(r.responseText)}i(new Error(r.statusText))}},r.send(null)})})).apply(this,arguments)}class mA extends Zc{_fetchData(e,t){return eu(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):ca(i),compressionType:t}))}}class vA extends Jc{_fetchData(e){return eu(e,"arraybuffer").then(t=>new Uint8Array(t))}}class Jp extends Qp{_createSVG(e){return document.createElementNS(pi,e)}}class ua{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,d,h,f,p,g,v;switch((i%=360)<0&&(i+=360),i){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,h=-h),0===c?(f=Math.abs(l-e[1])*t+r,p=Math.abs(a-e[0])*t+s,g=(e[3]-e[1])*t,v=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+r,p=Math.abs(l-e[1])*t+s,g=(e[2]-e[0])*t,v=(e[3]-e[1])*t),this.transform=[c*t,u*t,d*t,h*t,f-c*t*a-d*t*l,p-u*t*a-h*t*l],this.width=g,this.height=v}get rawDims(){const{viewBox:e}=this;return le(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new ua({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return F.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=F.applyTransform([e[0],e[1]],this.transform),i=F.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return F.applyInverseTransform([e,t],this.transform)}}class eg extends Ui{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function tu(n){const e=n.length;let t=0;for(;t<e&&""===n[t].trim();)t++;return"data:"===n.substring(t,t+5).toLowerCase()}function tg(n){return"string"==typeof n&&/\.pdf$/i.test(n)}function ZV(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function JV(n,e="document.pdf"){if("string"!=typeof n)return e;if(tu(n))return ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class yA{started=Object.create(null);times=[];time(e){e in this.started&&ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms\n`);return e.join("")}}function da(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return"http:"===t||"https:"===t}catch{return!1}}function Ut(n){n.preventDefault()}let bA;class _A{static toDateObject(e){if(!e||"string"!=typeof e)return null;bA||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=bA.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===c?(o+=u,a+=d):"+"===c&&(o-=u,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}}function eH(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new ua({viewBox:s,scale:e,rotation:t})}function ng(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ne(`Not a valid color format: "${n}"`),[0,0,0])}function Pe(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function gi(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function pr(n,e,t=!1,i=!0){if(e instanceof ua){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=Ht.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;t&&e.rotation%180!=0?(o.width=d,o.height=u):(o.width=u,o.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}class ig{#e=null;#t=null;#n;#r=null;constructor(e){this.#n=e}render(){const e=this.#e=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Ut,{signal:t}),e.addEventListener("pointerdown",ig.#s,{signal:t});const i=this.#r=document.createElement("div");i.className="buttons",e.append(i);const r=this.#n.toolbarPosition;if(r){const{style:s}=e,o="ltr"===this.#n._uiManager.direction?1-r[0]:r[0];s.insetInlineEnd=100*o+"%",s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),e}static#s(e){e.stopPropagation()}#i(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#o(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#l(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#i.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#o.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ut,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden")}#h(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#n.editorType}-button`),this.#l(e),e.addEventListener("click",t=>{this.#n._uiManager.delete()},{signal:this.#n._uiManager._signal}),this.#r.append(e)}get#c(){const e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#l(e),this.#r.prepend(e,this.#c)}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#l(t),this.#r.prepend(t,this.#c)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class nH{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ut,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#i(),e}#s(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);o>i?(r=a,i=o):t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]}show(e,t,i){const[r,s]=this.#s(t,i),{style:o}=this.#t||=this.#r();e.append(this.#t),o.insetInlineEnd=100*r+"%",o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;e.addEventListener("contextmenu",Ut,{signal:i}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(e)}}function nu(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}class rH{#e=0;get id(){return"pdfjs_internal_editor_"+this.#e++}}class rg{#e=function KV(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(255*Math.random());return fA(n)}();#t=0;#n=null;static get _isSVGFittingCanvas(){const i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;return r.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',le(this,"_isSVGFittingCanvas",r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),0===new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0])))}#r(e,t){var i=this;return O(function*(){i.#n||=new Map;let r=i.#n.get(e);if(null===r)return null;if(r?.bitmap)return r.refCounter+=1,r;try{let s;if(r||={bitmap:null,id:`image_${i.#e}_${i.#t++}`,refCounter:0,isSvg:!1},"string"==typeof t?(r.url=t,s=yield eu(t,"blob")):s=r.file=t,"image/svg+xml"===s.type){const o=rg._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,u()},a.onload=O(function*(){const h=r.svgUrl=a.result;l.src=(yield o)?`${h}#svgView(preserveAspectRatio(none))`:h}),l.onerror=a.onerror=d});a.readAsDataURL(s),yield c}else r.bitmap=yield createImageBitmap(s);r.refCounter=1}catch(s){console.error(s),r=null}return i.#n.set(e,r),r&&i.#n.set(r.id,r),r})()}getFromFile(e){var t=this;return O(function*(){const{lastModified:i,name:r,size:s,type:o}=e;return t.#r(`${i}_${r}_${s}_${o}`,e)})()}getFromUrl(e){var t=this;return O(function*(){return t.#r(e,e)})()}getFromId(e){var t=this;return O(function*(){t.#n||=new Map;const i=t.#n.get(e);return i?i.bitmap?(i.refCounter+=1,i):i.file?t.getFromFile(i.file):t.getFromUrl(i.url):null})()}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class sH{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),this.#t)return;const l={cmd:e,undo:t,post:i,type:s};if(-1===this.#r)return this.#e.length>0&&(this.#e.length=0),this.#r=0,void this.#e.push(l);if(o&&this.#e[this.#r].type===s)return a&&(l.undo=this.#e[this.#r].undo),void(this.#e[this.#r]=l);const c=this.#r+1;c===this.#n?this.#e.splice(0,1):(this.#r=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(-1===this.#r)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return-1!==this.#r}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}class ha{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ht.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(this.#e(t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}class sg{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function tH(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,ng(i))}e.remove()}(e),le(this,"_colors",e)}convert(e){const t=ng(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return sg._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?F.makeHexColor(...t):e}}let fa=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#s=null;#i=null;#o=null;#l=new sH;#h=0;#c=new Set;#d=null;#u=null;#a=new Set;#p=!1;#g=!1;#f=null;#m=null;#v=null;#y=!1;#_=null;#E=new rH;#C=!1;#A=!1;#S=null;#T=null;#D=null;#w=se.NONE;#b=new Set;#I=null;#M=null;#R=null;#x=this.blur.bind(this);#O=this.focus.bind(this);#L=this.copy.bind(this);#N=this.cut.bind(this);#k=this.paste.bind(this);#B=this.keydown.bind(this);#U=this.keyup.bind(this);#F=this.onEditingAction.bind(this);#$=this.onPageChanging.bind(this);#j=this.onScaleChanging.bind(this);#K=this.onRotationChanging.bind(this);#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#W=[0,0];#V=null;#z=null;#Q=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=n.prototype,i=a=>a.#z.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return"text"!==c&&"number"!==c}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return le(this,"_keyboardManager",new ha([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#z.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}]]))}constructor(t,i,r,s,o,a,l,c,u,d){this._signal=this.#e.signal,this.#z=t,this.#Q=i,this.#s=r,this._eventBus=s,this._eventBus._on("editingaction",this.#F),this._eventBus._on("pagechanging",this.#$),this._eventBus._on("scalechanging",this.#j),this._eventBus._on("rotationchanging",this.#K),this.#oe(),this.#ue(),this.#J(),this.#i=o.annotationStorage,this.#f=o.filterFactory,this.#M=a,this.#v=l||null,this.#p=c,this.#g=u,this.#D=d||null,this.viewParameters={realScale:Ps.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null,this._eventBus._off("editingaction",this.#F),this._eventBus._off("pagechanging",this.#$),this._eventBus._off("scalechanging",this.#j),this._eventBus._off("rotationchanging",this.#K);for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#a.clear(),this.#t=null,this.#b.clear(),this.#l.destroy(),this.#s?.destroy(),this.#_?.hide(),this.#_=null,this.#m&&(clearTimeout(this.#m),this.#m=null),this.#V&&(clearTimeout(this.#V),this.#V=null)}mlGuess(t){var i=this;return O(function*(){return i.#D?.guess(t)||null})()}isMLEnabledFor(t){var i=this;return O(function*(){return!!(yield i.#D?.isEnabledFor(t))})()}get useNewAltTextFlow(){return this.#g}get hcmFilter(){return le(this,"hcmFilter",this.#M?this.#f.addHCMFilter(this.#M.foreground,this.#M.background):"none")}get direction(){return le(this,"direction",getComputedStyle(this.#z).direction)}get highlightColors(){return le(this,"highlightColors",this.#v?new Map(this.#v.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return le(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#T=t}editAltText(t){this.#s?.editAltText(this,t)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#z.focus()}findParent(t,i){for(const r of this.#r.values()){const{x:s,y:o,width:a,height:l}=r.div.getBoundingClientRect();if(t>=s&&t<=s+a&&i>=o&&i<=o+l)return r}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#a.add(t)}removeShouldRescale(t){this.#a.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ps.PDF_TO_CSS_UNITS;for(const i of this.#a)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#Z(t){const{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(const r of this.#r.values())if(r.hasTextLayer(t))return r;return null}highlightSelection(t=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=i,l=i.toString(),u=this.#q(i).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;i.empty();const h=this.#Z(u),f=this.#w===se.NONE,p=()=>{h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};f?this.switchToMode(se.HIGHLIGHT,p):p()}#re(){const t=document.getSelection();if(!t||t.isCollapsed)return;const r=this.#q(t).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#_||=new nH(this),this.#_.show(r,s,"ltr"===this.direction))}addToAnnotationStorage(t){!t.isEmpty()&&this.#i&&!this.#i.has(t.id)&&this.#i.setValue(t.id,t)}#se(){const t=document.getSelection();if(!t||t.isCollapsed)return void(this.#I&&(this.#_?.hide(),this.#I=null,this.#P({hasSelectedText:!1})));const{anchorNode:i}=t;if(i===this.#I)return;const s=this.#q(t).closest(".textLayer");if(s){if(this.#_?.hide(),this.#I=i,this.#P({hasSelectedText:!0}),(this.#w===se.HIGHLIGHT||this.#w===se.NONE)&&(this.#w===se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#y=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#w===se.HIGHLIGHT?this.#Z(s):null;o?.toggleDrawing();const a=this._signal,l=c=>{"pointerup"===c.type&&0!==c.button||(o?.toggleDrawing(!0),window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),"pointerup"===c.type&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}}else this.#I&&(this.#_?.hide(),this.#I=null,this.#P({hasSelectedText:!1}))}#Y(t=""){this.#w===se.HIGHLIGHT?this.highlightSelection(t):this.#p&&this.#re()}#oe(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#ae(){const t=this._signal;window.addEventListener("focus",this.#O,{signal:t}),window.addEventListener("blur",this.#x,{signal:t})}#le(){window.removeEventListener("focus",this.#O),window.removeEventListener("blur",this.#x)}blur(){if(this.isShiftKeyDown=!1,this.#y&&(this.#y=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const i of this.#b)if(i.div.contains(t)){this.#S=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#S)return;const[t,i]=this.#S;this.#S=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#J(){const t=this._signal;window.addEventListener("keydown",this.#B,{signal:t}),window.addEventListener("keyup",this.#U,{signal:t})}#ce(){window.removeEventListener("keydown",this.#B),window.removeEventListener("keyup",this.#U)}#ee(){const t=this._signal;document.addEventListener("copy",this.#L,{signal:t}),document.addEventListener("cut",this.#N,{signal:t}),document.addEventListener("paste",this.#k,{signal:t})}#te(){document.removeEventListener("copy",this.#L),document.removeEventListener("cut",this.#N),document.removeEventListener("paste",this.#k)}#ue(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#J(),this.#ee()}removeEditListeners(){this.#ce(),this.#te()}dragOver(t){for(const{type:i}of t.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(i))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const i of t.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(i.type))return r.paste(i,this.currentLayer),void t.preventDefault()}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of this.#b){const s=r.serialize(!0);s&&i.push(s)}0!==i.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:i}=t;for(const o of i.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(o.type))return void a.paste(o,this.currentLayer);let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){return void ne(`paste: "${o.message}".`)}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const c of r){const u=s.deserialize(c);if(!u)return;o.push(u)}this.addCommands({cmd:()=>{for(const c of o)this.#ne(c);this.#ie(o)},undo:()=>{for(const c of o)c.remove()},mustExec:!0})}catch(o){ne(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!0),this.#w!==se.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,this.#y&&(this.#y=!1,this.#Y("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#P(t){Object.entries(t).some(([r,s])=>this.#X[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,t)}),this.#w===se.HIGHLIGHT&&!1===t.hasSelectedEditor&&this.#H([[K.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ae(),this.#ee(),this.#P({isEditing:this.#w!==se.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#te(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const i of this.#u)this.#H(i.defaultPropertiesToUpdate)}}getId(){return this.#E.id}get currentLayer(){return this.#r.get(this.#h)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#r.set(t.pageIndex,t),this.#C?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}updateMode(t,i=null,r=!1){if(this.#w!==t){if(this.#w=t,t===se.NONE)return this.setEditingState(!1),void this.#he();this.setEditingState(!0),this.#de(),this.unselectAll();for(const s of this.#r.values())s.updateMode(t);if(!i&&r)return void this.addNewEditorFromKeyboard();if(i)for(const s of this.#n.values())if(s.annotationElementId===i){this.setSelected(s),s.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#w&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#u){switch(t){case K.CREATE:return void this.currentLayer.addNewEditor();case K.HIGHLIGHT_DEFAULT_COLOR:this.#T?.updateColor(i);break;case K.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#R||=new Map).set(t,i),this.showAllEditors("highlight",i)}for(const r of this.#b)r.updateParams(t,i);for(const r of this.#u)r.updateDefaultParams(t,i)}}showAllEditors(t,i,r=!1){for(const o of this.#n.values())o.editorType===t&&o.show(i);(this.#R?.get(K.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#H([[K.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#A!==t){this.#A=t;for(const i of this.#r.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}#de(){if(!this.#C){this.#C=!0;for(const t of this.#r.values())t.enable();for(const t of this.#n.values())t.enable()}}#he(){if(this.unselectAll(),this.#C){this.#C=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const i=[];for(const r of this.#n.values())r.pageIndex===t&&i.push(r);return i}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#m&&clearTimeout(this.#m),this.#m=setTimeout(()=>{this.focusMainContainer(),this.#m=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#c.has(t.annotationElementId))&&this.#i?.remove(t.id)}addDeletedAnnotationElement(t){this.#c.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#c.has(t)}removeDeletedAnnotationElement(t){this.#c.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#ne(t){const i=this.#r.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#H(t.propertiesToUpdate))}get#fe(){let t=null;for(t of this.#b);return t}updateUI(t){this.#fe===t&&this.#H(t.propertiesToUpdate)}toggleSelected(t){if(this.#b.has(t))return this.#b.delete(t),t.unselect(),void this.#P({hasSelectedEditor:this.hasSelection});this.#b.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(t){for(const i of this.#b)i!==t&&i.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#b.size}get isEnterHandled(){return 1===this.#b.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#P({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()})}redo(){this.#l.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(t){this.#l.add(t),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}#G(){if(0===this.#n.size)return!0;if(1===this.#n.size)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#b];this.addCommands({cmd:()=>{for(const s of t)s.remove()},undo:()=>{for(const s of t)this.#ne(s)},mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(t){for(const i of this.#b)i.unselect();this.#b.clear();for(const i of t)i.isEmpty()||(this.#b.add(i),i.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#b)t.commit();this.#ie(this.#n.values())}unselectAll(){if((!this.#t||(this.#t.commitOrRemove(),this.#w===se.NONE))&&this.hasSelection){for(const t of this.#b)t.unselect();this.#b.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#W[0]+=t,this.#W[1]+=i;const[s,o]=this.#W,a=[...this.#b];this.#V&&clearTimeout(this.#V),this.#V=setTimeout(()=>{this.#V=null,this.#W[0]=this.#W[1]=0,this.addCommands({cmd:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(s,o)},undo:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(-s,-o)},mustExec:!1})},1e3);for(const c of a)c.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#d=new Map;for(const t of this.#b)this.#d.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#d)return!1;this.disableUserSelect(!1);const t=this.#d;this.#d=null;let i=!1;for(const[{x:s,y:o,pageIndex:a},l]of t)l.newX=s,l.newY=o,l.newPageIndex=a,i||=s!==l.savedX||o!==l.savedY||a!==l.savedPageIndex;if(!i)return!1;const r=(s,o,a,l)=>{if(this.#n.has(s.id)){const c=this.#r.get(l);c?s._setParentAndPosition(c,o,a):(s.pageIndex=l,s.x=o,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:a,newPageIndex:l}]of t)r(s,o,a,l)},undo:()=>{for(const[s,{savedX:o,savedY:a,savedPageIndex:l}]of t)r(s,o,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#d)for(const r of this.#d.keys())r.drag(t,i)}rebuild(t){if(null===t.parent){const i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#b.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#w}get imageManager(){return le(this,"imageManager",new rg)}getSelectionBoxes(t){if(!t)return null;const i=document.getSelection();for(let u=0,d=i.rangeCount;u<d;u++)if(!t.contains(i.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:o,height:a}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/a,y:1-(u+h-r)/o,width:f/a,height:h/o});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-r)/o,y:1-(d+f-s)/a,width:h/o,height:f/a});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/a,y:(u-r)/o,width:f/a,height:h/o});break;default:l=(u,d,h,f)=>({x:(u-r)/o,y:(d-s)/a,width:h/o,height:f/a})}const c=[];for(let u=0,d=i.rangeCount;u<d;u++){const h=i.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:g,height:v}of h.getClientRects())0===g||0===v||c.push(l(f,p,g,v))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#o||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const i=this.#o?.get(t.data.id);if(!i)return;const r=this.#i.getRawValue(i);r&&(this.#w===se.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}}return n})(),wA=(()=>{class n{#e="";#t=!1;#n=null;#r=null;#s=null;#i=!1;#o=null;static _l10nPromise=null;constructor(t){this.#o=t}static initialize(t){n._l10nPromise||=t}render(){var t=this;return O(function*(){const i=t.#n=document.createElement("button");i.className="altText";const r=yield n._l10nPromise.get("pdfjs-editor-alt-text-button-label");i.textContent=r,i.setAttribute("aria-label",r),i.tabIndex="0";const s=t.#o._uiManager._signal;i.addEventListener("contextmenu",Ut,{signal:s}),i.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const o=a=>{a.preventDefault(),t.#o._uiManager.editAltText(t.#o)};return i.addEventListener("click",o,{capture:!0,signal:s}),i.addEventListener("keydown",a=>{a.target===i&&"Enter"===a.key&&(t.#i=!0,o(a))},{signal:s}),yield t.#l(),i})()}finish(){this.#n&&(this.#n.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return!this.#e&&!this.#t}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:i}){this.#e===t&&this.#t===i||(this.#e=t,this.#t=i,this.#l())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}destroy(){this.#n?.remove(),this.#n=null,this.#r=null}#l(){var t=this;return O(function*(){const i=t.#n;if(!i)return;if(!t.#e&&!t.#t)return i.classList.remove("done"),void t.#r?.remove();i.classList.add("done"),n._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{i.setAttribute("aria-label",o)});let r=t.#r;if(!r){t.#r=r=document.createElement("span"),r.className="tooltip",r.setAttribute("role","tooltip");const o=r.id=`alt-text-tooltip-${t.#o.id}`;i.setAttribute("aria-describedby",o);const a=100,l=t.#o._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(t.#s),t.#s=null},{once:!0}),i.addEventListener("mouseenter",()=>{t.#s=setTimeout(()=>{t.#s=null,t.#r.classList.add("show"),t.#o._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:l}),i.addEventListener("mouseleave",()=>{t.#s&&(clearTimeout(t.#s),t.#s=null),t.#r?.classList.remove("show")},{signal:l})}r.innerText=t.#t?yield n._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):t.#e,r.parentNode||i.append(r),t.#o.getImageForAltText()?.setAttribute("aria-describedby",r.id)})()}}return n})();class W{#e=null;#t=null;#n=null;#r=!1;#s=!1;#i=null;#o=null;#l=this.focusin.bind(this);#h=this.focusout.bind(this);#c=null;#d="";#u=!1;#a=null;#p=!1;#g=!1;#f=!1;#m=null;#v=0;#y=0;#_=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#E=!1;#C=W._zIndex++;static _borderLineWidth=-1;static _colorManager=new sg;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=W.prototype._resizeWithKeyboard,t=fa.TRANSLATE_SMALL,i=fa.TRANSLATE_BIG;return le(this,"_resizerKeyboardManager",new ha([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],W.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===W&&_e("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return le(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new oH({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(W._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))])),i?.strings)for(const s of i.strings)W._l10nPromise.set(s,e.get(s));if(-1!==W._borderLineWidth)return;const r=getComputedStyle(document.documentElement);W._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){_e("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#E}set _isDraggable(e){this.#E=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#k(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#u?this.#u=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}#A([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()}translate(e,t){this.#A(this.parentDimensions,e,t)}translateInPage(e,t){this.#a||=[this.x,this.y],this.#A(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#a||=[this.x,this.y];const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#a&&(this.#a[0]!==this.x||this.#a[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=W,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s))}this.x=r/=t,this.y=s/=i;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#S(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return W.#S(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return W.#S(e,t,360-this.parentRotation)}#T(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return Ht.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!this.#s&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!this.#s&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#D(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");this.#i.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#w.bind(this,i),{signal:t}),r.addEventListener("contextmenu",Ut,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#i)}#w(e,t){t.preventDefault();const{isMac:i}=Ht.platform;if(0!==t.button||t.ctrlKey&&i)return;this.#n?.toggle(!1);const r=this.#I.bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a),window.addEventListener("contextmenu",Ut,{signal:o});const l=this.x,c=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,a),window.removeEventListener("contextmenu",Ut),this.parent.div.style.cursor=h,this.div.style.cursor=f,this.#b(l,c,u,d)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})}#b(e,t,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*i,u*r),this.fixAndSetPosition()},mustExec:!0})}#I(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=W.MIN_SIZE/i,u=W.MIN_SIZE/r,d=Z=>Math.round(1e4*Z)/1e4,h=this.#T(this.rotation),f=(Z,te)=>[h[0]*Z+h[2]*te,h[1]*Z+h[3]*te],p=this.#T(360-this.rotation);let v,m,y=!1,b=!1;switch(e){case"topLeft":y=!0,v=(Z,te)=>[0,0],m=(Z,te)=>[Z,te];break;case"topMiddle":v=(Z,te)=>[Z/2,0],m=(Z,te)=>[Z/2,te];break;case"topRight":y=!0,v=(Z,te)=>[Z,0],m=(Z,te)=>[0,te];break;case"middleRight":b=!0,v=(Z,te)=>[Z,te/2],m=(Z,te)=>[0,te/2];break;case"bottomRight":y=!0,v=(Z,te)=>[Z,te],m=(Z,te)=>[0,0];break;case"bottomMiddle":v=(Z,te)=>[Z/2,te],m=(Z,te)=>[Z/2,0];break;case"bottomLeft":y=!0,v=(Z,te)=>[0,te],m=(Z,te)=>[Z,0];break;case"middleLeft":b=!0,v=(Z,te)=>[0,te/2],m=(Z,te)=>[Z,te/2]}const _=v(a,l),w=m(a,l);let S=f(...w);const x=d(s+S[0]),T=d(o+S[1]);let C=1,P=1,[k,pe]=this.screenToPageTranslation(t.movementX,t.movementY);if([k,pe]=[p[0]*(Z=k/i)+p[2]*(te=pe/r),p[1]*Z+p[3]*te],y){const Z=Math.hypot(a,l);C=P=Math.max(Math.min(Math.hypot(w[0]-_[0]-k,w[1]-_[1]-pe)/Z,1/a,1/l),c/a,u/l)}else b?C=Math.max(c,Math.min(1,Math.abs(w[0]-_[0]-k)))/a:P=Math.max(u,Math.min(1,Math.abs(w[1]-_[1]-pe)))/l;var Z,te;const be=d(a*C),me=d(l*P);S=f(...m(be,me));const Be=x-S[0],wt=T-S[1];this.width=be,this.height=me,this.x=Be,this.y=wt,this.setDims(i*be,r*me),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){var e=this;return O(function*(){return e.#c||e.#g||(e.#c=new ig(e),e.div.append(e.#c.render()),e.#n&&e.#c.addAltTextButton(yield e.#n.render())),e.#c})()}removeEditToolbar(){this.#c&&(this.#c.remove(),this.#c=null,this.#n?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){var e=this;return O(function*(){e.#n||(wA.initialize(W._l10nPromise),e.#n=new wA(e),e.#e&&(e.#n.data=e.#e,e.#e=null),yield e.addEditToolbar())})()}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}hasAltText(){return!this.#n?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#r?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",this.#l,{signal:e}),this.div.addEventListener("focusout",this.#h,{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),nu(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Ht.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#u=!0,this._isDraggable?this.#R(e):this.#M(e))}#M(e){const{isMac:t}=Ht.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#R(e){const t=this._uiManager.isSelected(this);let i,r;this._uiManager.setUpDragSession();const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:s},this.#v=e.clientX,this.#y=e.clientY,r=a=>{const{clientX:l,clientY:c}=a,[u,d]=this.screenToPageTranslation(l-this.#v,c-this.#y);this.#v=l,this.#y=c,this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",r,i));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),this.#u=!1,this._uiManager.endDragSession()||this.#M(e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}moveInDOM(){this.#m&&clearTimeout(this.#m),this.#m=setTimeout(()=>{this.#m=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,d=this.x*s,h=this.y*o,f=this.width*s,p=this.height*o;switch(i){case 0:return[d+c+a,o-h-u-p+l,d+c+f+a,o-h-u+l];case 90:return[d+u+a,o-h+c+l,d+u+p+a,o-h+c+f+l];case 180:return[d-c-f+a,o-h+u+l,d-c+a,o-h+u+p+l];case 270:return[d-u-p+a,o-h-c-f+l,d-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#g=!0}disableEditMode(){this.#g=!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#f}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#l,{signal:e}),this.div?.addEventListener("focusout",this.#h,{signal:e})}rotate(e){}serialize(e=!1,t=null){_e("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,r.#e=e.accessibilityData;const[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#h),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#m&&(clearTimeout(this.#m),this.#m=null),this.#k(),this.removeEditToolbar(),this.#_){for(const e of this.#_.values())clearTimeout(e);this.#_=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#D(),this.#i.classList.remove("hidden"),nu(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#o={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#i.children;if(!this.#t){this.#t=Array.from(t);const o=this.#x.bind(this),a=this.#O.bind(this),l=this._uiManager._signal;for(const c of this.#t){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#L.bind(this,u),{signal:l}),W._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>c.setAttribute("aria-label",d))}}const i=this.#t[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)this.#i.append(this.#i.firstChild);else if(s>r)for(let a=0;a<s-r;a++)this.#i.firstChild.before(this.#i.lastChild);let o=0;for(const a of t){const c=this.#t[o++].getAttribute("data-resizer-name");W._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>a.setAttribute("aria-label",u))}}this.#N(0),this.#f=!0,this.#i.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#x(e){W._resizerKeyboardManager.exec(this,e)}#O(e){this.#f&&e.relatedTarget?.parentNode!==this.#i&&this.#k()}#L(e){this.#d=this.#f?e:""}#N(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#f&&this.#I(this.#d,{movementX:e,movementY:t})}#k(){if(this.#f=!1,this.#N(-1),this.#o){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#o;this.#b(e,t,i,r),this.#o=null}}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#c?this.#c?.show():this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#c?.show()})}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#c?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#s=!0;const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#_||=new Map;const{action:i}=e;let r=this.#_.get(i);return r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#_.delete(i),0===this.#_.size&&(this.#_=null)},W._telemetryTimeout),void this.#_.set(i,r)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class oH extends W{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const EA=3285377520,pn=4294901760,$n=65535;class CA{constructor(e){this.h1=e?4294967295&e:EA,this.h2=e?4294967295&e:EA}update(e){let t,i;if("string"==typeof e){t=new Uint8Array(2*e.length),i=0;for(let g=0,v=e.length;g<v;g++){const m=e.charCodeAt(g);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=255&m)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),i=t.byteLength}const r=i>>2,s=i-4*r,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&$n,p=h&$n;for(let g=0;g<r;g++)1&g?(a=o[g],a=a*d&pn|a*f&$n,a=a<<15|a>>>17,a=a*h&pn|a*p&$n,c^=a,c=c<<13|c>>>19,c=5*c+3864292196):(l=o[g],l=l*d&pn|l*f&$n,l=l<<15|l>>>17,l=l*h&pn|l*p&$n,u^=l,u=u<<13|u>>>19,u=5*u+3864292196);switch(a=0,s){case 3:a^=t[4*r+2]<<16;case 2:a^=t[4*r+1]<<8;case 1:a^=t[4*r],a=a*d&pn|a*f&$n,a=a<<15|a>>>17,a=a*h&pn|a*p&$n,1&r?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&pn|36045*e&$n,t=4283543511*t&pn|(2950163797*(t<<16|e>>>16)&pn)>>>16,e^=t>>>1,e=444984403*e&pn|60499*e&$n,t=3301882366*t&pn|(3120437893*(t<<16|e>>>16)&pn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const og=Object.freeze({map:null,hash:"",transfer:void 0});class ag{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=this.#n.get(e);return void 0===i?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),0===this.#n.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this.#n.values())if(t instanceof W)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=this.#n.get(e);let r=!1;if(void 0!==i)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,this.#n.set(e,t);r&&this.#r(),t instanceof W&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?Yp(this.#n):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new AA(this)}get serializable(){if(0===this.#n.size)return og;const e=new Map,t=new CA,i=[],r=Object.create(null);let s=!1;for(const[o,a]of this.#n){const l=a instanceof W?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:og}get editorStats(){let e=null;const t=new Map;for(const i of this.#n.values()){if(!(i instanceof W))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||=Object.create(null);const o=e[s]||=new Map;for(const[a,l]of Object.entries(r)){if("type"===a)continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof W)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}}class AA extends ag{#e;constructor(e){super();const{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){_e("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return le(this,"modifiedIds",{ids:new Set,hash:""})}}class aH{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont({systemFontInfo:e,_inspectFont:t}){var i=this;return O(function*(){if(e&&!i.#e.has(e.loadedName)){if(nt(!i.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),i.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,a=new FontFace(r,s,o);i.addNativeFontFace(a);try{yield a.load(),i.#e.add(r),t?.(e)}catch{ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),i.removeNativeFontFace(a)}return}_e("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(e){var t=this;return O(function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void(yield t.loadSystemFont(e));if(t.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){t.addNativeFontFace(r);try{yield r.loaded}catch(s){throw ne(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const i=e.createFontFaceRule();if(i){if(t.insertRule(i),t.isSyncFontLoadingSupported)return;yield new Promise(r=>{const s=t._queueLoadingCallback(r);t._prepareFontLoadEvent(e,s)})}})()}get isFontLoadingAPISupported(){return le(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(vt||typeof navigator<"u"&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),le(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:i}=this,r={done:!1,complete:function t(){for(nt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}},callback:e};return i.push(r),r}get _loadTestFont(){return le(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function i(_,w){return _.charCodeAt(w)<<24|_.charCodeAt(w+1)<<16|_.charCodeAt(w+2)<<8|255&_.charCodeAt(w+3)}function r(_,w,S,x){return _.substring(0,w)+x+_.substring(w+S)}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=r(h,976,d.length,d);const g=1482184792;let v=i(h,16);for(s=0,o=d.length-3;s<o;s+=4)v=v-g+i(d,s)|0;s<d.length&&(v=v-g+i(d+"XXX",s)|0),h=r(h,16,4,function $V(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,255&n)}(v));const m=`url(data:font/opentype;base64,${btoa(h)});`;this.insertRule(`@font-face {font-family:"${d}";src:${m}}`);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const _ of[e.loadedName,d]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=_,b.append(w)}this._document.body.append(b),function u(_,w){if(++c>30)return ne("Load test font never loaded."),void w();l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?w():setTimeout(u.bind(null,_,w))}(d,()=>{b.remove(),t.complete()})}}class lH{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=!0===t,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=fA(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(this.cssFontInfo){let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}else i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),i}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ne(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||0===i.length)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case 0:{const[a,l,c,u,d,h]=i.slice(s,s+6);r.push(f=>f.bezierCurveTo(a,l,c,u,d,h)),s+=6}break;case 1:{const[a,l]=i.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case 2:{const[a,l]=i.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case 3:{const[a,l,c,u]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(a,l,c,u)),s+=4}break;case 4:r.push(a=>a.restore());break;case 5:r.push(a=>a.save());break;case 6:nt(2===r.length,"Scale command is only valid at the third position.");break;case 7:{const[a,l,c,u,d,h]=i.slice(s,s+6);r.push(f=>f.transform(a,l,c,u,d,h)),s+=6}break;case 8:{const[a,l]=i.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}if(vt){var lg=Promise.withResolvers(),cg=null;(function(){var e=O(function*(){const t=yield import("fs"),i=yield import("http"),r=yield import("https"),s=yield import("url");return new Map(Object.entries({fs:t,http:i,https:r,url:s,canvas:void 0,path2d:void 0}))});return function(){return e.apply(this,arguments)}})()().then(e=>{cg=e,lg.resolve()},e=>{ne(`loadPackages: ${e}`),cg=new Map,lg.resolve()})}class zn{static get promise(){return lg.promise}static get(e){return cg?.get(e)}}const DA=function(n){return zn.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};function ug(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class pa{constructor(){this.constructor===pa&&_e("Cannot initialize BaseShadingPattern.")}getPattern(){_e("Abstract method `getPattern` called.")}}class fH extends pa{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if("Stroke"===r||"Fill"===r){const o=t.current.getClippedPathBoundingBox(r,Pe(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=F.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),ug(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else ug(e,this._bbox),s=this._createGradient(e);return s}}function dg(n,e,t,i,r,s,o,a){const l=e.coords,c=e.colors,u=n.data,d=4*n.width;let h;l[t+1]>l[i+1]&&(h=t,t=i,i=h,h=s,s=o,o=h),l[i+1]>l[r+1]&&(h=i,i=r,r=h,h=o,o=a,a=h),l[t+1]>l[i+1]&&(h=t,t=i,i=h,h=s,s=o,o=h);const f=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(p>=y)return;const b=c[s],_=c[s+1],w=c[s+2],S=c[o],x=c[o+1],T=c[o+2],C=c[a],P=c[a+1],k=c[a+2],pe=Math.round(p),be=Math.round(y);let me,Be,wt,Z,te,Du,Su,xu;for(let Rt=pe;Rt<=be;Rt++){if(Rt<v){const rt=Rt<p?0:(p-Rt)/(p-v);me=f-(f-g)*rt,Be=b-(b-S)*rt,wt=_-(_-x)*rt,Z=w-(w-T)*rt}else{let rt;rt=Rt>y?1:v===y?0:(v-Rt)/(v-y),me=g-(g-m)*rt,Be=S-(S-C)*rt,wt=x-(x-P)*rt,Z=T-(T-k)*rt}let dt;dt=Rt<p?0:Rt>y?1:(p-Rt)/(p-y),te=f-(f-m)*dt,Du=b-(b-C)*dt,Su=_-(_-P)*dt,xu=w-(w-k)*dt;const Mu=Math.round(Math.min(me,te)),wr=Math.round(Math.max(me,te));let Gi=d*Rt+4*Mu;for(let rt=Mu;rt<=wr;rt++)dt=(me-rt)/(me-te),dt<0?dt=0:dt>1&&(dt=1),u[Gi++]=Be-(Be-Du)*dt|0,u[Gi++]=wt-(wt-Su)*dt|0,u[Gi++]=Z-(Z-xu)*dt|0,u[Gi++]=255}}function pH(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)dg(n,t,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),dg(n,t,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)dg(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class gH extends pa{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,p=u/h,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/p},y=i.getCanvas("mesh",d+4,h+4,!1),b=y.context,_=b.createImageData(d,h);if(t){const S=_.data;for(let x=0,T=S.length;x<T;x+=4)S[x]=t[0],S[x+1]=t[1],S[x+2]=t[2],S[x+3]=255}for(const S of this._figures)pH(_,S,g);return b.putImageData(_,2,2),{canvas:y.canvas,offsetX:a-2*f,offsetY:l-2*p,scaleX:f,scaleY:p}}getPattern(e,t,i,r){let s;if(ug(e,this._bbox),"Shading"===r)s=F.singularValueDecompose2dScale(Pe(e));else if(s=F.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=F.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,"Shading"===r?null:this._background,t.cachedCanvases);return"Shading"!==r&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class mH extends pa{getPattern(){return"hotpink"}}let yH=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,i,r,s,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(t){const i=this.operatorList,r=this.bbox,s=this.xstep,o=this.ystep,a=this.paintType,c=this.color,u=this.canvasGraphicsFactory;Yc("TilingType: "+this.tilingType);const d=r[0],h=r[1],f=r[2],p=r[3],g=F.singularValueDecompose2dScale(this.matrix),v=F.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*v[0],g[1]*v[1]],y=this.getSizeAndScale(s,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]),_=t.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),w=_.context,S=u.createCanvasGraphics(w);S.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(S,a,c);let x=d,T=h,C=f,P=p;return d<0&&(x=0,C+=Math.abs(d)),h<0&&(T=0,P+=Math.abs(h)),w.translate(-y.scale*x,-b.scale*T),S.transform(y.scale,0,0,b.scale,0,0),w.save(),this.clipBbox(S,x,T,C,P),S.baseTransform=Pe(S.ctx),S.executeOperatorList(i),S.endDrawing(),{canvas:_.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:x,offsetY:T}}getSizeAndScale(t,i,r){t=Math.abs(t);const s=Math.max(n.MAX_PATTERN_SIZE,i);let o=Math.ceil(t*r);return o>=s?o=s:r=o/t,{scale:r,size:o}}clipBbox(t,i,r,s,o){t.ctx.rect(i,r,s-i,o-r),t.current.updateRectMinMax(Pe(t.ctx),[i,r,s,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,r){const s=t.ctx,o=t.current;switch(i){case 1:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case 2:const l=F.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new UV(`Unsupported paint type: ${i}`)}}getPattern(t,i,r,s){let o=r;"Shading"!==s&&(o=F.transform(o,i.baseTransform),this.matrix&&(o=F.transform(o,this.matrix)));const a=this.createPatternCanvas(i);let l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return n})();function xA({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Ht.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=i>>3,d=7&i,h=n.length;t=new Uint32Array(t.buffer);let f=0;for(let p=0;p<r;p++){for(const v=e+u;e<v;e++){const m=e<h?n[e]:255;t[f++]=128&m?c:l,t[f++]=64&m?c:l,t[f++]=32&m?c:l,t[f++]=16&m?c:l,t[f++]=8&m?c:l,t[f++]=4&m?c:l,t[f++]=2&m?c:l,t[f++]=1&m?c:l}if(0===d)continue;const g=e<h?n[e++]:255;for(let v=0;v<d;v++)t[f++]=g&1<<7-v?c:l}return{srcPos:e,destPos:f}}class EH{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function iu(n,e,t,i,r,s,o,a,l,c){const[u,d,h,f,p,g]=Pe(n);if(0===d&&0===h){const b=Math.round(o*u+p),w=Math.round(a*f+g),x=Math.abs(Math.round((o+l)*u+p)-b)||1,C=Math.abs(Math.round((a+c)*f+g)-w)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),b,w),n.drawImage(e,t,i,r,s,0,0,x,C),n.setTransform(u,d,h,f,p,g),[x,C]}if(0===u&&0===f){const b=Math.round(a*h+p),w=Math.round(o*d+g),x=Math.abs(Math.round((a+c)*h+p)-b)||1,C=Math.abs(Math.round((o+l)*d+g)-w)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,b,w),n.drawImage(e,t,i,r,s,0,0,C,x),n.setTransform(u,d,h,f,p,g),[C,x]}return n.drawImage(e,t,i,r,s,o,a,l,c),[Math.hypot(u,d)*l,Math.hypot(h,f)*c]}class RA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=dA,this.textMatrixScale=1,this.fontMatrix=zp,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=F.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=F.applyTransform(t,e),r=F.applyTransform(t.slice(2),e),s=F.applyTransform([t[0],t[3]],e),o=F.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){F.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,c,u){const d=F.bezierBoundingBox(t,i,r,s,o,a,l,c,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e="Fill",t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if("Stroke"===e){t||_e("Stroke bounding box must include transform.");const r=F.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=F.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e="Fill",t=null){return F.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function OA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData)return void n.putImageData(e,0,0);const t=e.height,i=e.width,r=t%16,s=(t-r)/16,o=0===r?s:s+1,a=n.createImageData(i,16);let c,l=0;const u=e.data,d=a.data;let h,f,p,g;if(e.kind===Wc.GRAYSCALE_1BPP){const v=u.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),y=m.length,b=i+7>>3,_=4294967295,w=Ht.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(p=h<s?16:r,c=0,f=0;f<p;f++){const S=v-l;let x=0;const T=S>b?i:8*S-7,C=-8&T;let P=0,k=0;for(;x<C;x+=8)k=u[l++],m[c++]=128&k?_:w,m[c++]=64&k?_:w,m[c++]=32&k?_:w,m[c++]=16&k?_:w,m[c++]=8&k?_:w,m[c++]=4&k?_:w,m[c++]=2&k?_:w,m[c++]=1&k?_:w;for(;x<T;x++)0===P&&(k=u[l++],P=128),m[c++]=k&P?_:w,P>>=1}for(;c<y;)m[c++]=0;n.putImageData(a,0,16*h)}}else if(e.kind===Wc.RGBA_32BPP){for(f=0,g=16*i*4,h=0;h<s;h++)d.set(u.subarray(l,l+g)),l+=g,n.putImageData(a,0,f),f+=16;h<o&&(g=i*r*4,d.set(u.subarray(l,l+g)),n.putImageData(a,0,f))}else{if(e.kind!==Wc.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(p=16,g=i*p,h=0;h<o;h++){for(h>=s&&(p=r,g=i*p),c=0,f=g;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,16*h)}}}function LA(n,e){if(e.bitmap)return void n.drawImage(e.bitmap,0,0);const t=e.height,i=e.width,r=t%16,s=(t-r)/16,o=0===r?s:s+1,a=n.createImageData(i,16);let l=0;const c=e.data,u=a.data;for(let d=0;d<o;d++){const h=d<s?16:r;({srcPos:l}=xA({src:c,srcPos:l,dest:u,width:i,height:h,nonBlackColor:0})),n.putImageData(a,0,16*d)}}function ga(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)void 0!==n[i]&&(e[i]=n[i]);void 0!==n.setLineDash&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function ru(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",void 0!==n.setLineDash&&(n.setLineDash([]),n.lineDashOffset=0),!vt){const{filter:e}=n;"none"!==e&&""!==e&&(n.filter="none")}}function kA(n,e){if(e)return!0;const t=F.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ps.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const AH=["butt","round","square"],DH=["miter","round","bevel"],SH={},NA={};class Rs{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=e,this.current=new RA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new EH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Pe(this.compositeCtx))}this.ctx.save(),ru(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Pe(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>10&&"function"==typeof i,u=c?Date.now()+15:0;let d=0;const h=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(p=o[a],p!==Sn.dependency)this[p].apply(this,s[a]);else for(const g of s[a]){const v=g.startsWith("g_")?h:f;if(!v.has(g))return v.get(g,i),a}if(a++,a===l)return a;if(c&&++d>10){if(Date.now()>u)return i(),a;d=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const i=e.width,r=e.height;let u,d,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,c="prescale1";for(;s>2&&a>1||o>2&&l>1;){let h=a,f=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,a,l,0,0,h,f),e=u.canvas,a=h,l=f,c="prescale1"===c?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=Pe(t);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const T=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(T),l||(l=new Map,this._cachedBitmapsMap.set(T,l));const C=l.get(c);if(C&&!o)return{canvas:C,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])};u=C}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),LA(d.context,e));let h=F.transform(a,[1/i,0,0,-1/r,0,0]);h=F.transform(h,[1,0,0,1,0,-r]);const[f,p,g,v]=F.getAxialAlignedBoundingBox([0,0,i,r],h),m=Math.round(g-f)||1,y=Math.round(v-p)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,y),_=b.context,w=f,S=p;_.translate(-w,-S),_.transform(...h),u||(u=this._scaleImage(d.canvas,gi(_)),u=u.img,l&&o&&l.set(c,u)),_.imageSmoothingEnabled=kA(Pe(_),e.interpolate),iu(_,u,0,0,u.width,u.height,0,0,i,r),_.globalCompositeOperation="source-in";const x=F.transform(gi(_),[1,0,0,1,-w,-S]);return _.fillStyle=o?s.getPattern(t,this,x,"Fill"):s,_.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,b.canvas)),{canvas:b.canvas,offsetX:Math.round(w),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=AH[e]}setLineJoin(e){this.ctx.lineJoin=DH[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Pe(this.suspendedCtx)),ga(this.suspendedCtx,s),function wH(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ga(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;0===a||0===l||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,c,u,d){let h=e.canvas,f=l-u,p=c-d;if(o)if(f<0||p<0||f+i>h.width||p+r>h.height){const v=this.cachedCanvases.getCanvas("maskExtension",i,r),m=v.context;m.drawImage(h,-f,-p),o.some(y=>0!==y)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=F.makeHexColor(...o),m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over"),h=v.canvas,f=p=0}else if(o.some(v=>0!==v)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(f,p,i,r),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=F.makeHexColor(...o),e.fillRect(f,p,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,i,r),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,f,p,i,r,l,c,i,r),t.restore()}save(){this.inSMaskMode?(ga(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ga(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let l,c,o=s.x,a=s.y;const u=Pe(r),d=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],h=d?i.slice(0):null;for(let f=0,p=0,g=e.length;f<g;f++)switch(0|e[f]){case Sn.rectangle:o=t[p++],a=t[p++];const v=t[p++],m=t[p++],y=o+v,b=a+m;r.moveTo(o,a),0===v||0===m?r.lineTo(y,b):(r.lineTo(y,a),r.lineTo(y,b),r.lineTo(o,b)),d||s.updateRectMinMax(u,[o,a,y,b]),r.closePath();break;case Sn.moveTo:o=t[p++],a=t[p++],r.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Sn.lineTo:o=t[p++],a=t[p++],r.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Sn.curveTo:l=o,c=a,o=t[p+4],a=t[p+5],r.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,a),s.updateCurvePathMinMax(u,l,c,t[p],t[p+1],t[p+2],t[p+3],o,a,h),p+=6;break;case Sn.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[p],t[p+1],t[p+2],t[p+3],h),o=t[p+2],a=t[p+3],p+=4;break;case Sn.curveTo3:l=o,c=a,o=t[p+2],a=t[p+3],r.bezierCurveTo(t[p],t[p+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[p],t[p+1],o,a,o,a,h),p+=4;break;case Sn.closePath:r.closePath()}d&&s.updateScalingPathMinMax(u,h),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof i&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,gi(t),"Stroke"),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor;let s=!1;this.current.patternFill&&(t.save(),t.fillStyle=i.getPattern(t,this,gi(t),"Fill"),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=SH}eoClip(){this.pendingClip=NA}beginText(){this.current.textMatrix=dA,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||zp,(0===r.fontMatrix[0]||0===r.fontMatrix[3])&&ne("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=3&l,d=!!(4&l),h=o.patternFill&&!a.missingFile;let f;(a.disableFontFace||d||h)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(s.save(),s.translate(t,i),s.beginPath(),f(s,c),r&&s.setTransform(...r),(0===u||2===u)&&s.fill(),(1===u||2===u)&&s.stroke(),s.restore()):((0===u||2===u)&&s.fillText(e,t,i),(1===u||2===u)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||=[]).push({transform:Pe(s),x:t,y:i,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return le(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=i.vertical,f=h?1:-1,p=i.defaultVMetrics,g=r*t.fontMatrix[0],v=0===t.textRenderingMode&&!i.disableFontFace&&!t.patternFill;let m;if(s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),s.scale(u,c>0?-1:1),t.patternFill){s.save();const S=t.fillColor.getPattern(s,this,gi(s),"Fill");m=Pe(s),s.restore(),s.fillStyle=S}let y=t.lineWidth;const b=t.textMatrixScale;if(0===b||0===y){const S=3&t.textRenderingMode;(1===S||2===S)&&(y=this.getSinglePixelWidth())}else y/=b;if(1!==o&&(s.scale(o,o),y/=o),s.lineWidth=y,i.isInvalidPDFjsFont){const S=[];let x=0;for(const T of e)S.push(T.unicode),x+=T.width;return s.fillText(S.join(""),0,0),t.x+=x*g*u,s.restore(),void this.compose()}let w,_=0;for(w=0;w<d;++w){const S=e[w];if("number"==typeof S){_+=f*S*r/1e3;continue}let x=!1;const T=(S.isSpace?l:0)+a,C=S.fontChar,P=S.accent;let k,pe,be=S.width;if(h){const Be=S.vmetric||p,wt=-(S.vmetric?Be[1]:.5*be)*g;be=Be?-Be[0]:be,k=wt/o,pe=(_+Be[2]*g)/o}else k=_/o,pe=0;if(i.remeasure&&be>0){const Be=1e3*s.measureText(C).width/r*o;if(be<Be&&this.isFontSubpixelAAEnabled){const wt=be/Be;x=!0,s.save(),s.scale(wt,1),k/=wt}else be!==Be&&(k+=(be-Be)/2e3*r/o)}this.contentVisible&&(S.isInFont||i.missingFile)&&(v&&!P?s.fillText(C,k,pe):(this.paintChar(C,k,pe,m),P&&this.paintChar(P.fontChar,k+r*P.offset.x/o,pe-r*P.offset.y/o,m))),_+=h?be*g-T*c:be*g+T*c,x&&s.restore()}h?t.y-=_:t.x+=_*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,d=i.fontMatrix||zp,h=e.length;let p,g,v,m;if(3!==i.textRenderingMode&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,o),p=0;p<h;++p){if(g=e[p],"number"==typeof g){m=a*g*s/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}const y=(g.isSpace?c:0)+l,b=r.charProcOperatorList[g.operatorListId];b?(this.contentVisible&&(this.processingType3=g,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(b),this.restore()),v=F.applyTransform([g.width,0],d)[0]*s+y,t.translate(v,0),i.x+=v*u):ne(`Type3 character "${g.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const i=e[1],r=this.baseTransform||Pe(this.ctx);t=new yH(e,i,this.ctx,{createCanvasGraphics:o=>new Rs(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=F.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=F.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=function vH(n){switch(n[0]){case"RadialAxial":return new fH(n);case"Mesh":return new gH(n);case"Dummy":return new mH}throw new Error(`Unknown IR type: ${n[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,gi(t),"Shading");const r=gi(t);if(r){const{width:s,height:o}=t.canvas,[a,l,c,u]=F.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){_e("Should not call beginInlineImage")}beginImageData(){_e("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Pe(this.ctx),t)&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.current.updateRectMinMax(Pe(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Yc("TODO: Support non-isolated groups."),e.knockout&&ne("Knockout groups not supported.");const i=Pe(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=F.getAxialAlignedBoundingBox(e.bbox,Pe(t));r=F.intersect(r,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),h=d.context;h.translate(-o,-a),h.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),ga(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Pe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=F.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(this.#e(),ru(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(i=i.slice())[4]-=t[0],i[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=F.singularValueDecompose2dScale(Pe(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),ru(this.ctx)}else ru(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new RA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const i=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function CH(n){const{width:e,height:t}=n;if(e>1e3||t>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a,l,c,o=new Uint8Array(s*(t+1));const u=e+7&-8;let d=new Uint8Array(u*t),h=0;for(const m of n.data){let y=128;for(;y>0;)d[h++]=m&y?0:255,y>>=1}let f=0;for(h=0,0!==d[h]&&(o[0]=1,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(o[l]=d[h]?2:1,++f),h++;for(0!==d[h]&&(o[l]=2,++f),a=1;a<t;a++){h=a*u,c=a*s,d[h-u]!==d[h]&&(o[c]=d[h]?1:8,++f);let m=(d[h]?4:0)+(d[h-u]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),r[m]&&(o[c+l]=r[m],++f),h++;if(d[h-u]!==d[h]&&(o[c+l]=d[h]?2:4,++f),f>1e3)return null}for(h=u*(t-1),c=a*s,0!==d[h]&&(o[c]=8,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(o[c+l]=d[h]?4:8,++f),h++;if(0!==d[h]&&(o[c+l]=4,++f),f>1e3)return null;const p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),g=new Path2D;for(a=0;f&&a<=t;a++){let m=a*s;const y=m+e;for(;m<y&&!o[m];)m++;if(m===y)continue;g.moveTo(m%s,a);const b=m;let _=o[m];do{const w=p[_];do{m+=w}while(!o[m]);const S=o[m];5!==S&&10!==S?(_=S,o[m]=0):(_=S&51*_>>4,o[m]&=_>>2|_<<2),g.lineTo(m%s,m/s|0),o[m]||--f}while(b!==m);--a}return d=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(g),m.beginPath(),m.restore()}}(e)),r.compiled))return void r.compiled(i);const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Pe(a);a.transform(t,i,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const h=F.transform(l,[t,i,r,s,o[u],o[u+1]]),[f,p]=F.applyTransform([0,0],h);a.drawImage(c.canvas,f,p)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save(),LA(d,this.getObject(o,s)),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,gi(t),"Fill"):i,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),iu(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):ne("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void ne("Dependent image isn't ready yet");const o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!vt){const{filter:a}=r;"none"!==a&&""!==a&&(r.filter="none")}let s;if(r.scale(1/t,-1/i),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;OA(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,gi(r));r.imageSmoothingEnabled=kA(Pe(r),e.interpolate),iu(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const l=this.cachedCanvases.getCanvas("inlineImage",e.width,e.height).context;OA(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),iu(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===NA?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Pe(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(0===i&&0===r){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(0===e)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(0===e)o=1/l,a=1/c;else{const u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-i*r),c=Math.hypot(t,i),u=Math.hypot(r,s);if(0===e)o=u/l,a=c/l;else{const d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,1===r&&1===s)return void t.stroke();const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Sn)void 0!==Rs.prototype[n]&&(Rs.prototype[Sn[n]]=Rs.prototype[n]);class ma{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#t=e}}function Jt(n){switch(n instanceof Error||"object"==typeof n&&null!==n||_e('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new fr(n.message);case"MissingPDFException":return new hr(n.message);case"PasswordException":return new Gp(n.message,n.code);case"UnexpectedResponseException":return new Kc(n.message,n.status);case"UnknownErrorException":return new qp(n.message,n.details);default:return new qp(n.message,n.toString())}}class va{constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream)return void this.#t(s);if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],1===s.callback)l.resolve(s.data);else{if(2!==s.callback)throw new Error("Unexpected callback case");l.reject(Jt(s.reason))}return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){i.postMessage({sourceName:a,targetName:l,callback:1,callbackId:s.callbackId,data:c})},function(c){i.postMessage({sourceName:a,targetName:l,callback:2,callbackId:s.callbackId,reason:Jt(c)})})}else s.streamId?this.#e(s):o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:6,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{nt(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:1,streamId:s,reason:Jt(c)}),u.promise}},i)}#e(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:4,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:3,streamId:t}),delete o.streamSinks[t])},error(c){nt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:5,streamId:t,reason:Jt(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:8,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:8,streamId:t,reason:Jt(c)})})}#t(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case 8:e.success?o.startCall.resolve():o.startCall.reject(Jt(e.reason));break;case 7:e.success?o.pullCall.resolve():o.pullCall.reject(Jt(e.reason));break;case 6:if(!a){s.postMessage({sourceName:i,targetName:r,stream:7,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:7,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:7,streamId:t,reason:Jt(l)})});break;case 4:if(nt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case 3:if(nt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#n(o,t);break;case 5:nt(o,"error should have stream controller"),o.controller.error(Jt(e.reason)),this.#n(o,t);break;case 2:e.success?o.cancelCall.resolve():o.cancelCall.reject(Jt(e.reason)),this.#n(o,t);break;case 1:if(!a)break;new Promise(function(l){l(a.onCancel?.(Jt(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:2,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:2,streamId:t,reason:Jt(l)})}),a.sinkCapability.reject(Jt(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#n(e,t){var i=this;return O(function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete i.streamControllers[t]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class xH{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return Yp(this.#e)}has(e){return this.#e.has(e)}}const $i=Symbol("INTERNAL");class MH{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:i,usage:r}){this.#e=!!(2&e),this.#t=!!(4&e),this.name=t,this.intent=i,this.usage=r}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?"OFF"!==t?.viewState:!this.#t||"OFF"!==e?.printState}_setVisible(e,t,i=!1){e!==$i&&_e("Internal method `_setVisible` called."),this.#n=i,this.#r=t}}class IH{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=2){if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const i of e.groups)this.#t.set(i.id,new MH(t,i));if("OFF"===e.baseState)for(const i of this.#t.values())i._setVisible($i,!1);for(const i of e.on)this.#t.get(i)._setVisible($i,!0);for(const i of e.off)this.#t.get(i)._setVisible($i,!1);this.#n=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=this.#s(s);else{if(!this.#t.has(s))return ne(`Optional content group not found: ${s}`),!0;o=this.#t.get(s).visible}switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===i}isVisible(e){if(0===this.#t.size)return!0;if(!e)return Yc("Optional content group not defined."),!0;if("OCG"===e.type)return this.#t.has(e.id)?this.#t.get(e.id).visible:(ne(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#s(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return ne(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return ne(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return ne(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return ne(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return ne(`Unknown optional content policy ${e.policy}.`),!0}return ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=this.#t.get(e);i?(i._setVisible($i,!!t,!0),this.#e=null):ne(`Optional content group not found: ${e}`)}setOCGState({state:e}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#t.get(r);if(s)switch(i){case"ON":s._setVisible($i,!0);break;case"OFF":s._setVisible($i,!1);break;case"Toggle":s._setVisible($i,!s.visible)}}this.#e=null}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?Yp(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(null!==this.#e)return this.#e;const e=new CA;for(const[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}}class TH{constructor(e,{disableRange:t=!1,disableStream:i=!1}){nt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;void 0===e?this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i):nt(this._rangeReaders.some(function(s){return s._begin===e&&(s._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){nt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PH(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new RH(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class PH{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=tg(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return O(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class RH{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return O(function*(){if(e._queuedChunk){const i=e._queuedChunk;return e._queuedChunk=null,{value:i,done:!1}}if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hg({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||"bytes"!==n("Accept-Ranges")||"identity"!==(n("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function fg(n){const e=n("Content-Disposition");if(e){let t=function OH(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=function o(u){const d=[];let h;const f=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=f.exec(u));){let[,g,v,m]=h;if(g=parseInt(g,10),g in d){if(0===g)break}else d[g]=[v,m]}const p=[];for(let g=0;g<d.length&&g in d;++g){let[v,m]=d[g];m=a(m),v&&(m=unescape(m),0===g&&(m=l(m))),p.push(m)}return p.join("")}(n),t)return s(c(t));if(t=i("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=ca(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');-1!==f&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");return-1===d?u:r(u.slice(0,d),u.slice(d+1).replace(/^[^']*'/,""))}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,p){if("q"===f||"Q"===f)return r(h,p=(p=p.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}));try{p=atob(p)}catch{}return r(h,p)})}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(tg(t))return t}return null}function ou(n,e){return 404===n||0===n&&e.startsWith("file:")?new hr('Missing PDF "'+e+'".'):new Kc(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function FA(n){return 200===n||206===n}function BA(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function jA(n){const e=new Headers;for(const t in n){const i=n[t];void 0!==i&&e.append(t,i)}return e}function VA(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ne(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class HA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return nt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new LH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new kH(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class LH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=jA(this._stream.httpHeaders);const i=t.url;fetch(i,BA(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!FA(r.status))throw ou(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=hg({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=fg(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return O(function*(){yield e._headersCapability.promise;const{value:t,done:i}=yield e._reader.read();return i?{value:t,done:i}:(e._loaded+=t.byteLength,e.onProgress?.({loaded:e._loaded,total:e._contentLength}),{value:VA(t),done:!1})})()}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class kH{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=jA(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,BA(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!FA(o.status))throw ou(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return O(function*(){yield e._readCapability.promise;const{value:t,done:i}=yield e._reader.read();return i?{value:t,done:i}:(e._loaded+=t.byteLength,e.onProgress?.({loaded:e._loaded}),{value:VA(t),done:!1})})()}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class FH{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];void 0!==o&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){const i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==r.readyState||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void i.onError?.(r.status);const s=r.status||200;if((200!==s||206!==i.expectedStatus)&&s!==i.expectedStatus)return void i.onError?.(r.status);const a=function NH(n){const e=n.response;return"string"!=typeof e?e:ca(e).buffer}(r);if(206===s){const l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);i.onDone({begin:parseInt(c[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):i.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class BH{constructor(e){this._source=e,this._manager=new FH(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return nt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new jH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new VH(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class jH{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=hg({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=fg(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ou(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var e=this;return O(function*(){if(e._storedError)throw e._storedError;if(e._cachedChunks.length>0)return{value:e._cachedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class VH{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=ou(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){var e=this;return O(function*(){if(e._storedError)throw e._storedError;if(null!==e._queuedChunk){const i=e._queuedChunk;return e._queuedChunk=null,{value:i,done:!1}}if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const UA=/^file:\/\/\/[a-zA-Z]:\//;class UH{constructor(e){this.source=e,this.url=function HH(n){const e=zn.get("url"),t=e.parse(n);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return nt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new WH(this):new $H(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new GH(this,e,t):new zH(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class $A{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return O(function*(){if(yield e._readCapability.promise,e._done)return{value:void 0,done:!0};if(e._storedError)throw e._storedError;const t=e._readableStream.read();return null===t?(e._readCapability=Promise.withResolvers(),e.read()):(e._loaded+=t.length,e.onProgress?.({loaded:e._loaded,total:e._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class zA{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!e.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return O(function*(){if(yield e._readCapability.promise,e._done)return{value:void 0,done:!0};if(e._storedError)throw e._storedError;const t=e._readableStream.read();return null===t?(e._readCapability=Promise.withResolvers(),e.read()):(e._loaded+=t.length,e.onProgress?.({loaded:e._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function au(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class $H extends $A{constructor(e){super(e);const t=i=>{if(404===i.statusCode){const a=new hr(`Missing PDF "${this._url}".`);return this._storedError=a,void this._headersCapability.reject(a)}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=hg({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=fg(r)};if(this._request=null,"http:"===this._url.protocol){const i=zn.get("http");this._request=i.request(au(this._url,e.httpHeaders),t)}else{const i=zn.get("https");this._request=i.request(au(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class zH extends zA{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];void 0!==o&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(404!==s.statusCode)this._setReadableStream(s);else{const o=new hr(`Missing PDF "${this._url}".`);this._storedError=o}};if(this._request=null,"http:"===this._url.protocol){const s=zn.get("http");this._request=s.request(au(this._url,this._httpHeaders),r)}else{const s=zn.get("https");this._request=s.request(au(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class WH extends $A{constructor(e){super(e);let t=decodeURIComponent(this._url.path);UA.test(this._url.href)&&(t=t.replace(/^\//,""));const i=zn.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{"ENOENT"===r.code&&(r=new hr(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class GH extends zA{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);UA.test(this._url.href)&&(r=r.replace(/^\//,""));const s=zn.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}class en{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#s=null;#i=null;#o=0;#l=0;#h=null;#c=null;#d=0;#u=0;#a=Object.create(null);#p=[];#g=null;#f=[];#m=new WeakMap;#v=null;static#y=new Map;static#_=new Map;static#E=null;static#C=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#g=e;else{if("object"!=typeof e)throw new Error('No "textContentSource" parameter specified.');this.#g=new ReadableStream({start(l){l.enqueue(e),l.close()}})}this.#t=this.#c=t,this.#u=i.scale*(globalThis.devicePixelRatio||1),this.#d=i.rotation,this.#i={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;this.#v=[1,0,0,-1,-o,a+s],this.#l=r,this.#o=s,en.#w(),pr(t,i),this.#e.promise.catch(()=>{}).then(()=>{en.#C.delete(this),this.#i=null,this.#a=null})}render(){const e=()=>{this.#h.read().then(({value:t,done:i})=>{i?this.#e.resolve():(this.#s??=t.lang,Object.assign(this.#a,t.styles),this.#A(t.items),e())},this.#e.reject)};return this.#h=this.#g.getReader(),en.#C.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==this.#d&&(t?.(),this.#d=r,pr(this.#c,{rotation:r})),i!==this.#u){t?.(),this.#u=i;const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:en.#D(this.#s)};for(const o of this.#f)s.properties=this.#m.get(o),s.div=o,this.#T(s)}}cancel(){const e=new fr("TextLayer task cancelled.");this.#h?.cancel(e).catch(()=>{}),this.#h=null,this.#e.reject(e)}get textDivs(){return this.#f}get textContentItemsStr(){return this.#p}#A(e){if(this.#n)return;this.#i.ctx??=en.#D(this.#s);const t=this.#f,i=this.#p;for(const r of e){if(t.length>1e5)return ne("Ignoring additional textDivs for performance reasons."),void(this.#n=!0);if(void 0!==r.str)i.push(r.str),this.#S(r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),null!==r.id&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else"endMarkedContent"===r.type&&(this.#t=this.#t.parentNode)}}#S(e){const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#f.push(t);const r=F.transform(this.#v,e.transform);let s=Math.atan2(r[1],r[0]);const o=this.#a[e.fontName];o.vertical&&(s+=Math.PI/2);const a=this.#r&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*en.#b(a,this.#s);let u,d;0===s?(u=r[4],d=r[5]-c):(u=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));const h="calc(var(--scale-factor)*",f=t.style;this.#t===this.#c?(f.left=`${(100*u/this.#l).toFixed(2)}%`,f.top=`${(100*d/this.#o).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(en.#E*l).toFixed(2)}px)`,f.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),0!==s&&(i.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);g!==v&&Math.max(g,v)/Math.min(g,v)>1.5&&(p=!0)}if(p&&(i.canvasWidth=o.vertical?e.height:e.width),this.#m.set(t,i),this.#i.div=t,this.#i.properties=i,this.#T(this.#i),i.hasText&&this.#t.append(t),i.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#T(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(en.#E>1&&(l=`scale(${1/en.#E})`),0!==i.canvasWidth&&i.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:d}=i;(s!==d||o!==c)&&(r.font=`${d*this.#u}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:h}=r.measureText(t.textContent);h>0&&(l=`scaleX(${u*this.#u/h}) ${l}`)}0!==i.angle&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#C.size>0)){this.#y.clear();for(const{canvas:e}of this.#_.values())e.remove();this.#_.clear()}}static#D(e=null){let t=this.#_.get(e||="");if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#_.set(e,t)}return t}static#w(){if(null!==this.#E)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#E=e.getBoundingClientRect().height,e.remove()}static#b(e,t){const i=this.#y.get(e);if(i)return i;const r=this.#D(t),s=r.font;r.canvas.width=r.canvas.height=30,r.font=`30px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return this.#y.set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,30,30),r.strokeText("g",0,0);let c=r.getImageData(0,0,30,30).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/30);break}r.clearRect(0,0,30,30),r.strokeText("A",0,30),c=r.getImageData(0,0,30,30).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=30-Math.floor(d/4/30);break}r.canvas.width=r.canvas.height=0,r.font=s;const u=a?a/(a+l):.8;return this.#y.set(e,u),u}}class ya{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};return function r(s){if(!s)return;let o=null;const a=s.name;if("#text"===a)o=s.value;else{if(!ya.shouldBuildText(a))return;s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value)}if(null!==o&&t.push({str:o}),s.children)for(const l of s.children)r(l)}(e),i}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const KH=65536,ZH=vt?class uH extends Qc{_createCanvas(e,t){return zn.get("canvas").createCanvas(e,t)}}:class QV extends Qc{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}},JH=vt?class dH extends Zc{_fetchData(e,t){return DA(e).then(i=>({cMapData:i,compressionType:t}))}}:mA,eU=vt?class cH extends Xc{}:class XV extends Xc{#e;#t;#n;#r;#s;#i;#o=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#r=e,this.#s=t}get#l(){return this.#t||=new Map}get#h(){return this.#i||=new Map}get#c(){if(!this.#n){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=this.#s.createElementNS(pi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#s.createElementNS(pi,"defs"),e.append(i),i.append(this.#n),this.#s.body.append(e)}return this.#n}#d(e){if(1===e.length){const l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const u=c.join(",");return[u,u,u]}const[t,i,r]=e,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=t[l]/255,o[l]=i[l]/255,a[l]=r[l]/255;return[s.join(","),o.join(","),a.join(",")]}#u(e){if(void 0===this.#e){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(tu(t)?ne('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#l.get(e);if(t)return t;const[i,r,s]=this.#d(e),o=1===e.length?i:`${i}${r}${s}`;if(t=this.#l.get(o),t)return this.#l.set(e,t),t;const a=`g_${this.#r}_transfer_map_${this.#o++}`,l=this.#u(a);this.#l.set(e,l),this.#l.set(o,l);const c=this.#g(a);return this.#m(i,r,s,c),l}addHCMFilter(e,t){const i=`${e}-${t}`,r="base";let s=this.#h.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#h.set(r,s)),!e||!t))return s.url;const o=this.#y(e);e=F.makeHexColor(...o);const a=this.#y(t);if(t=F.makeHexColor(...a),this.#c.style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const l=new Array(256);for(let f=0;f<=255;f++){const p=f/255;l[f]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#r}_hcm_filter`,d=s.filter=this.#g(u);this.#m(c,c,c,d),this.#p(d);const h=(f,p)=>{const g=o[f]/255,v=a[f]/255,m=new Array(p+1);for(let y=0;y<=p;y++)m[y]=g+y/p*(v-g);return m.join(",")};return this.#m(h(0,5),h(1,5),h(2,5),d),s.url=this.#u(u),s.url}addAlphaFilter(e){let t=this.#l.get(e);if(t)return t;const[i]=this.#d([e]),r=`alpha_${i}`;if(t=this.#l.get(r),t)return this.#l.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#o++}`,o=this.#u(s);this.#l.set(e,o),this.#l.set(r,o);const a=this.#g(s);return this.#v(i,a),o}addLuminosityFilter(e){let i,r,t=this.#l.get(e||"luminosity");if(t)return t;if(e?([i]=this.#d([e]),r=`luminosity_${i}`):r="luminosity",t=this.#l.get(r),t)return this.#l.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#o++}`,o=this.#u(s);this.#l.set(e,o),this.#l.set(r,o);const a=this.#g(s);return this.#a(a),e&&this.#v(i,a),o}addHighlightHCMFilter(e,t,i,r,s){const o=`${t}-${i}-${r}-${s}`;let a=this.#h.get(e);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#h.set(e,a)),!t||!i))return a.url;const[l,c]=[t,i].map(this.#y.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,f]=[r,s].map(this.#y.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#c.style.color="";const p=(m,y,b)=>{const _=new Array(256),w=(d-u)/b,S=m/255,x=(y-m)/(255*b);let T=0;for(let C=0;C<=b;C++){const P=Math.round(u+C*w),k=S+C*x;for(let pe=T;pe<=P;pe++)_[pe]=k;T=P+1}for(let C=T;C<256;C++)_[C]=_[T-1];return _.join(",")},g=`g_${this.#r}_hcm_${e}_filter`,v=a.filter=this.#g(g);return this.#p(v),this.#m(p(h[0],f[0],5),p(h[1],f[1],5),p(h[2],f[2],5),v),a.url=this.#u(g),a.url}destroy(e=!1){e&&0!==this.#h.size||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#o=0)}#a(e){const t=this.#s.createElementNS(pi,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#s.createElementNS(pi,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(pi,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#f(e,t,i){const r=this.#s.createElementNS(pi,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#m(e,t,i,r){const s=this.#s.createElementNS(pi,"feComponentTransfer");r.append(s),this.#f(s,"feFuncR",e),this.#f(s,"feFuncG",t),this.#f(s,"feFuncB",i)}#v(e,t){const i=this.#s.createElementNS(pi,"feComponentTransfer");t.append(i),this.#f(i,"feFuncA",e)}#y(e){return this.#c.style.color=e,ng(getComputedStyle(this.#c).getPropertyValue("color"))}},tU=vt?class hH extends Jc{_fetchData(e){return DA(e)}}:vA;function nU(n={}){"string"==typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new mg,{docId:t}=e,i=n.url?function iU(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(vt&&"string"==typeof n)return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,r=n.data?function rU(n){if(vt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if("string"==typeof n)return ca(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||"object"==typeof n&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,s=n.httpHeaders||null,o=!0===n.withCredentials,a=n.password??null,l=n.range instanceof GA?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:KH;let u=n.worker instanceof gn?n.worker:null;const d=n.verbosity,h="string"!=typeof n.docBaseUrl||tu(n.docBaseUrl)?null:n.docBaseUrl,f="string"==typeof n.cMapUrl?n.cMapUrl:null,p=!1!==n.cMapPacked,g=n.CMapReaderFactory||JH,v="string"==typeof n.standardFontDataUrl?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||tU,y=!0!==n.stopAtErrors,b=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=!1!==n.isEvalSupported,w="boolean"==typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!vt,S=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,x="boolean"==typeof n.disableFontFace?n.disableFontFace:vt,T=!0===n.fontExtraProperties,C=!0===n.enableXfa,P=n.ownerDocument||globalThis.document,k=!0===n.disableRange,pe=!0===n.disableStream,be=!0===n.disableAutoFetch,me=!0===n.pdfBug,Be=!0===n.enableHWA,wt=l?l.length:n.length??NaN,Z="boolean"==typeof n.useSystemFonts?n.useSystemFonts:!vt&&!x,te="boolean"==typeof n.useWorkerFetch?n.useWorkerFetch:g===mA&&m===vA&&f&&v&&da(f,document.baseURI)&&da(v,document.baseURI),Du=n.canvasFactory||new ZH({ownerDocument:P,enableHWA:Be}),Su=n.filterFactory||new eU({docId:t,ownerDocument:P});!function BV(n){Number.isInteger(n)&&(qc=n)}(d);const Rt={canvasFactory:Du,filterFactory:Su};if(te||(Rt.cMapReaderFactory=new g({baseUrl:f,isCompressed:p}),Rt.standardFontDataFactory=new m({baseUrl:v})),!u){const wr={verbosity:d,port:ma.workerPort};u=wr.port?gn.fromPort(wr):new gn(wr),e._worker=u}const dt={docId:t,apiVersion:"4.5.136",data:r,password:a,disableAutoFetch:be,rangeChunkSize:c,length:wt,docBaseUrl:h,enableXfa:C,evaluatorOptions:{maxImageSize:b,disableFontFace:x,ignoreErrors:y,isEvalSupported:_,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:S,fontExtraProperties:T,useSystemFonts:Z,cMapUrl:te?f:null,standardFontDataUrl:te?v:null}},Mu={disableFontFace:x,fontExtraProperties:T,ownerDocument:P,pdfBug:me,styleElement:null,loadingParams:{disableAutoFetch:be,enableXfa:C}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const wr=u.messageHandler.sendWithPromise("GetDocRequest",dt,r?[r.buffer]:null);let Gi;if(l)Gi=new TH(l,{disableRange:k,disableStream:pe});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");Ei={url:i,length:wt,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:k,disableStream:pe},Gi=vt?typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&da(Ei.url)?new HA(Ei):new UH(Ei):da(Ei.url)?new HA(Ei):new BH(Ei)}var Ei;return wr.then(rt=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ei=new va(t,rt,u.port),cS=new lU(Ei,e,Gi,Mu,Rt);e._transport=cS,Ei.send("Ready",null)})}).catch(e._capability.reject),e}function WA(n){return"object"==typeof n&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}class mg{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+mg.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var e=this;return O(function*(){e.destroyed=!0;try{e._worker?.port&&(e._worker._pendingDestroy=!0),yield e._transport?.destroy()}catch(t){throw e._worker?.port&&delete e._worker._pendingDestroy,t}e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})()}}class GA{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){_e("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class sU{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return le(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class oU{#e=null;#t=!1;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new yA:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new qA,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new ua({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return le(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var e=this;return O(function*(){return e._transport._htmlForXfa?.children[e._pageIndex]||null})()}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=Hi.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){this._stats?.time("Overall");const h=this._transport.getRenderingIntent(i,r,u,d),{renderingIntent:f,cacheKey:p}=h;this.#t=!1,this.#r(),a||=this._transport.getOptionalContentConfig(f);let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const v=!!(4&f);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const m=_=>{g.renderTasks.delete(y),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),_?(y.capability.reject(_),this._abortOperatorList({intentState:g,reason:_ instanceof Error?_:new Error(_)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new Os({callback:m,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||=new Set).add(y);const b=y.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([_,w])=>{if(this.destroyed)m();else{if(this._stats?.time("Rendering"),!(w.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:_,optionalContentConfig:w}),y.operatorListChanged()}}).catch(m),b}getOperatorList({intent:e="display",annotationMode:t=Hi.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){const o=this._transport.getRenderingIntent(e,t,i,r,!0);let l,a=this._intentStates.get(o.cacheKey);return a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a)),a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:r=>r.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ya.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};!function s(){o.read().then(function({value:l,done:c}){c?i(a):(a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s())},r)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(e)}cleanup(e=!1){this.#t=!0;const t=this.#n(!1);return e&&t&&(this._stats&&=new yA),t}#n(e=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},5e3),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{h?c.streamReader=null:this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else{if(!c.opListReadCapability)throw d;c.opListReadCapability.reject(d)}}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof eg){let r=100;return t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r))}}if(e.streamReader.cancel(new fr(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}class aU{#e=new Set;#t=Promise.resolve();postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const r of this.#e)r.call(this,i)})}addEventListener(e,t){this.#e.add(t)}removeEventListener(e,t){this.#e.delete(t)}terminate(){this.#e.clear()}}const mi={isWorkerDisabled:!1,fakeWorkerId:0};vt&&(mi.isWorkerDisabled=!0,ma.workerSrc||="./pdf.worker.mjs"),mi.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||"null"===t.origin)return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},mi.createCDNWrapper=function(n){return URL.createObjectURL(new Blob([`await import("${n}");`],{type:"text/javascript"}))};class gn{static#e;constructor({name:e=null,port:t=null,verbosity:i=jV()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(gn.#e?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(gn.#e||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return vt?Promise.all([zn.promise,this._readyCapability.promise]):this._readyCapability.promise}#t(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new va("main","worker",e),this._messageHandler.on("ready",function(){}),this.#t()}_initialize(){if(mi.isWorkerDisabled||gn.#n)return void this._setupFakeWorker();let{workerSrc:e}=gn;try{mi.isSameOrigin(window.location.href,e)||(e=mi.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new va("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{s.abort(),!this.destroyed&&a?(this._messageHandler=i,this._port=t,this._webWorker=t,this.#t()):r()}),i.on("ready",a=>{if(s.abort(),this.destroyed)r();else try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};return void o()}catch{Yc("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){mi.isWorkerDisabled||(ne("Setting up fake worker."),mi.isWorkerDisabled=!0),gn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new aU;this._port=t;const i="fake"+mi.fakeWorkerId++,r=new va(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new va(i,i+"_worker",t),this.#t()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),gn.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#e?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gn(e)}static get workerSrc(){if(ma.workerSrc)return ma.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#n(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var e=this;return le(this,"_setupFakeWorkerGlobal",function(){var i=O(function*(){return e.#n?e.#n:(yield import(e.workerSrc)).WorkerMessageHandler});return function(){return i.apply(this,arguments)}}()())}}class lU{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#s=null;constructor(e,t,i,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new qA,this.fontLoader=new aH({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,t=null){const i=this.#e.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return le(this,"annotationStorage",new ag)}getRenderingIntent(e,t=Hi.ENABLE,i=null,r=!1,s=!1){let o=2,a=og;switch(e){case"any":o=1;break;case"display":break;case"print":o=4;break;default:ne(`getRenderingIntent - invalid intent: ${e}`)}const l=4&o&&i instanceof AA?i:this.annotationStorage;switch(t){case Hi.DISABLE:o+=64;break;case Hi.ENABLE:break;case Hi.ENABLE_FORMS:o+=16;break;case Hi.ENABLE_STORAGE:o+=32,a=l.serializable;break;default:ne(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=128),s&&(o+=256);const{ids:c,hash:u}=l.modifiedIds;return{renderingIntent:o,cacheKey:[o,a.hash,u].join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),en.cleanup(),this._networkStream?.cancelAllRequests(new fr("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{nt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){o?r.close():(nt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s]))}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),s.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{nt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);s?(r.onPull=()=>{s.read().then(function({value:o,done:a}){a?r.close():(nt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o]))}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}):r.close()}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new sU(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Gp(i.message,i.code);break;case"InvalidPDFException":r=new hA(i.message);break;case"MissingPDFException":r=new hr(i.message);break;case"UnexpectedResponseException":r=new Kc(i.message,i.status);break;case"UnknownErrorException":r=new qp(i.message,i.details);break;default:_e("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(this.#s=Promise.withResolvers(),t.onPassword){const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){this.#s.reject(s)}}else this.#s.reject(new Gp(i.message,i.code));return this.#s.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{this.destroyed||this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:o,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in s){const h=s.error;ne(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const c=l&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new lH(s,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!a&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;nt(d,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,f]of h.objs)if(f?.ref===d)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{if(this.destroyed)return;const a=this.#t.get(r);if(!a.objs.has(i)){if(0===a._intentStates.size)return void o?.bitmap?.close();switch(s){case"Image":a.objs.resolve(i,o),o?.dataLen>1e7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=this.#n.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const o=new oU(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#n.set(t,r),r}getPageIndex(e){return WA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(t=>new IH(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new xH(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){var t=this;return O(function*(){if(!t.destroyed){yield t.messageHandler.sendWithPromise("Cleanup",null);for(const i of t.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);t.commonObjs.clear(),e||t.fontLoader.clear(),t.#e.clear(),t.filterFactory.destroy(!0),en.cleanup()}})()}cachedPageNumber(e){return WA(e)?this.#r.get(0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`)??null:null}}const lu=Symbol("INITIAL_DATA");class qA{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:lu}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const i=this.#e[e];if(!i||i.data===lu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=this.#e[e];return!!t&&t.data!==lu}resolve(e,t=null){const i=this.#t(e);i.data=t,i.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==lu&&(yield[e,t])}}}class cU{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Os{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new cU(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Os.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Os.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Rs(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Os.#t.delete(this._canvas),this.callback(e||new eg(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var e=this;return O(function*(){e.cancelled||(e.operatorListIdx=e.gfx.executeOperatorList(e.operatorList,e.operatorListIdx,e._continueBound,e.stepper),e.operatorListIdx===e.operatorList.argsArray.length&&(e.running=!1,e.operatorList.lastChunk&&(e.gfx.endDrawing(),Os.#t.delete(e._canvas),e.callback())))})()}}const uU="4.5.136",dU="3a21f03b0";function YA(n){return Math.floor(255*Math.max(0,Math.min(1,n))).toString(16).padStart(2,"0")}function ba(n){return Math.max(0,Math.min(255,255*n))}class KA{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=ba(e),e,e]}static G_HTML([e]){const t=YA(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(ba)}static RGB_HTML(e){return`#${e.map(YA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[ba(1-Math.min(1,e+r)),ba(1-Math.min(1,i+r)),ba(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i;return["CMYK",r,s,o,Math.min(r,s,o)]}}class XA{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===s)break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.getAttribute(a.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===s)break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(null!==o.value){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options;r.setValue(t,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(null!=c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a="richText"!==s,l=e.div;if(l.append(o),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===r.children.length){if(r.value){const d=document.createTextNode(r.value);o.append(d),a&&ya.shouldBuildText(r.name)&&c.push(d)}return{textDivs:c}}const u=[[r,-1,o]];for(;u.length>0;){const[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}const p=d.children[++u.at(-1)[1]];if(null===p)continue;const{name:g}=p;if("#text"===g){const m=document.createTextNode(p.value);c.push(m),f.append(m);continue}const v=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,g):document.createElement(g);if(f.append(v),p.attributes&&this.setAttributes({html:v,element:p,storage:t,intent:s,linkService:i}),p.children?.length>0)u.push([p,-1,v]);else if(p.value){const m=document.createTextNode(p.value);a&&ya.shouldBuildText(g)&&c.push(m),v.append(m)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const _a=1e3,gr=new WeakSet;function vi(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class fU{static create(e){switch(e.data.annotationType){case 2:return new QA(e);case 1:return new pU(e);case 20:switch(e.data.fieldType){case"Tx":return new gU(e);case"Btn":return e.data.radioButton?new ZA(e):e.data.checkBox?new vU(e):new yU(e);case"Ch":return new bU(e);case"Sig":return new mU(e)}return new mr(e);case 16:return new vg(e);case 3:return new JA(e);case 4:return new wU(e);case 5:return new EU(e);case 6:return new CU(e);case 8:return new eD(e);case 14:return new DU(e);case 15:return new tD(e);case 7:return new AU(e);case 9:return new SU(e);case 10:return new xU(e);case 11:return new MU(e);case 12:return new IU(e);case 13:return new nD(e);case 17:return new TU(e);default:return new Ue(e)}}}class Ue{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e?.str||t?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ue._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#r(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i?.splice(0,4,...e);const{width:c,height:u}=vi(e);t.left=100*(e[0]-a)/s+"%",t.top=100*(o-e[3]+l)/o+"%",0===r?(t.width=100*c/s+"%",t.height=100*u/o+"%"):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof mr||(s.tabIndex=_a);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof vg){const{rotation:g}=t;return!t.hasOwnCanvas&&0!==g&&this.setRotation(g,s),s}const{width:a,height:l}=vi(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;switch(g>0||v>0?o.borderRadius=`calc(${g}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`:this instanceof ZA&&(o.borderRadius=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),t.borderStyle.style){case 1:o.borderStyle="solid";break;case 2:o.borderStyle="dashed";break;case 3:ne("Unimplemented border style: beveled");break;case 4:ne("Unimplemented border style: inset");break;case 5:o.borderBottomStyle="solid"}const m=t.borderColor||null;m?(this.#t=!0,o.borderColor=F.makeHexColor(0|m[0],0|m[1],0|m[2])):o.borderWidth=0}const c=F.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=r.rawDims;o.left=100*(c[0]-h)/u+"%",o.top=100*(c[1]-f)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(o.width=100*a/u+"%",o.height=100*l/d+"%"):this.setRotation(p,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=vi(this.data.rect);let a,l;e%180==0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=KA[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:KA[`${o}_rgb`](a)})};return le(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2==1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:1===i||2===i})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];o&&(o({detail:{[r]:s},target:e}),delete t[r])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(g=>Math.fround(g));if(8===e.length){const[g,v,m,y]=e.subarray(2,6);if(r===g&&s===v&&t===m&&i===y)return}const{style:o}=this.container;let a;if(this.#t){const{borderColor:g,borderWidth:v}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),p=`clippath_${this.data.id}`;f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let g=2,v=e.length;g<v;g+=8){const m=e[g],y=e[g+1],b=e[g+2],_=e[g+3],w=u.createElement("rect"),S=(b-t)/l,x=(s-y)/c,T=(m-b)/l,C=(y-_)/c;w.setAttribute("x",S),w.setAttribute("y",x),w.setAttribute("width",T),w.setAttribute("height",C),f.append(w),a?.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${x}" width="${T}" height="${C}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=this.#n=new vg({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(i.render())}render(){_e("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(-1===s||o===t)continue;const l="string"==typeof a?a:null,c=document.querySelector(`[data-element-id="${o}"]`);!c||gr.has(c)?i.push({id:o,exportValue:l,domElement:c}):ne(`_getElementsByName - element not allowed: ${o}`)}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&gr.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}class QA extends Ue{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(this.#t(i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#n(i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(e.onclick=()=>!1));e.onclick=()=>{i?.();const{fields:r,refs:s,include:o}=t,a=[];if(0!==r.length||0!==s.length){const u=new Set(s);for(const d of r){const h=this._fieldObjects[d]||[];for(const{id:f}of h)u.add(f)}for(const d of Object.values(this._fieldObjects))for(const h of d)u.has(h.id)===o&&a.push(h)}else for(const u of Object.values(this._fieldObjects))a.push(...u);const l=this.annotationStorage,c=[];for(const u of a){const{id:d}=u;switch(c.push(d),u.type){case"text":case"combobox":case"listbox":l.setValue(d,{value:u.defaultValue||""});break;case"checkbox":case"radiobutton":l.setValue(d,{value:u.defaultValue===u.exportValues});break;default:continue}const h=document.querySelector(`[data-element-id="${d}"]`);h&&(gr.has(h)?h.dispatchEvent(new Event("resetform")):ne(`_bindResetFormAction - element not allowed: ${d}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class pU extends Ue{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class mr extends Ue{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ht.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{if("blur"===i){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if("focus"===i){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(e,t,i,r){for(const[s,o]of i)("Action"===o||this.data.actions?.[o])&&(("Focus"===o||"Blur"===o)&&(t||={focused:!1}),this._setEventListener(e,t,s,o,r),"Focus"!==o||this.data.actions?.Blur?"Blur"===o&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":F.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,s=e.style;let o;const l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2),u=Math.round(c/(1.35*r))||1;o=Math.min(r,l(c/u/1.35))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2);o=Math.min(r,l(c/1.35))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=F.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(s.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class gU extends mr{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=r.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=a??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",a??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),gr.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=_a,this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",u=>{e.setValue(t,{value:u.target.value}),this.setPropertyOnSiblings(i,"value",u.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",u=>{i.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let c=u=>{const{formattedValue:d}=l;null!=d&&(u.target.value=d),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",d=>{if(l.focused)return;const{target:h}=d;l.userValue&&(h.value=l.userValue),l.lastCommittedValue=h.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target),this._dispatchEventFromSandbox({value(f){l.userValue=f.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),f.target.value=l.userValue},formattedValue(f){const{formattedValue:p}=f.detail;l.formattedValue=p,null!=p&&f.target!==document.activeElement&&(f.target.value=p),e.setValue(t,{formattedValue:p})},selRange(f){f.target.setSelectionRange(...f.detail.selRange)},charLimit:f=>{const{charLimit:p}=f.detail,{target:g}=f;if(0===p)return void g.removeAttribute("maxLength");g.setAttribute("maxLength",p);let v=l.userValue;!v||v.length<=p||(v=v.slice(0,p),g.value=l.userValue=v,e.setValue(t,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}},d)}),i.addEventListener("keydown",d=>{l.commitKey=1;let h=-1;if("Escape"===d.key?h=0:"Enter"!==d.key||this.data.multiLine?"Tab"===d.key&&(l.commitKey=3):h=2,-1===h)return;const{value:f}=d.target;l.lastCommittedValue!==f&&(l.lastCommittedValue=f,l.userValue=f,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,willCommit:!0,commitKey:h,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});const u=c;c=null,i.addEventListener("blur",d=>{if(!l.focused||!d.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:h}=d.target;l.userValue=h,l.lastCommittedValue!==h&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,willCommit:!0,commitKey:l.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}),u(d)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",d=>{l.lastCommittedValue=null;const{data:h,target:f}=d,{value:p,selectionStart:g,selectionEnd:v}=f;let m=g,y=v;switch(d.inputType){case"deleteWordBackward":{const b=p.substring(0,g).match(/\w*[^\w]*$/);b&&(m-=b[0].length);break}case"deleteWordForward":{const b=p.substring(g).match(/^[^\w]*\w*/);b&&(y+=b[0].length);break}case"deleteContentBackward":g===v&&(m-=1);break;case"deleteContentForward":g===v&&(y+=1)}d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,change:h||"",willCommit:!1,selStart:m,selEnd:y}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){const d=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class mU extends mr{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class vU extends mr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return gr.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=_a,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{o.target.checked=(t.defaultFieldValue||"Off")===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{this._dispatchEventFromSandbox({value(l){l.target.checked="Off"!==l.detail.value,e.setValue(i,{value:l.target.checked})}},o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ZA extends mr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof r&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(gr.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=_a,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=null!=a&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===i;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}},a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class yU extends QA{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class bU extends mr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");gr.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=_a;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of r.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=r;return f?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[d]):-1===h.selectedIndex?null:h[h.selectedIndex][d]};let l=a(!1);const c=u=>Array.prototype.map.call(u.target.options,h=>({displayValue:h.textContent,exportValue:h.value}));return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{this._dispatchEventFromSandbox({value(h){o?.();const f=h.detail.value,p=new Set(Array.isArray(f)?f:[f]);for(const g of r.options)g.selected=p.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){r.multiple=!0},remove(h){const f=r.options,p=h.detail.remove;f[p].selected=!1,r.remove(p),f.length>0&&-1===Array.prototype.findIndex.call(f,v=>v.selected)&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:f,displayValue:p,exportValue:g}=h.detail.insert,v=r.children[f],m=document.createElement("option");m.textContent=p,m.value=g,v?v.before(m):r.append(m),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:f}=h.detail;for(;0!==r.length;)r.remove(0);for(const p of f){const{displayValue:g,exportValue:v}=p,m=document.createElement("option");m.textContent=g,m.value=v,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const f=new Set(h.detail.indices);for(const p of h.target.options)p.selected=f.has(p.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}},u)}),r.addEventListener("input",u=>{const d=a(!0),h=a(!1);e.setValue(t,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class vg extends Ue{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Ue._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new _U({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${gA}${i}`).join(",")),this.container}}class _U{#e=this.#S.bind(this);#t=this.#b.bind(this);#n=this.#w.bind(this);#r=this.#D.bind(this);#s=null;#i=null;#o=null;#l=null;#h=null;#c=null;#d=null;#u=!1;#a=null;#p=null;#g=null;#f=null;#m=null;#v=null;#y=!1;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#i=e,this.#m=r,this.#o=o,this.#f=a,this.#c=l,this.#s=t,this.#g=c,this.#d=u,this.#h=i,this.#l=_A.toDateObject(s),this.trigger=i.flatMap(h=>h.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",this.#r),h.addEventListener("mouseenter",this.#n),h.addEventListener("mouseleave",this.#t),h.classList.add("popupTriggerArea");for(const h of i)h.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,d&&this.#D()}render(){if(this.#a)return;const e=this.#a=document.createElement("div");if(e.className="popup",this.#s){const s=e.style.outlineColor=F.makeHexColor(...this.#s);e.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${s} 30%, white)`:F.makeHexColor(...this.#s.map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),({dir:i.dir,str:i.textContent}=this.#m),e.append(t),this.#l){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),t.append(s)}const r=this.#_;if(r)XA.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#o);e.append(s)}this.#i.append(e)}get#_(){const e=this.#f,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#f.html||null}get#E(){return this.#_?.attributes?.style?.fontSize||0}get#C(){return this.#_?.attributes?.style?.color||null}#A(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#C,fontSize:this.#E?`calc(${this.#E}px * var(--scale-factor))`:""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:r});return i}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s)i.append(document.createTextNode(r[s])),s<o-1&&i.append(document.createElement("br"));return i}#S(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#u)&&this.#D()}updateEdited({rect:e,popupContent:t}){this.#v||={contentsObj:this.#o,richText:this.#f},e&&(this.#p=null),t&&(this.#f=this.#A(t),this.#o=null),this.#a?.remove(),this.#a=null}resetEdited(){this.#v&&(({contentsObj:this.#o,richText:this.#f}=this.#v),this.#v=null,this.#a?.remove(),this.#a=null,this.#p=null)}#T(){if(null!==this.#p)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#c;let o=!!this.#d,a=o?this.#d:this.#g;for(const p of this.#h)if(!a||null!==F.intersect(p.data.rect,a)){a=p.data.rect,o=!0;break}const l=F.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]);this.#p=[100*(l[0]+(o?a[2]-a[0]+5:0)-r)/t,100*(l[1]-s)/i];const{style:f}=this.#i;f.left=`${this.#p[0]}%`,f.top=`${this.#p[1]}%`}#D(){this.#u=!this.#u,this.#u?(this.#w(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#b(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#w(){this.#a||this.render(),this.isVisible?this.#u&&this.#i.classList.add("focused"):(this.#T(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#b(){this.#i.classList.remove("focused"),!this.#u&&this.isVisible&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#i.hidden=!0)}maybeShow(){this.#y&&(this.#a||this.#w(),this.#y=!1,this.#i.hidden=!1)}get isVisible(){return!1===this.#i.hidden}}class JA extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class wU extends Ue{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:i}=vi(e.rect),r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class EU extends Ue{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:i}=vi(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class CU extends Ue{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:i}=vi(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",i/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class eD extends Ue{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:r}}=this;if(!t)return this.container;const{width:s,height:o}=vi(e),a=this.svgFactory.create(s,o,!0);let l=[];for(let u=0,d=t.length;u<d;u+=2)l.push(`${t[u]-e[0]},${e[3]-t[u+1]}`);l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class AU extends eD{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DU extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class tD extends Ue{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=se.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:i,popupRef:r}}=this,{width:s,height:o}=vi(e),a=this.svgFactory.create(s,o,!0);for(const l of t){let c=[];for(let d=0,h=l.length;d<h;d+=2)c.push(`${l[d]-e[0]},${e[3]-l[d+1]}`);c=c.join(" ");const u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),a.append(u)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class SU extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class xU extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class MU extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class IU extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class nD extends Ue{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class TU extends Ue{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||0===t.fillAlpha?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:r}=Ht.platform;return e.addEventListener("keydown",s=>{"Enter"===s.key&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class PU{#e=null;#t=null;#n=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){this.div=e,this.#e=t,this.#t=i,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}#r(e,t){const i=e.firstChild||e;i.id=`${gA}${t}`,this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1)}render(e){var t=this;return O(function*(){const{annotations:i}=e,r=t.div;pr(r,t.viewport);const s=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Jp,annotationStorage:e.annotationStorage||new ag,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:t,elements:null};for(const a of i){if(a.noHTML)continue;const l=16===a.annotationType;if(l){const d=s.get(a.id);if(!d)continue;o.elements=d}else{const{width:d,height:h}=vi(a.rect);if(d<=0||h<=0)continue}o.data=a;const c=fU.create(o);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=s.get(a.popupRef);d?d.push(c):s.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),t.#r(u,a.id),c._isEditable&&(t.#n.set(c.data.id,c),t._annotationEditorUIManager?.renderAnnotationElement(c))}t.#s()})()}update({viewport:e}){const t=this.div;this.viewport=e,pr(t,{rotation:e.rotation}),this.#s(),t.hidden=!1}#s(){if(!this.#t)return;const e=this.div;for(const[t,i]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?"CANVAS"===s.nodeName?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}}const cu=/\r\n?|\n/g;class it extends W{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s=this.editorDivPaste.bind(this);#i;#o="";#l=`${this.id}-editor`;#h;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=it.prototype,t=s=>s.isEmpty(),i=fa.TRANSLATE_SMALL,r=fa.TRANSLATE_BIG;return le(this,"_keyboardManager",new ha([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=se.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#i=e.color||it._defaultColor||W._defaultLineColor,this.#h=e.fontSize||it._defaultFontSize}static initialize(e,t){W.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case K.FREETEXT_SIZE:it._defaultFontSize=t;break;case K.FREETEXT_COLOR:it._defaultColor=t}}updateParams(e,t){switch(e){case K.FREETEXT_SIZE:this.#d(t);break;case K.FREETEXT_COLOR:this.#u(t)}}static get defaultPropertiesToUpdate(){return[[K.FREETEXT_SIZE,it._defaultFontSize],[K.FREETEXT_COLOR,it._defaultColor||W._defaultLineColor]]}get propertiesToUpdate(){return[[K.FREETEXT_SIZE,this.#h],[K.FREETEXT_COLOR,this.#i]]}#d(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#h)*this.parentScale),this.#h=r,this.#p()},i=this.#h;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(e){const t=r=>{this.#i=this.editorDiv.style.color=r},i=this.#i;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-it._internalPadding*e,-(it._internalPadding+this.#h)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(se.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#r,{signal:e}),this.editorDiv.addEventListener("focus",this.#t,{signal:e}),this.editorDiv.addEventListener("blur",this.#e,{signal:e}),this.editorDiv.addEventListener("input",this.#n,{signal:e}),this.editorDiv.addEventListener("paste",this.#s,{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#l),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.editorDiv.removeEventListener("paste",this.#s),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(it.#g(t));return e.join("\n")}#p(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180==this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#o,t=this.#o=this.#a().trimEnd();if(e===t)return;const i=r=>{this.#o=r,r?(this.#f(),this._uiManager.rebuild(this),this.#p()):this.remove()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#p()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){it._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#l),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),W._l10nPromise.get("pdfjs-free-text-default-content").then(r=>this.editorDiv?.setAttribute("default-content",r)),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#h}px * var(--scale-factor))`,i.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),nu(this,this.div,["dblclick","keydown"]),this.width){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this.#c;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,u]=this.pageDimensions,[d,h]=this.pageTranslation;let f,p;switch(this.rotation){case 0:f=e+(o[0]-d)/c,p=t+this.height-(o[1]-h)/u;break;case 90:f=e+(o[0]-d)/c,p=t-(o[1]-h)/u,[a,l]=[l,-a];break;case 180:f=e-this.width+(o[0]-d)/c,p=t-(o[1]-h)/u,[a,l]=[-a,-l];break;case 270:f=e+(o[0]-d-this.height*u)/c,p=t+(o[1]-h-this.width*c)/u,[a,l]=[-l,a]}this.setAt(f*r,p*s,a,l)}else this.setAt(e*r,t*s,this.width*r,this.height*s);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#g(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(cu,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(1===i.length&&"text/plain"===i[0])return;e.preventDefault();const r=it.#v(t.getData("text")||"").replaceAll(cu,"\n");if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes("\n"))return o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:l}=o,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){const f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(cu,"")),f!==this.editorDiv){let p=c;for(const g of this.editorDiv.childNodes)g!==f?p.push(it.#g(g)):p=u}c.push(a.nodeValue.slice(0,l).replaceAll(cu,""))}else if(a===this.editorDiv){let f=c,p=0;for(const g of this.editorDiv.childNodes)p++===l&&(f=u),f.push(it.#g(g))}this.#o=`${c.join("\n")}${r}${u.join("\n")}`,this.#f();const d=new Range;let h=c.reduce((f,p)=>f+p.length,0);for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const p=f.nodeValue.length;if(h<=p){d.setStart(f,h),d.setEnd(f,h);break}h-=p}s.removeAllRanges(),s.addRange(d)}#f(){if(this.editorDiv.replaceChildren(),this.#o)for(const e of this.#o.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#m(){return this.#o.replaceAll("\xa0"," ")}static#v(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){let r=null;if(e instanceof JA){const{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:u},textContent:d,textPosition:h,parent:{page:{pageNumber:f}}}=e;if(!d||0===d.length)return null;r=e={annotationType:se.FREETEXT,color:Array.from(a),fontSize:o,value:d.join("\n"),position:h,pageIndex:f-1,rect:l.slice(0),rotation:c,id:u,deleted:!1}}const s=super.deserialize(e,t,i);return s.#h=e.fontSize,s.#i=F.makeHexColor(...e.color),s.#o=it.#v(e.value),s.annotationElementId=e.id||null,s.#c=r,s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=it._internalPadding*this.parentScale,i=this.getRect(t,t),r=W._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#i),s={annotationType:se.FREETEXT,color:r,fontSize:this.#h,value:this.#m(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#y(s)?null:(s.id=this.annotationElementId,s)}#y(e){const{value:t,fontSize:i,color:r,pageIndex:s}=this.#c;return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((o,a)=>o!==r[a])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:i}=t;i.fontSize=`calc(${this.#h}px * var(--scale-factor))`,i.color=this.#i,t.replaceChildren();for(const s of this.#o.split("\n")){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),t.append(o)}const r=it._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#o}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class iD{#e;#t=[];#n=[];constructor(e,t=0,i=0,r=!0){let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:m,y,width:b,height:_}of e){const w=Math.floor((m-t)/u)*u,S=Math.ceil((m+b+t)/u)*u,x=Math.floor((y-t)/u)*u,T=Math.ceil((y+_+t)/u)*u;this.#t.push([w,x,T,!0],[S,x,T,!1]),s=Math.min(s,w),o=Math.max(o,S),a=Math.min(a,x),l=Math.max(l,T)}const d=o-s+2*i,h=l-a+2*i,f=s-i,p=a-i,g=this.#t.at(r?-1:-2),v=[g[0],g[2]];for(const m of this.#t){const[y,b,_]=m;m[0]=(y-f)/d,m[1]=(b-p)/h,m[2]=(_-p)/h}this.#e={x:f,y:p,width:d,height:h,lastPoint:v}}getOutlines(){this.#t.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of this.#t)t[3]?(e.push(...this.#l(t)),this.#i(t)):(this.#o(t),e.push(...this.#l(t)));return this.#r(e)}#r(e){const t=[],i=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,u,d]=o;i.delete(o);let h=a,f=l;for(s=[a,c],r.push(s);;){let p;if(i.has(u))p=u;else{if(!i.has(d))break;p=d}i.delete(p),[a,l,c,u,d]=p,h!==a&&(s.push(h,f,a,f===l?l:c),h=a),f=f===l?c:l}s.push(h,f)}return new RU(r,this.#e)}#s(e){const t=this.#n;let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1}#i([,e,t]){const i=this.#s(e);this.#n.splice(i,0,[e,t])}#o([,e,t]){const i=this.#s(e);for(let r=i;r<this.#n.length;r++){const[s,o]=this.#n[r];if(s!==e)break;if(s===e&&o===t)return void this.#n.splice(r,1)}for(let r=i-1;r>=0;r--){const[s,o]=this.#n[r];if(s!==e)break;if(s===e&&o===t)return void this.#n.splice(r,1)}}#l(e){const[t,i,r]=e,s=[[t,i,r]],o=this.#s(r);for(let a=0;a<o;a++){const[l,c]=this.#n[a];for(let u=0,d=s.length;u<d;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(1===d)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s}}class rD{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof yg}}class RU extends rD{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){const e=[];for(const t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){const o=t[s],a=t[s+1];o===i?(e.push(`V${a}`),r=a):a===r&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){const o=[],a=i-e,l=r-t;for(const c of this.#t){const u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=e+c[d]*a,u[d+1]=r-c[d+1]*l;o.push(u)}return o}get box(){return this.#e}}class vr{#e;#t=[];#n;#r;#s=[];#i=new Float64Array(18);#o;#l;#h;#c;#d;#u;#a=[];static#p=8;static#g=2;static#f=vr.#p+vr.#g;constructor({x:e,y:t},i,r,s,o,a=0){this.#e=i,this.#u=s*r,this.#r=o,this.#i.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=a,this.#c=vr.#p*r,this.#h=vr.#f*r,this.#d=r,this.#a.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#i[8])}#m(){const e=this.#i.subarray(4,6),t=this.#i.subarray(16,18),[i,r,s,o]=this.#e;return[(this.#o+(e[0]-t[0])/2-i)/s,(this.#l+(e[1]-t[1])/2-r)/o,(this.#o+(t[0]-e[0])/2-i)/s,(this.#l+(t[1]-e[1])/2-r)/o]}add({x:e,y:t}){this.#o=e,this.#l=t;const[i,r,s,o]=this.#e;let[a,l,c,u]=this.#i.subarray(8,12);const d=e-c,h=t-u,f=Math.hypot(d,h);if(f<this.#h)return!1;const p=f-this.#c,g=p/f,v=g*d,m=g*h;let y=a,b=l;a=c,l=u,c+=v,u+=m,this.#a?.push(e,t);const S=-m/p*this.#u,x=v/p*this.#u;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([c+S,u+x],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([c-S,u-x],16),isNaN(this.#i[6])?(0===this.#s.length&&(this.#i.set([a+S,l+x],2),this.#s.push(NaN,NaN,NaN,NaN,(a+S-i)/s,(l+x-r)/o),this.#i.set([a-S,l-x],14),this.#t.push(NaN,NaN,NaN,NaN,(a-S-i)/s,(l-x-r)/o)),this.#i.set([y,b,a,l,c,u],6),!this.isEmpty()):(this.#i.set([y,b,a,l,c,u],6),Math.abs(Math.atan2(b-l,y-a)-Math.atan2(m,v))<Math.PI/2?([a,l,c,u]=this.#i.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+u)/2-r)/o),[a,l,y,b]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((y+a)/2-i)/s,((b+l)/2-r)/o),!0):([y,b,a,l,c,u]=this.#i.subarray(0,6),this.#s.push(((y+5*a)/6-i)/s,((b+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),[c,u,a,l,y,b]=this.#i.subarray(12,18),this.#t.push(((y+5*a)/6-i)/s,((b+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t,i=this.#i.subarray(4,6),r=this.#i.subarray(16,18),[s,o,a,l]=this.#e,[c,u,d,h]=this.#m();if(isNaN(this.#i[6])&&!this.isEmpty())return`M${(this.#i[2]-s)/a} ${(this.#i[3]-o)/l} L${(this.#i[4]-s)/a} ${(this.#i[5]-o)/l} L${c} ${u} L${d} ${h} L${(this.#i[16]-s)/a} ${(this.#i[17]-o)/l} L${(this.#i[14]-s)/a} ${(this.#i[15]-o)/l} Z`;const f=[];f.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?f.push(`L${e[p+4]} ${e[p+5]}`):f.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);f.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${c} ${u} L${d} ${h} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?f.push(`L${t[p+4]} ${t[p+5]}`):f.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return f.push(`L${t[4]} ${t[5]} Z`),f.join(" ")}getOutlines(){const e=this.#s,t=this.#t,i=this.#i,r=i.subarray(4,6),s=i.subarray(16,18),[o,a,l,c]=this.#e,u=new Float64Array((this.#a?.length??0)+2);for(let m=0,y=u.length-2;m<y;m+=2)u[m]=(this.#a[m]-o)/l,u[m+1]=(this.#a[m+1]-a)/c;u[u.length-2]=(this.#o-o)/l,u[u.length-1]=(this.#l-a)/c;const[d,h,f,p]=this.#m();if(isNaN(i[6])&&!this.isEmpty()){const m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/c,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/c,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/c],0),new yg(m,u,this.#e,this.#d,this.#n,this.#r)}const g=new Float64Array(this.#s.length+24+this.#t.length);let v=e.length;for(let m=0;m<v;m+=2)isNaN(e[m])?g[m]=g[m+1]=NaN:(g[m]=e[m],g[m+1]=e[m+1]);g.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],v),v+=24;for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2)isNaN(t[m+y])?(g[v]=g[v+1]=NaN,v+=2):(g[v]=t[m+y],g[v+1]=t[m+y+1],v+=2);return g.set([NaN,NaN,NaN,NaN,t[4],t[5]],v),new yg(g,u,this.#e,this.#d,this.#n,this.#r)}}class yg extends rD{#e;#t=null;#n;#r;#s;#i;#o;constructor(e,t,i,r,s,o){super(),this.#o=e,this.#s=t,this.#e=i,this.#i=r,this.#n=s,this.#r=o,this.#c(o);const{x:a,y:l,width:c,height:u}=this.#t;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u}toSVGPath(){const e=[`M${this.#o[4]} ${this.#o[5]}`];for(let t=6,i=this.#o.length;t<i;t+=6)isNaN(this.#o[t])?e.push(`L${this.#o[t+4]} ${this.#o[t+5]}`):e.push(`C${this.#o[t]} ${this.#o[t+1]} ${this.#o[t+2]} ${this.#o[t+3]} ${this.#o[t+4]} ${this.#o[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){const o=i-e,a=r-t;let l,c;switch(s){case 0:l=this.#l(this.#o,e,r,o,-a),c=this.#l(this.#s,e,r,o,-a);break;case 90:l=this.#h(this.#o,e,t,o,a),c=this.#h(this.#s,e,t,o,a);break;case 180:l=this.#l(this.#o,i,t,-o,a),c=this.#l(this.#s,i,t,-o,a);break;case 270:l=this.#h(this.#o,i,r,-o,-a),c=this.#h(this.#s,i,r,-o,-a)}return{outline:Array.from(l),points:[Array.from(c)]}}#l(e,t,i,r,s){const o=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*r,o[a+1]=i+e[a+1]*s;return o}#h(e,t,i,r,s){const o=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*r,o[a+1]=i+e[a]*s;return o}#c(e){const t=this.#o;let i=t[4],r=t[5],s=i,o=r,a=i,l=r,c=i,u=r;const d=e?Math.max:Math.min;for(let v=6,m=t.length;v<m;v+=6){if(isNaN(t[v]))s=Math.min(s,t[v+4]),o=Math.min(o,t[v+5]),a=Math.max(a,t[v+4]),l=Math.max(l,t[v+5]),u<t[v+5]?(c=t[v+4],u=t[v+5]):u===t[v+5]&&(c=d(c,t[v+4]));else{const y=F.bezierBoundingBox(i,r,...t.slice(v,v+6));s=Math.min(s,y[0]),o=Math.min(o,y[1]),a=Math.max(a,y[2]),l=Math.max(l,y[3]),u<y[3]?(c=y[2],u=y[3]):u===y[3]&&(c=d(c,y[2]))}i=t[v+4],r=t[v+5]}const h=s-this.#n,f=o-this.#n,p=a-s+2*this.#n,g=l-o+2*this.#n;this.#t={x:h,y:f,width:p,height:g,lastPoint:[c,u]}}get box(){return this.#t}getNewOutline(e,t){const{x:i,y:r,width:s,height:o}=this.#t,[a,l,c,u]=this.#e,d=s*c,h=o*u,f=i*c+a,p=r*u+l,g=new vr({x:this.#s[0]*d+f,y:this.#s[1]*h+p},this.#e,this.#i,e,this.#r,t??this.#n);for(let v=2;v<this.#s.length;v+=2)g.add({x:this.#s[v]*d+f,y:this.#s[v+1]*h+p});return g.getOutlines()}}class Wn{#e=this.#g.bind(this);#t=this.#m.bind(this);#n=null;#r=null;#s;#i=null;#o=!1;#l=!1;#h=null;#c;#d=null;#u;static get _keyboardManager(){return le(this,"_keyboardManager",new ha([[["Escape","mac+Escape"],Wn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Wn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Wn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Wn.prototype._moveToPrevious],[["Home","mac+Home"],Wn.prototype._moveToBeginning],[["End","mac+End"],Wn.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#l=!1,this.#u=K.HIGHLIGHT_COLOR,this.#h=e):(this.#l=!0,this.#u=K.HIGHLIGHT_DEFAULT_COLOR),this.#d=e?._uiManager||t,this.#c=this.#d._eventBus,this.#s=e?.color||this.#d?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#n=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#d._signal;e.addEventListener("click",this.#f.bind(this),{signal:t}),e.addEventListener("keydown",this.#e,{signal:t});const i=this.#r=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#s,e.append(i),e}renderMainDropdown(){const e=this.#i=this.#a();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#a(){const e=document.createElement("div"),t=this.#d._signal;e.addEventListener("contextmenu",Ut,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of this.#d.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#s),s.addEventListener("click",this.#p.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#e,{signal:t}),e}#p(e,t){t.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#u,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#n)return void this.#f(e);const t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){this.#v?e.target!==this.#n?e.target.nextSibling?.focus():this.#i.firstChild?.focus():this.#f(e)}_moveToPrevious(e){e.target!==this.#i?.firstChild&&e.target!==this.#n?(this.#v||this.#f(e),e.target.previousSibling?.focus()):this.#v&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#v?this.#i.firstChild?.focus():this.#f(e)}_moveToEnd(e){this.#v?this.#i.lastChild?.focus():this.#f(e)}#g(e){Wn._keyboardManager.exec(this,e)}#f(e){if(this.#v)return void this.hideDropdown();if(this.#o=0===e.detail,window.addEventListener("pointerdown",this.#t,{signal:this.#d._signal}),this.#i)return void this.#i.classList.remove("hidden");const t=this.#i=this.#a();this.#n.append(t)}#m(e){this.#i?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#l){if(!this.#v)return void this.#h?.unselect();this.hideDropdown(),this.#n.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(e){if(this.#r&&(this.#r.style.backgroundColor=e),!this.#i)return;const t=this.#d.highlightColors.values();for(const i of this.#i.children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#i?.remove(),this.#i=null}}class Ye extends W{#e=null;#t=0;#n;#r=null;#s=null;#i=null;#o=null;#l=0;#h=null;#c=null;#d=null;#u=!1;#a=this.#b.bind(this);#p=null;#g;#f=null;#m="";#v;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=se.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ye.prototype;return le(this,"_keyboardManager",new ha([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ye._defaultColor,this.#v=e.thickness||Ye._defaultThickness,this.#g=e.opacity||Ye._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#m=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#u=!0,this.#E(e),this.#D()):(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#o=e.focusNode,this.#l=e.focusOffset,this.#_(),this.#D(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#_(){const e=new iD(this.#n,.001);this.#c=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#c.box);const t=new iD(this.#n,.0025,.001,"ltr"===this._uiManager.direction);this.#i=t.getOutlines();const{lastPoint:i}=this.#i.box;this.#p=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#E({highlightOutlines:e,highlightId:t,clipPathId:i}){if(this.#c=e,this.#i=e.getNewOutline(this.#v/2+1.5,.0025),t>=0)this.#d=t,this.#r=i,this.parent.drawLayer.finalizeLine(t,e),this.#f=this.parent.drawLayer.highlightOutline(this.#i);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#d,e),this.parent.drawLayer.updateBox(this.#d,Ye.#w(this.#c.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#i),this.parent.drawLayer.updateBox(this.#f,Ye.#w(this.#i.box,u))}const{x:s,y:o,width:a,height:l}=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{const[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{const[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}const{lastPoint:c}=this.#i.box;this.#p=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(e,t){W.initialize(e,t),Ye._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case K.HIGHLIGHT_DEFAULT_COLOR:Ye._defaultColor=t;break;case K.HIGHLIGHT_THICKNESS:Ye._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#p}updateParams(e,t){switch(e){case K.HIGHLIGHT_COLOR:this.#C(t);break;case K.HIGHLIGHT_THICKNESS:this.#A(t)}}static get defaultPropertiesToUpdate(){return[[K.HIGHLIGHT_DEFAULT_COLOR,Ye._defaultColor],[K.HIGHLIGHT_THICKNESS,Ye._defaultThickness]]}get propertiesToUpdate(){return[[K.HIGHLIGHT_COLOR,this.color||Ye._defaultColor],[K.HIGHLIGHT_THICKNESS,this.#v||Ye._defaultThickness],[K.HIGHLIGHT_FREE,this.#u]]}#C(e){const t=r=>{this.color=r,this.parent?.drawLayer.changeColor(this.#d,r),this.#s?.updateColor(r)},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#A(e){const t=this.#v,i=r=>{this.#v=r,this.#S(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){var e=()=>super.addEditToolbar,t=this;return O(function*(){const i=yield e().call(t);return i?(t._uiManager.highlightColors&&(t.#s=new Wn({editor:t}),i.addColorPicker(t.#s)),i):null})()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#M())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#D(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#D(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#S(e){if(!this.#u)return;this.#E({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)}#T(){null===this.#d||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#D(e=this.parent){null===this.#d&&(({id:this.#d,clipPathId:this.#r}=e.drawLayer.highlight(this.#c,this.color,this.#g)),this.#f=e.drawLayer.highlightOutline(this.#i),this.#h&&(this.#h.style.clipPath=this.#r))}static#w({x:e,y:t,width:i,height:r},s){switch(s){case 90:return{x:1-t-r,y:e,width:r,height:i};case 180:return{x:1-e-i,y:1-t-r,width:i,height:r};case 270:return{x:t,y:1-e-i,width:r,height:i}}return{x:e,y:t,width:i,height:r}}rotate(e){const{drawLayer:t}=this.parent;let i;i=this.#u?Ye.#w(this.#c.box,e=(e-this.rotation+360)%360):Ye.#w(this,e),t.rotate(this.#d,e),t.rotate(this.#f,e),t.updateBox(this.#d,i),t.updateBox(this.#f,Ye.#w(this.#i.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#m&&(e.setAttribute("aria-label",this.#m),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#a,{signal:this._uiManager._signal});const t=this.#h=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r;const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),nu(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#f,"hovered")}#b(e){Ye._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#I(!0);break;case 1:case 3:this.#I(!1)}}#I(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#o,this.#l)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#u||this.#I(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#d,e),this.parent.drawLayer.show(this.#f,e))}#M(){return this.#u?this.rotation:0}#R(){if(this.#u)return null;const[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#n,o=new Float32Array(8*s.length);let a=0;for(const{x:l,y:c,width:u,height:d}of s){const h=l*e+i,f=(1-c-d)*t+r;o[a]=o[a+4]=h,o[a+1]=o[a+3]=f,o[a+2]=o[a+6]=h+u*e,o[a+5]=o[a+7]=f+d*t,a+=8}return o}#x(e){return this.#c.serialize(e,this.#M())}static startHighlighting(e,t,{target:i,x:r,y:s}){const{x:o,y:a,width:l,height:c}=i.getBoundingClientRect(),u=g=>{this.#O(e,g)},d=e._signal,h={capture:!0,passive:!1,signal:d},f=g=>{g.preventDefault(),g.stopPropagation()},p=g=>{i.removeEventListener("pointermove",u),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",f,h),window.removeEventListener("contextmenu",Ut),this.#L(e,g)};window.addEventListener("blur",p,{signal:d}),window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("pointerdown",f,h),window.addEventListener("contextmenu",Ut,{signal:d}),i.addEventListener("pointermove",u,{signal:d}),this._freeHighlight=new vr({x:r,y:s},[o,a,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#O(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#L(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,i){const r=super.deserialize(e,t,i),{rect:[s,o,a,l],color:c,quadPoints:u}=e;r.color=F.makeHexColor(...c),r.#g=e.opacity;const[d,h]=r.pageDimensions;r.width=(a-s)/d,r.height=(l-o)/h;const f=r.#n=[];for(let p=0;p<u.length;p+=8)f.push({x:(u[4]-a)/d,y:(l-(1-u[p+5]))/h,width:(u[p+2]-u[p])/d,height:(u[p+5]-u[p+1])/h});return r.#_(),r}serialize(e=!1){if(this.isEmpty()||e)return null;const t=this.getRect(0,0),i=W._colorManager.convert(this.color);return{annotationType:se.HIGHLIGHT,color:i,opacity:this.#g,thickness:this.#v,quadPoints:this.#R(),outlines:this.#x(t),pageIndex:this.pageIndex,rect:t,rotation:this.#M(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class ut extends W{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#i=this.canvasPointerdown.bind(this);#o=null;#l=new Path2D;#h=!1;#c=!1;#d=!1;#u=null;#a=0;#p=0;#g=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=se.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){W.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case K.INK_THICKNESS:ut._defaultThickness=t;break;case K.INK_COLOR:ut._defaultColor=t;break;case K.INK_OPACITY:ut._defaultOpacity=t/100}}updateParams(e,t){switch(e){case K.INK_THICKNESS:this.#f(t);break;case K.INK_COLOR:this.#m(t);break;case K.INK_OPACITY:this.#v(t)}}static get defaultPropertiesToUpdate(){return[[K.INK_THICKNESS,ut._defaultThickness],[K.INK_COLOR,ut._defaultColor||W._defaultLineColor],[K.INK_OPACITY,Math.round(100*ut._defaultOpacity)]]}get propertiesToUpdate(){return[[K.INK_THICKNESS,this.thickness||ut._defaultThickness],[K.INK_COLOR,this.color||ut._defaultColor||W._defaultLineColor],[K.INK_OPACITY,Math.round(100*(this.opacity??ut._defaultOpacity))]]}#f(e){const t=r=>{this.thickness=r,this.#j()},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(e){const t=r=>{this.color=r,this.#b()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(e){const t=r=>{this.opacity=r,this.#b()},i=this.opacity;this.addCommands({cmd:t.bind(this,e/=100),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#M(),this.#R()),this.isAttachedToDOM||(this.parent.add(this),this.#x()),this.#j()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#o&&(clearTimeout(this.#o),this.#o=null),this.#u?.disconnect(),this.#u=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions;this.setDimensions(this.width*e,this.height*t)}enableEditMode(){this.#h||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#i,{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#i))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#y(){const{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}#_(){const{ctx:e,color:t,opacity:i,thickness:r,parentScale:s,scaleFactor:o}=this;e.lineWidth=r*s/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function iH(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}(i)}`}#E(e,t){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ut,{signal:i}),this.canvas.addEventListener("pointerleave",this.#r,{signal:i}),this.canvas.addEventListener("pointermove",this.#n,{signal:i}),this.canvas.addEventListener("pointerup",this.#s,{signal:i}),this.canvas.removeEventListener("pointerdown",this.#i),this.isEditing=!0,this.#d||(this.#d=!0,this.#x(),this.thickness||=ut._defaultThickness,this.color||=ut._defaultColor||W._defaultLineColor,this.opacity??=ut._defaultOpacity),this.currentPath.push([e,t]),this.#c=!1,this.#_(),this.#g=()=>{this.#T(),this.#g&&window.requestAnimationFrame(this.#g)},window.requestAnimationFrame(this.#g)}#C(e,t){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===r)return;const s=this.currentPath;let o=this.#l;if(s.push([e,t]),this.#c=!0,s.length<=2)return o.moveTo(...s[0]),void o.lineTo(e,t);3===s.length&&(this.#l=o=new Path2D,o.moveTo(...s[0])),this.#D(o,...s.at(-3),...s.at(-2),e,t)}#A(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#l.lineTo(...e)}#S(e,t){let i;if(this.#g=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#C(e,t),this.#A(),1!==this.currentPath.length)i=this.#w();else{const l=[e,t];i=[[l,l.slice(),l.slice(),l]]}const r=this.#l,s=this.currentPath;this.currentPath=[],this.#l=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#M(),this.#R()),this.#j())},mustExec:!0})}#T(){if(!this.#c)return;this.#c=!1;Math.ceil(this.thickness*this.parentScale);const t=this.currentPath.slice(-3),i=t.map(u=>u[0]),r=t.map(u=>u[1]),{ctx:c}=(Math.min(...i),Math.max(...i),Math.min(...r),Math.max(...r),this);c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)c.stroke(u);c.stroke(this.#l),c.restore()}#D(e,t,i,r,s,o,a){const l=(t+r)/2,c=(i+s)/2,u=(r+o)/2,d=(s+a)/2;e.bezierCurveTo(l+2*(r-l)/3,c+2*(s-c)/3,u+2*(r-u)/3,d+2*(s-d)/3,u,d)}#w(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let i,[r,s]=e[0];for(i=1;i<e.length-2;i++){const[h,f]=e[i],[p,g]=e[i+1],v=(h+p)/2,m=(f+g)/2;t.push([[r,s],[r+2*(h-r)/3,s+2*(f-s)/3],[v+2*(h-v)/3,m+2*(f-m)/3],[v,m]]),[r,s]=[v,m]}const[o,a]=e[i],[l,c]=e[i+1];return t.push([[r,s],[r+2*(o-r)/3,s+2*(a-s)/3],[l+2*(o-l)/3,c+2*(a-c)/3],[l,c]]),t}#b(){if(this.isEmpty())return void this.#L();this.#_();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#L();for(const i of this.bezierPath2D)t.stroke(i)}commit(){this.#h||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#h=!0,this.div.classList.add("disabled"),this.#j(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0!==e.button||!this.isInEditMode()||this.#h||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#E(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#C(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#I(e)}canvasPointerleave(e){this.#I(e)}#I(e){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#i,{signal:this._uiManager._signal}),this.#o&&clearTimeout(this.#o),this.#o=setTimeout(()=>{this.#o=null,this.canvas.removeEventListener("contextmenu",Ut)},10),this.#S(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#M(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#R(){this.#u=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#u.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#u?.disconnect(),this.#u=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#h}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,s,o]=this.#y();if(this.setAt(i,r,0,0),this.setDims(s,o),this.#M(),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),this.#d=!0,this.#x(),this.setDims(this.width*a,this.height*l),this.#b(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#R(),this.div}#x(){if(!this.#d)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#L()}setDimensions(e,t){const i=Math.round(e),r=Math.round(t);if(this.#a===i&&this.#p===r)return;this.#a=i,this.#p=r,this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=e/s,this.height=t/o,this.fixAndSetPosition(),this.#h&&this.#O(e,t),this.#x(),this.#b(),this.canvas.style.visibility="visible",this.fixDims()}#O(e,t){const i=this.#$(),r=(e-i)/this.#t,s=(t-i)/this.#e;this.scaleFactor=Math.min(r,s)}#L(){const e=this.#$()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#N(e){const t=new Path2D;for(let i=0,r=e.length;i<r;i++){const[s,o,a,l]=e[i];0===i&&t.moveTo(...s),t.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}return t}static#k(e,t,i){const[r,s,o,a]=t;switch(i){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]+=r,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=e[l+1]+r,e[l+1]=u+s}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=o-e[l],e[l+1]+=s;break;case 270:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=o-e[l+1],e[l+1]=a-u}break;default:throw new Error("Invalid rotation")}return e}static#B(e,t,i){const[r,s,o,a]=t;switch(i){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]-=r,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=e[l+1]-s,e[l+1]=u-r}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=o-e[l],e[l+1]-=s;break;case 270:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=a-e[l+1],e[l+1]=o-u}break;default:throw new Error("Invalid rotation")}return e}#U(e,t,i,r){const s=[],o=this.thickness/2,a=e*t+o,l=e*i+o;for(const c of this.paths){const u=[],d=[];for(let h=0,f=c.length;h<f;h++){const[p,g,v,m]=c[h];if(p[0]===m[0]&&p[1]===m[1]&&1===f){const P=e*p[0]+a,k=e*p[1]+l;u.push(P,k),d.push(P,k);break}const y=e*p[0]+a,b=e*p[1]+l,_=e*g[0]+a,w=e*g[1]+l,S=e*v[0]+a,x=e*v[1]+l,T=e*m[0]+a,C=e*m[1]+l;0===h&&(u.push(y,b),d.push(y,b)),u.push(_,w,S,x,T,C),d.push(_,w),h===f-1&&d.push(T,C)}s.push({bezier:ut.#k(u,r,this.rotation),points:ut.#k(d,r,this.rotation)})}return s}#F(){let e=1/0,t=-1/0,i=1/0,r=-1/0;for(const s of this.paths)for(const[o,a,l,c]of s){const u=F.bezierBoundingBox(...o,...a,...l,...c);e=Math.min(e,u[0]),i=Math.min(i,u[1]),t=Math.max(t,u[2]),r=Math.max(r,u[3])}return[e,i,t,r]}#$(){return this.#h?Math.ceil(this.thickness*this.parentScale):0}#j(e=!1){if(this.isEmpty())return;if(!this.#h)return void this.#b();const t=this.#F(),i=this.#$();this.#t=Math.max(W.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(W.MIN_SIZE,t[3]-t[1]);const r=Math.ceil(i+this.#t*this.scaleFactor),s=Math.ceil(i+this.#e*this.scaleFactor),[o,a]=this.parentDimensions;this.width=r/o,this.height=s/a,this.setAspectRatio(r,s);const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#x(),this.#b(),this.#a=r,this.#p=s,this.setDims(r,s);const u=e?i/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}static deserialize(e,t,i){if(e instanceof tD)return null;const r=super.deserialize(e,t,i);r.thickness=e.thickness,r.color=F.makeHexColor(...e.color),r.opacity=e.opacity;const[s,o]=r.pageDimensions,a=r.width*s,l=r.height*o,c=r.parentScale,u=e.thickness/2;r.#h=!0,r.#a=Math.round(a),r.#p=Math.round(l);const{paths:d,rect:h,rotation:f}=e;for(let{bezier:g}of d){g=ut.#B(g,h,f);const v=[];r.paths.push(v);let m=c*(g[0]-u),y=c*(g[1]-u);for(let _=2,w=g.length;_<w;_+=6){const P=c*(g[_+4]-u),k=c*(g[_+5]-u);v.push([[m,y],[c*(g[_]-u),c*(g[_+1]-u)],[c*(g[_+2]-u),c*(g[_+3]-u)],[P,k]]),m=P,y=k}const b=this.#N(v);r.bezierPath2D.push(b)}const p=r.#F();return r.#t=Math.max(W.MIN_SIZE,p[2]-p[0]),r.#e=Math.max(W.MIN_SIZE,p[3]-p[1]),r.#O(a,l),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=W._colorManager.convert(this.ctx.strokeStyle);return{annotationType:se.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#U(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class bg extends W{#e=null;#t=null;#n=null;#r=null;#s=null;#i="";#o=null;#l=!1;#h=null;#c=null;#d=!1;#u=!1;static _type="stamp";static _editorType=se.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#s=e.bitmapFile}static initialize(e,t){W.initialize(e,t)}static get supportedTypes(){return le(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return le(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(se.STAMP,{bitmapFile:e.getAsFile()})}#a(e,t=!1){e?(this.#e=e.bitmap,t||(this.#t=e.id,this.#d=e.isSvg),e.file&&(this.#i=e.file.name),this.#f()):this.remove()}#p(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#g(){var e=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#a(r,!0)).finally(()=>this.#p());if(this.#r){const r=this.#r;return this.#r=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(r).then(s=>this.#a(s)).finally(()=>this.#p()))}if(this.#s){const r=this.#s;return this.#s=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(r).then(s=>this.#a(s)).finally(()=>this.#p()))}const t=document.createElement("input");t.type="file",t.accept=bg.supportedTypesStr;const i=this._uiManager._signal;this.#n=new Promise(r=>{t.addEventListener("change",O(function*(){if(t.files&&0!==t.files.length){e._uiManager.enableWaiting(!0);const s=yield e._uiManager.imageManager.getFromFile(t.files[0]);e.#a(s)}else e.remove();r()}),{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>this.#p()),t.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#h?.disconnect(),this.#h=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&null===this.#o&&this.#g(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#g()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#f():this.#g(),this.width){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r)}return this.div}#f(){const{div:e}=this;let{width:t,height:i}=this.#e;const[r,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>o*r||i>o*s){const u=Math.min(o*r/t,o*s/i);t*=u,i*=u}const[a,l]=this.parentDimensions;this.setDims(t*a/r,i*l/s),this._uiManager.enableWaiting(!1);const c=this.#o=document.createElement("canvas");e.append(c),e.hidden=!1,this.#_(t,i),this.#C(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&c.setAttribute("aria-label",this.#i)}#m(e,t){const[i,r]=this.parentDimensions;this.width=e/i,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#c&&clearTimeout(this.#c),this.#c=setTimeout(()=>{this.#c=null,this.#_(e,t)},200)}#v(e,t){const{width:i,height:r}=this.#e;let s=i,o=r,a=this.#e;for(;s>2*e||o>2*t;){const l=s,c=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(s,o);u.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=u.transferToImageBitmap()}return a}#y(e,t,i){var r=this;return O(function*(){if(r.#l||(r.#l=!0,!(yield r._uiManager.isMLEnabledFor("altText"))||r.hasAltText()))return;const a=new OffscreenCanvas(t,i).getContext("2d",{willReadFrequently:!0});a.drawImage(e,0,0,e.width,e.height,0,0,t,i);const c=(yield r._uiManager.mlGuess({service:"moz-image-to-text",request:{data:a.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}))?.output||"";r.parent&&c&&!r.hasAltText()&&(r.altTextData={altText:c,decorative:!1})})()}#_(e,t){e=Math.ceil(e),t=Math.ceil(t);const i=this.#o;if(!i||i.width===e&&i.height===t)return;i.width=e,i.height=t;const r=this.#d?this.#e:this.#v(e,t);this.#y(r,e,t);const s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(r,0,0,r.width,r.height,0,0,e,t)}getImageForAltText(){return this.#o}#E(e){if(e){if(this.#d){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return({width:t.width,height:t.height}=this.#e),t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#d){const[t,i]=this.pageDimensions,r=Math.round(this.width*t*Ps.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Ps.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}#C(){this._uiManager._signal&&(this.#h=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.#m(t.width,t.height)}),this.#h.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#h?.disconnect(),this.#h=null},{once:!0}))}static deserialize(e,t,i){if(e instanceof nD)return null;const r=super.deserialize(e,t,i),{rect:s,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:c}=e;a&&i.imageManager.isValidId(a)?r.#t=a:r.#r=o,r.#d=l;const[u,d]=r.pageDimensions;return r.width=(s[2]-s[0])/u,r.height=(s[3]-s[1])/d,c&&(r.altTextData=c),r}serialize(e=!1,t=null){if(this.isEmpty())return null;const i={annotationType:se.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#d,structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=this.#E(!0),i.accessibilityData=this.altTextData,i;const{decorative:r,altText:s}=this.altTextData;if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),null===t)return i;t.stamps||=new Map;const o=this.#d?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(t.stamps.has(this.#t)){if(this.#d){const a=t.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#E(!1))}}else t.stamps.set(this.#t,{area:o,serialized:i}),i.bitmap=this.#E(!1);return i}}let OU=(()=>{class n{#e;#t=!1;#n=null;#r=null;#s=null;#i=null;#o=null;#l=new Map;#h=!1;#c=!1;#d=!1;#u=null;#a;static _initialized=!1;static#p=new Map([it,ut,bg,Ye].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){const d=[...n.#p.values()];if(!n._initialized){n._initialized=!0;for(const h of d)h.initialize(u,t)}t.registerEditorTypes(d),this.#a=t,this.pageIndex=i,this.div=r,this.#e=s,this.#n=o,this.viewport=c,this.#u=l,this.drawLayer=a,this.#a.addLayer(this)}get isEmpty(){return 0===this.#l.size}get isInvisible(){return this.isEmpty&&this.#a.getMode()===se.NONE}updateToolbar(t){this.#a.updateToolbar(t)}updateMode(t=this.#a.getMode()){switch(this.#y(),t){case se.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case se.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const r of n.#p.values())i.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}addInkEditorIfNeeded(t){if(this.#a.getMode()===se.INK){if(!t)for(const r of this.#l.values())if(r.isEmpty())return void r.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){this.#a.setEditingState(t)}addCommands(t){this.#a.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const r of this.#l.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#a.removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!this.#n)return;const i=this.#n.getEditableAnnotations();for(const r of i){if(r.hide(),this.#a.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const s=this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,i=new Map;for(const s of this.#l.values())if(s.disableEditing(),s.annotationElementId){if(null!==s.serialize()){t.set(s.annotationElementId,s);continue}i.set(s.annotationElementId,s),this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(this.#a.isDeletedAnnotationElement(a))continue;let l=i.get(a);l?(l.resetAnnotationElement(o),l.show(!1),o.show()):(l=t.get(a),l&&(this.#a.addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show())}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of n.#p.values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#a.getActive()!==t&&this.#a.setActiveEditor(t)}enableTextSelection(){this.div.tabIndex=-1,this.#u?.div&&!this.#i&&(this.#i=this.#g.bind(this),this.#u.div.addEventListener("pointerdown",this.#i,{signal:this.#a._signal}),this.#u.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#i&&(this.#u.div.removeEventListener("pointerdown",this.#i),this.#i=null,this.#u.div.classList.remove("highlighting"))}#g(t){this.#a.unselectAll();const{target:i}=t;if(i===this.#u.div||i.classList.contains("endOfContent")&&this.#u.div.contains(i)){const{isMac:r}=Ht.platform;if(0!==t.button||t.ctrlKey&&r)return;this.#a.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Ye.startHighlighting(this,"ltr"===this.#a.direction,t),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#a._signal}),t.preventDefault()}}enableClick(){if(this.#s)return;const t=this.#a._signal;this.#s=this.pointerdown.bind(this),this.#r=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#s,{signal:t}),this.div.addEventListener("pointerup",this.#r,{signal:t})}disableClick(){this.#s&&(this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r),this.#s=null,this.#r=null)}attach(t){this.#l.set(t.id,t);const{annotationElementId:i}=t;i&&this.#a.isDeletedAnnotationElement(i)&&this.#a.removeDeletedAnnotationElement(t)}detach(t){this.#l.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#d&&t.annotationElementId&&this.#a.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#a.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#a.addDeletedAnnotationElement(t.annotationElementId),W.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),this.#a.addEditor(t),this.attach(t),!t.isAttachedToDOM){const i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#a.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:i}=document;t.div.contains(i)&&!this.#o&&(t._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),i.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#a.getId()}get#f(){return n.#p.get(this.#a.getMode())}get _signal(){return this.#a._signal}#m(t){const i=this.#f;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#a.updateToolbar(t),this.#a.updateMode(t);const{offsetX:r,offsetY:s}=this.#v(),o=this.getNextId(),a=this.#m({parent:this,id:o,x:r,y:s,uiManager:this.#a,isCentered:!0,...i});a&&this.add(a)}deserialize(t){return n.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#a)||null}createAndAddNewEditor(t,i,r={}){const s=this.getNextId(),o=this.#m({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#a,isCentered:i,...r});return o&&this.add(o),o}#v(){const{x:t,y:i,width:r,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,t),a=Math.max(0,i),u=(o+Math.min(window.innerWidth,t+r))/2-t,d=(a+Math.min(window.innerHeight,i+s))/2-i,[h,f]=this.viewport.rotation%180==0?[u,d]:[d,u];return{offsetX:h,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#a.setSelected(t)}toggleSelected(t){this.#a.toggleSelected(t)}isSelected(t){return this.#a.isSelected(t)}unselect(t){this.#a.unselect(t)}pointerup(t){const{isMac:i}=Ht.platform;if(!(0!==t.button||t.ctrlKey&&i)&&t.target===this.div&&this.#h){if(this.#h=!1,!this.#t)return void(this.#t=!0);if(this.#a.getMode()===se.STAMP)return void this.#a.unselectAll();this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#a.getMode()===se.HIGHLIGHT&&this.enableTextSelection(),this.#h)return void(this.#h=!1);const{isMac:i}=Ht.platform;if(0!==t.button||t.ctrlKey&&i||t.target!==this.div)return;this.#h=!0;const r=this.#a.getActive();this.#t=!r||r.isEmpty()}findNewParent(t,i,r){const s=this.#a.findParent(i,r);return null!==s&&s!==this&&(s.changeParent(t),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const t of this.#l.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#l.clear(),this.#a.removeLayer(this)}#y(){this.#c=!0;for(const t of this.#l.values())t.isEmpty()&&t.remove();this.#c=!1}render({viewport:t}){this.viewport=t,pr(this.div,t);for(const i of this.#a.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#a.commitOrRemove(),this.#y();const i=this.viewport.rotation,r=t.rotation;if(this.viewport=t,pr(this.div,{rotation:r}),i!==r)for(const s of this.#l.values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#a.viewParameters.realScale}}return n})();class bt{#e=null;#t=0;#n=new Map;#r=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#e){if(this.#e!==e){if(this.#n.size>0)for(const t of this.#n.values())t.remove(),e.append(t);this.#e=e}}else this.#e=e}static get _svgFactory(){return le(this,"_svgFactory",new Jp)}static#s(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=100*i+"%",o.left=100*t+"%",o.width=100*r+"%",o.height=100*s+"%"}#i(e){const t=bt._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),bt.#s(t,e),t}#o(e,t){const i=bt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=bt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}highlight(e,t,i,r=!1){const s=this.#t++,o=this.#i(e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=bt._svgFactory.createElement("defs");o.append(a);const l=bt._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&this.#r.set(s,l);const u=this.#o(a,c),d=bt._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${c}`),this.#n.set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=this.#t++,i=this.#i(e.box);i.classList.add("highlightOutline");const r=bt._svgFactory.createElement("defs");i.append(r);const s=bt._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;let a;if(s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.free){i.classList.add("free");const u=bt._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const d=bt._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=bt._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${o}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=bt._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(t,i),t}finalizeLine(e,t){const i=this.#r.get(e);this.#r.delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#r.delete(e)}updatePath(e,t){this.#r.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){bt.#s(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}remove(e){null!==this.#e&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(const e of this.#n.values())e.remove();this.#n.clear()}}var LU=Q.AbortException,kU=Q.AnnotationEditorLayer,NU=Q.AnnotationEditorParamsType,sD=Q.AnnotationEditorType,FU=Q.AnnotationEditorUIManager,BU=Q.AnnotationLayer,jU=Q.AnnotationMode,VU=Q.CMapCompressionType,HU=Q.ColorPicker,UU=Q.DOMSVGFactory,$U=Q.DrawLayer,zU=Q.FeatureTest,oD=Q.GlobalWorkerOptions,WU=Q.ImageKind,GU=Q.InvalidPDFException,qU=Q.MissingPDFException,YU=Q.OPS,KU=Q.PDFDataRangeTransport,XU=Q.PDFDateString,QU=Q.PDFWorker,ZU=Q.PasswordResponses,JU=Q.PermissionFlag,e$=Q.PixelsPerInch,t$=Q.RenderingCancelledException,n$=Q.TextLayer,i$=Q.UnexpectedResponseException,r$=Q.Util,aD=Q.VerbosityLevel,s$=Q.XfaLayer,o$=Q.build,a$=Q.createValidAbsoluteUrl,l$=Q.fetchData,lD=Q.getDocument,c$=Q.getFilenameFromUrl,u$=Q.getPdfFilenameFromUrl,d$=Q.getXfaPageViewport,h$=Q.isDataScheme,f$=Q.isPdfFile,p$=Q.noContextMenu,g$=Q.normalizeUnicode,m$=Q.setLayerDimensions,v$=Q.shadow,uu=Q.version;function cD(n,e){this.v=n,this.k=e}function uD(n){return new cD(n,0)}function wa(n){var e,t;function i(s,o){try{var a=n[s](o),l=a.value,c=l instanceof cD;Promise.resolve(c?l.v:l).then(function(u){if(c){var d="return"===s?"return":"next";if(!l.k||u.done)return i(d,u);u=n[d](u).value}r(a.done?"return":"normal",u)},function(u){i("throw",u)})}catch(u){r("throw",u)}}function r(s,o){switch(s){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(s,o){return new Promise(function(a,l){var c={key:s,arg:o,resolve:a,reject:l,next:null};t?t=t.next=c:(e=t=c,i(s,o))})},"function"!=typeof n.return&&(this.return=void 0)}function dD(n){return function(){return new wa(n.apply(this,arguments))}}function du(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(du=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new du(n)}wa.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},wa.prototype.next=function(n){return this._invoke("next",n)},wa.prototype.throw=function(n){return this._invoke("throw",n)},wa.prototype.return=function(n){return this._invoke("return",n)};var Ea={d:(n,e)=>{for(var t in e)Ea.o(e,t)&&!Ea.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)},Re=globalThis.pdfjsViewer={};Ea.d(Re,{AnnotationLayerBuilder:()=>ID,DownloadManager:()=>pz,EventBus:()=>Mg,FindState:()=>zi,GenericL10n:()=>wi,LinkTarget:()=>yr,PDFFindController:()=>tz,PDFHistory:()=>l3,PDFLinkService:()=>mu,PDFPageView:()=>eS,PDFScriptingManager:()=>_3,PDFSinglePageViewer:()=>A3,PDFViewer:()=>iS,ProgressBar:()=>R$,RenderingStates:()=>Fe,ScrollMode:()=>ce,SimpleLinkService:()=>Ag,SpreadMode:()=>_t,StructTreeLayerBuilder:()=>ZD,TextLayerBuilder:()=>Fs,XfaLayerBuilder:()=>JD,parseQueryString:()=>hu});const Fe={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},ce={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},_t={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class C${constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}}function mD(n,e,t=!1){let i=n.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||"hidden"===getComputedStyle(i).overflow);)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(r+=e.top),void 0!==e.left&&(s+=e.left,i.scrollLeft=s)),i.scrollTop=r}function hu(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const vD=/[\x00-\x1F]/g;function fu(n,e=!1){return vD.test(n)?e?n.replaceAll(vD,t=>"\0"===t?"":" "):n.replaceAll("\0",""):n}function Ca(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1;e(n[s])?r=s:i=s+1}return i}function yD(n){if(Math.floor(n)===n)return[n,1];const e=1/n;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let l,r=0,s=1,o=1,a=1;for(;;){const c=r+o,u=s+a;if(u>8)break;i<=c/u?(o=c,a=u):(r=c,s=u)}return l=i-r/s<o/a-i?i===n?[r,s]:[s,r]:i===n?[o,a]:[a,o],l}function pu(n,e){return n-n%e}function bD(n){return Number.isInteger(n)&&n%90==0}function _D(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const T$=document.documentElement.style;class R${#e=null;#t=null;#n=0;#r=null;#s=!0;constructor(e){this.#e=e.classList,this.#r=e.style}get percent(){return this.#n}set percent(e){this.#n=function P$(n,e,t){return Math.min(Math.max(n,e),t)}(e,0,100),isNaN(e)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),this.#r.setProperty("--progressBar-percent",`${this.#n}%`))}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&this.#r.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){100===this.#n||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#s&&(this.#s=!1,this.#e.add("hidden"))}show(){this.#s||(this.#s=!0,this.#e.remove("hidden"))}}function gu(n){return function L$(n){return n<11904}(n)?function k$(n){return 0==(65408&n)}(n)?function B$(n){return 32===n||9===n||13===n||10===n}(n)?0:function N$(n){return n>=97&&n<=122||n>=65&&n<=90}(n)||function F$(n){return n>=48&&n<=57}(n)||95===n?1:2:function $$(n){return 3584==(65408&n)}(n)?7:160===n?0:1:function j$(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}(n)?3:function V$(n){return n>=12448&&n<=12543}(n)?4:function H$(n){return n>=12352&&n<=12447}(n)?5:function U$(n){return n>=65376&&n<=65439}(n)?6:1}let wD;const zi={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},ED={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},CD=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let AD;const Y$=/\p{M}+/gu,K$=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,X$=/([^\p{M}])\p{M}*$/u,Q$=/^\p{M}*([^\p{M}])/u,Z$=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,DD=new Map,SD=new Map;let wg=null,Eg=null;function Cg(n){const e=[];let t,i;for(;null!==(t=Z$.exec(n));){let{index:f}=t;for(const p of t[0]){let g=DD.get(p);g||(g=p.normalize("NFD").length,DD.set(p,g)),e.push([g,f++])}}if(0===e.length&&wg)i=wg;else if(e.length>0&&Eg)i=Eg;else{const m=`([${Object.keys(ED).join("")}])|([${function z$(){return wD||="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6",wD}()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;i=0===e.length?wg=new RegExp(m+"|(\\u0000)","gum"):Eg=new RegExp(m+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const r=[];for(;null!==(t=Y$.exec(n));)r.push([t[0].length,t.index]);let s=n.normalize("NFD");const o=[[0,0]];let a=0,l=0,c=0,u=0,d=0,h=!1;return s=s.replace(i,(f,p,g,v,m,y,b,_,w,S)=>{if(S-=u,p){const x=ED[p],T=x.length;for(let C=1;C<T;C++)o.push([S-c+C,c-C]);return c-=T-1,x}if(g){let x=SD.get(g);x||(x=g.normalize("NFKC"),SD.set(g,x));const T=x.length;for(let C=1;C<T;C++)o.push([S-c+C,c-C]);return c-=T-1,x}if(v)return h=!0,S+d===r[a]?.[1]?++a:(o.push([S-1-c+1,c-1]),c-=1,u+=1),o.push([S-c+1,c]),u+=1,d+=1,v.charAt(0);if(m){const x=m.endsWith("\n"),T=x?m.length-2:m.length;h=!0;let C=T;S+d===r[a]?.[1]&&(C-=r[a][0],++a);for(let P=1;P<=C;P++)o.push([S-1-c+P,c-P]);return c-=C,u+=C,x?(o.push([(S+=T-1)-c+1,1+c]),c+=1,u+=1,d+=1,m.slice(0,T)):m}if(y)return o.push([S-c+(y.length-2),1+c]),c+=1,u+=1,d+=1,y.slice(0,-2);if(b)return o.push([S-c+(b.length-1),c]),u+=1,d+=1,b.slice(0,-1);if(_)return o.push([S-c+1,c-1]),c-=1,u+=1,d+=1," ";if(S+d===e[l]?.[1]){const x=e[l][0]-1;++l;for(let T=1;T<=x;T++)o.push([S-(c-T),c-T]);c-=x,u+=x}return w}),o.push([s.length,c]),[s,o,h]}function ez(n,e,t){if(!n)return[e,t];const i=e,r=e+t-1;let s=Ca(n,u=>u[0]>=i);n[s][0]>i&&--s;let o=Ca(n,u=>u[0]>=r,s);n[o][0]>r&&--o;const a=i+n[s][1];return[a,r+n[o][1]+1-a]}class tz{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){this._linkService=e,this._eventBus=t,this.#t=i,this.onIsPageVisible=null,this.#s(),t._on("find",this.#r.bind(this)),t._on("findbarclose",this.#_.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#s(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#r(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(null===this.#e||this.#o(e))&&(this._dirtyMatch=!0),this.#e=e,"highlightallchange"!==i&&this.#A(zi.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#u();const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#g():"again"===i?(this.#g(),r&&this.#e.highlightAll&&this.#p()):"highlightallchange"===i?(s?this.#g():this._highlightMatches=!0,this.#p()):this.#g():this._findTimeout=setTimeout(()=>{this.#g(),this._findTimeout=null},250)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){this._scrollMatches&&e&&-1!==r&&r===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,mD(e,{top:-50,left:t+-400},!0))}#s(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#i(){const{query:e}=this.#e;return"string"==typeof e?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=Cg(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>Cg(t)[0])}#o(e){const t=e.query,i=this.#e.query,r=typeof t;if(r!==typeof i)return!0;if("string"===r){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,a=this._linkService;return o>=1&&o<=a.pagesCount&&o!==a.page&&!(this.onIsPageVisible?.(o)??1);case"highlightallchange":return!1}return!0}#l(e,t,i){let r=e.slice(0,t).match(X$);if(r){const s=e.charCodeAt(t),o=r[1].charCodeAt(0);if(gu(s)===gu(o))return!1}if(r=e.slice(t+i).match(Q$),r){const s=e.charCodeAt(t+i-1),o=r[1].charCodeAt(0);if(gu(s)===gu(o))return!1}return!0}#h(e,t,i,r){const s=this._pageMatches[i]=[],o=this._pageMatchesLength[i]=[];if(!e)return;const a=this._pageDiffs[i];let l;for(;null!==(l=e.exec(r));){if(t&&!this.#l(r,l.index,l[0].length))continue;const[c,u]=ez(a,l.index,l[0].length);u&&(s.push(c),o.push(u))}}#c(e,t){const{matchDiacritics:i}=this.#e;let r=!1;return(e=e.replaceAll(K$,(o,a,l,c,u,d)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":i?u||d:u?CD.has(u.charCodeAt(0))?u:"":t?(r=!0,`${d}\\p{M}*`):d)).endsWith("[ ]*")&&(e=e.slice(0,e.length-4)),i&&t&&(AD||=String.fromCharCode(...CD),r=!0,e=`${e}(?=[${AD}]|[^\\p{M}]|$)`),[r,e]}#d(e){let t=this.#i;if(0===t.length)return;const{caseSensitive:i,entireWord:r}=this.#e,s=this._pageContents[e],o=this._hasDiacritics[e];let a=!1;"string"==typeof t?[a,t]=this.#c(t,o):t=t.sort().reverse().map(u=>{const[d,h]=this.#c(u,o);return a||=d,`(${h})`}).join("|"),t=t?new RegExp(t,`g${a?"u":""}${i?"":"i"}`):null,this.#h(t,r,e,s),this.#e.highlightAll&&this.#a(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#m());const c=this._pageMatches[e].length;this._matchesCountTotal+=c,this.#t?c>0&&this.#C():++this.#n===this._linkService.pagesCount&&this.#C()}#u(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0};for(let i=0,r=this._linkService.pagesCount;i<r;i++){const{promise:s,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=s,e=e.then(()=>this._pdfDocument.getPage(i+1).then(a=>a.getTextContent(t)).then(a=>{const l=[];for(const c of a.items)l.push(c.str),c.hasEOL&&l.push("\n");[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=Cg(l.join("")),o()},a=>{console.error(`Unable to get text content for page ${i+1}`,a),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()}))}}#a(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#p(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#g(){const e=this.#e.findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#p();for(let o=0;o<i;o++)this._pendingFindMatches.has(o)||(this._pendingFindMatches.add(o),this._extractTextPromises[o].then(()=>{this._pendingFindMatches.delete(o),this.#d(o)}))}if(0===this.#i.length)return void this.#A(zi.FOUND);if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,null!==s.matchIdx){if(!e&&s.matchIdx+1<this._pageMatches[s.pageIdx].length||e&&s.matchIdx>0)return s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,void this.#y(!0);this.#v(e)}this.#m()}#f(e){const t=this._offset,i=e.length,r=this.#e.findPrevious;return i?(t.matchIdx=r?i-1:0,this.#y(!0),!0):(this.#v(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this.#y(!1),!0))}#m(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#f(e))}#v(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}#y(e=!1){let t=zi.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?zi.WRAPPED:zi.FOUND,-1!==r&&r!==this._selected.pageIdx&&this.#a(r)}this.#A(t,this.#e.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#a(this._selected.pageIdx))}#_(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#A(zi.FOUND),this._highlightMatches=!1,this.#p())})}#E(){const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(-1!==t){for(let s=0;s<e;s++)i+=this._pageMatches[s]?.length||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}#C(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#E()})}#A(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===zi.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#E(),rawQuery:this.#e?.query??null})}}const yr={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class mu{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}goToDestination(e){var t=this;return O(function*(){if(!t.pdfDocument)return;let i,r,s;if("string"==typeof e?(i=e,r=yield t.pdfDocument.getDestination(e)):(i=null,r=yield e),!Array.isArray(r))return void console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);const[o]=r;if(o&&"object"==typeof o){if(s=t.pdfDocument.cachedPageNumber(o),!s)try{s=(yield t.pdfDocument.getPageIndex(o))+1}catch{return void console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`)}}else Number.isInteger(o)&&(s=o+1);!s||s<1||s>t.pagesCount?console.error(`goToDestination: "${s}" is not a valid page number, for dest="${e}".`):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:i,explicitDest:r,pageNumber:s})),t.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:r,ignoreDestinationZoom:t._ignoreDestinationZoom}))})()}goToPage(e){if(!this.pdfDocument)return;const t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`)}addLinkAttributes(e,t,i=!1){if(!t||"string"!=typeof t)throw new Error('A valid "url" parameter must provided.');const r=i?yr.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let o="";switch(r){case yr.NONE:break;case yr.SELF:o="_self";break;case yr.BLANK:o="_blank";break;case yr.PARENT:o="_parent";break;case yr.TOP:o="_top"}e.target=o,e.rel="string"==typeof s?s:"noopener noreferrer nofollow"}getDestinationHash(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=hu(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),o="true"===r.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:o?s:s.match(/\S+/g)})}if(r.has("page")&&(t=0|r.get("page")||1),r.has("zoom")){const s=r.get("zoom").split(","),o=s[0],a=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?i=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?i=[null,{name:o},s.length>1?0|s[1]:null]:"FitR"===o?5!==s.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:o},0|s[1],0|s[2],0|s[3],0|s[4]]:console.error(`PDFLinkService.setHash: "${o}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,a?a/100:o]}return i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),void(r.has("nameddest")&&this.goToDestination(r.get("nameddest")))}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}"string"==typeof i||mu.#e(i)?this.goToDestination(i):console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){var t=this;return O(function*(){if(!t.pdfDocument)return;const i=t.pdfDocument,r=yield t.pdfViewer.optionalContentConfigPromise;i===t.pdfDocument&&(r.setOCGState(e),t.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))})()}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;const[t,i,...r]=e;if(("object"!=typeof t||!Number.isInteger(t?.num)||!Number.isInteger(t?.gen))&&!Number.isInteger(t)||"object"!=typeof i||"string"!=typeof i?.name)return!1;const s=r.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const a of r)if(!("number"==typeof a||o&&null===a))return!1;return!0}}class Ag extends mu{setDocument(e,t=null){}}const{AbortException:iz,AnnotationEditorLayer:rz,AnnotationEditorType:Mn,AnnotationEditorUIManager:sz,AnnotationLayer:oz,AnnotationMode:yi,createValidAbsoluteUrl:az,DrawLayer:lz,fetchData:xD,getPdfFilenameFromUrl:cz,isPdfFile:uz,normalizeUnicode:dz,PermissionFlag:vu,PixelsPerInch:bi,RenderingCancelledException:Dg,setLayerDimensions:hz,shadow:yu,TextLayer:fz,version:MD,XfaLayer:Sg}=globalThis.pdfjsLib;class ID{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:o=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:u=null,accessibilityManager:d=null,annotationEditorUIManager:h=null,onAppend:f=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=o,this.annotationStorage=r,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=u,this._accessibilityManager=d,this._annotationEditorUIManager=h,this.#e=f,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t="display"){var i=this;return O(function*(){if(i.div){if(i._cancelled||!i.annotationLayer)return;return void i.annotationLayer.update({viewport:e.clone({dontFlip:!0})})}const[r,s,o]=yield Promise.all([i.pdfPage.getAnnotations({intent:t}),i._hasJSActionsPromise,i._fieldObjectsPromise]);if(i._cancelled)return;const a=i.div=document.createElement("div");a.className="annotationLayer",i.#e?.(a),0!==r.length?(i.annotationLayer=new oz({div:a,accessibilityManager:i._accessibilityManager,annotationCanvasMap:i._annotationCanvasMap,annotationEditorUIManager:i._annotationEditorUIManager,page:i.pdfPage,viewport:e.clone({dontFlip:!0})}),yield i.annotationLayer.render({annotations:r,imageResourcesPath:i.imageResourcesPath,renderForms:i.renderForms,linkService:i.linkService,downloadManager:i.downloadManager,annotationStorage:i.annotationStorage,enableScripting:i.enableScripting,hasJSActions:s,fieldObjects:o}),i.linkService.isInPresentationMode&&i.#n(3),i.#t||(i.#t=new AbortController,i._eventBus?._on("presentationmodechanged",l=>{i.#n(l.state)},{signal:i.#t.signal}))):i.hide()})()}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case 3:t=!0;break;case 1:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}}function TD(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}class pz{#e=new WeakMap;downloadData(e,t,i){TD(URL.createObjectURL(new Blob([e],{type:i})),t)}openOrDownloadData(e,t,i=null){const s=uz(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i,r){let s;if(e)s=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!az(t,"http://example.com"))return void console.error(`download - not a valid URL: ${t}`);s=t+"#pdfjs.action=download"}TD(s,i)}}const PD_EVENT="event",PD_TIMEOUT="timeout";function xg(){return(xg=O(function*({target:n,name:e,delay:t=0}){if("object"!=typeof n||!e||"string"!=typeof e||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function o(c){s.abort(),clearTimeout(l),r(c)}n[n instanceof Mg?"_on":"addEventListener"](e,o.bind(null,PD_EVENT),{signal:s.signal});const l=setTimeout(o.bind(null,PD_TIMEOUT),t);return i})).apply(this,arguments)}class Mg{#e=Object.create(null);on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once,signal:i?.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=this.#e[e];if(!i||0===i.length)return;let r;for(const{listener:s,external:o,once:a}of i.slice(0))a&&this._off(e,s),o?(r||=[]).push(s):s(t);if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted)return void console.error("Cannot use an `aborted` signal.");const a=()=>this._off(e,t);r=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}(this.#e[e]||=[]).push({listener:t,external:!0===i?.external,once:!0===i?.once,rmAbort:r})}_off(e,t,i=null){const r=this.#e[e];if(r)for(let s=0,o=r.length;s<o;s++){const a=r[s];if(a.listener===t)return a.rmAbort?.(),void r.splice(s,1)}}}class bu{constructor(e){this.value=e}valueOf(){return this.value}}class Ke extends bu{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class _i extends bu{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class Aa extends bu{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const RD=100,mz="\u2068",vz="\u2069";function yz(n,e,t){return t===e||t instanceof _i&&e instanceof _i&&t.value===e.value||e instanceof _i&&"string"==typeof t&&t===n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value)}function OD(n,e,t){return e[t]?Ns(n,e[t].value):(n.reportError(new RangeError("No default")),new Ke)}function Ig(n,e){const t=[],i=Object.create(null);for(const r of e)"narg"===r.type?i[r.name]=Da(n,r.value):t.push(Da(n,r));return{positional:t,named:i}}function Da(n,e){switch(e.type){case"str":return e.value;case"num":return new _i(e.value,{minimumFractionDigits:e.precision});case"var":return function bz(n,{name:e}){let t;if(n.params){if(!Object.prototype.hasOwnProperty.call(n.params,e))return new Ke(`$${e}`);t=n.params[e]}else{if(!n.args||!Object.prototype.hasOwnProperty.call(n.args,e))return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ke(`$${e}`);t=n.args[e]}if(t instanceof bu)return t;switch(typeof t){case"string":return t;case"number":return new _i(t);case"object":if(t instanceof Date)return new Aa(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ke(`$${e}`)}}(n,e);case"mesg":return function _z(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ke(e);if(t){const r=i.attributes[t];return r?Ns(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ke(`${e}.${t}`))}return i.value?Ns(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ke(e))}(n,e);case"term":return function wz(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new Ke(r);if(t){const a=s.attributes[t];if(a){n.params=Ig(n,i).named;const l=Ns(n,a);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ke(`${r}.${t}`)}n.params=Ig(n,i).named;const o=Ns(n,s.value);return n.params=null,o}(n,e);case"func":return function Ez(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ke(`${e}()`);if("function"!=typeof i)return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ke(`${e}()`);try{let r=Ig(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new Ke(`${e}()`)}}(n,e);case"select":return function Cz(n,{selector:e,variants:t,star:i}){let r=Da(n,e);if(r instanceof Ke)return OD(n,t,i);for(const s of t)if(yz(n,r,Da(n,s.key)))return Ns(n,s.value);return OD(n,t,i)}(n,e);default:return new Ke}}function LD(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ke;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e)if("string"!=typeof r){if(n.placeables++,n.placeables>RD)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${RD}`);i&&t.push(mz),t.push(Da(n,r).toString(n)),i&&t.push(vz)}else t.push(n.bundle._transform(r));return n.dirty.delete(e),t.join("")}function Ns(n,e){return"string"==typeof e?n.bundle._transform(e):LD(n,e)}class Az{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!(this.errors&&e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function _u(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const kD=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Dz(n,e){let t=n[0];if(t instanceof Ke)return new Ke(`NUMBER(${t.valueOf()})`);if(t instanceof _i)return new _i(t.valueOf(),{...t.opts,..._u(e,kD)});if(t instanceof Aa)return new _i(t.valueOf(),{..._u(e,kD)});throw new TypeError("Invalid argument to NUMBER")}const ND=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Sz(n,e){let t=n[0];if(t instanceof Ke)return new Ke(`DATETIME(${t.valueOf()})`);if(t instanceof Aa)return new Aa(t.valueOf(),{...t.opts,..._u(e,ND)});if(t instanceof _i)return new Aa(t.valueOf(),{..._u(e,ND)});throw new TypeError("Invalid argument to DATETIME")}const FD=new Map;class Mz{constructor(e,{functions:t,useIsolating:i=!0,transform:r=(s=>s)}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Dz,DATETIME:Sz,...t},this._useIsolating=i,this._transform=r,this._intls=function xz(n){const e=Array.isArray(n)?n.join(" "):n;let t=FD.get(e);return void 0===t&&(t=new Map,FD.set(e,t)),t}(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(!1===t&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(!1===t&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if("string"==typeof e)return this._transform(e);let r=new Az(this,i,t);try{return LD(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),(new Ke).toString(r);throw s}}}const Tg=/^(-?[a-zA-Z][\w-]*) *= */gm,BD=/\.([a-zA-Z][\w-]*) *= */y,Iz=/\*?\[/y,Pg=/(-?[0-9]+(?:\.([0-9]+))?)/y,Tz=/([a-zA-Z][\w-]*)/y,jD=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Pz=/^[A-Z][A-Z0-9_-]*$/,wu=/([^{}\n\r]+)/y,Rz=/([^\\"\n\r]*)/y,VD=/\\([\\"])/y,HD=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Oz=/^\n+/,UD=/ +$/,Lz=/ *\r?\n/g,kz=/( *)$/,Nz=/{\s*/y,$D=/\s*}/y,Fz=/\[\s*/y,Bz=/\s*] */y,jz=/\s*\(\s*/y,Vz=/\s*->\s*/y,Hz=/\s*:\s*/y,Uz=/\s*,?\s*/y,$z=/\s+/y;class zz{constructor(e){this.body=[],Tg.lastIndex=0;let t=0;for(;;){let C=Tg.exec(e);if(null===C)break;t=Tg.lastIndex;try{this.body.push(l(C[1]))}catch(P){if(P instanceof SyntaxError)continue;throw P}}function i(C){return C.lastIndex=t,C.test(e)}function r(C,P){if(e[t]===C)return t++,!0;if(P)throw new P(`Expected ${C}`);return!1}function s(C,P){if(i(C))return t=C.lastIndex,!0;if(P)throw new P(`Expected ${C.toString()}`);return!1}function o(C){C.lastIndex=t;let P=C.exec(e);if(null===P)throw new SyntaxError(`Expected ${C.toString()}`);return t=C.lastIndex,P}function a(C){return o(C)[1]}function l(C){let P=u(),k=function c(){let C=Object.create(null);for(;i(BD);){let P=a(BD),k=u();if(null===k)throw new SyntaxError("Expected attribute value");C[P]=k}return C}();if(null===P&&0===Object.keys(k).length)throw new SyntaxError("Expected message value or attributes");return{id:C,value:P,attributes:k}}function u(){let C;if(i(wu)&&(C=a(wu)),"{"===e[t]||"}"===e[t])return d(C?[C]:[],1/0);let P=S();return P?C?d([C,P],P.length):(P.value=x(P.value,Oz),d([P],P.length)):C?x(C,UD):null}function d(C=[],P){for(;;){if(i(wu)){C.push(a(wu));continue}if("{"===e[t]){C.push(h());continue}if("}"===e[t])throw new SyntaxError("Unbalanced closing brace");let me=S();if(!me)break;C.push(me),P=Math.min(P,me.length)}let k=C.length-1,pe=C[k];"string"==typeof pe&&(C[k]=x(pe,UD));let be=[];for(let me of C)me instanceof zD&&(me=me.value.slice(0,me.value.length-P)),me&&be.push(me);return be}function h(){s(Nz,SyntaxError);let C=f();if(s($D))return C;if(s(Vz)){let P=function v(){let k,C=[],P=0;for(;i(Iz);){r("*")&&(k=P);let pe=m(),be=u();if(null===be)throw new SyntaxError("Expected variant value");C[P++]={key:pe,value:be}}if(0===P)return null;if(void 0===k)throw new SyntaxError("Expected default variant");return{variants:C,star:k}}();return s($D,SyntaxError),{type:"select",selector:C,...P}}throw new SyntaxError("Unclosed placeable")}function f(){if("{"===e[t])return h();if(i(jD)){let[,C,P,k=null]=o(jD);if("$"===C)return{type:"var",name:P};if(s(jz)){let pe=function p(){let C=[];for(;;){switch(e[t]){case")":return t++,C;case void 0:throw new SyntaxError("Unclosed argument list")}C.push(g()),s(Uz)}}();if("-"===C)return{type:"term",name:P,attr:k,args:pe};if(Pz.test(P))return{type:"func",name:P,args:pe};throw new SyntaxError("Function names must be all upper-case")}return"-"===C?{type:"term",name:P,attr:k,args:[]}:{type:"mesg",name:P,attr:k}}return y()}function g(){let C=f();return"mesg"!==C.type?C:s(Hz)?{type:"narg",name:C.name,value:y()}:C}function m(){let C;return s(Fz,SyntaxError),C=i(Pg)?b():{type:"str",value:a(Tz)},s(Bz,SyntaxError),C}function y(){if(i(Pg))return b();if('"'===e[t])return function _(){r('"',SyntaxError);let C="";for(;;){if(C+=a(Rz),"\\"!==e[t]){if(r('"'))return{type:"str",value:C};throw new SyntaxError("Unclosed string literal")}C+=w()}}();throw new SyntaxError("Invalid expression")}function b(){let[,C,P=""]=o(Pg),k=P.length;return{type:"num",value:parseFloat(C),precision:k}}function w(){if(i(VD))return a(VD);if(i(HD)){let[,C,P]=o(HD),k=parseInt(C||P,16);return k<=55295||57344<=k?String.fromCodePoint(k):"\ufffd"}throw new SyntaxError("Unknown escape sequence")}function S(){let C=t;switch(s($z),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return T(e.slice(C,t))}return" "===e[t-1]&&T(e.slice(C,t))}function x(C,P){return C.replace(P,"")}function T(C){let P=C.replace(Lz,"\n"),k=kz.exec(C)[1].length;return new zD(P,k)}}}class zD{constructor(e,t){this.value=e,this.length=t}}const Wz=/<|&#?\w+;/,Gz={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},qz={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Yz(n,e){const{value:t}=e;if("string"==typeof t)if("title"===n.localName&&"http://www.w3.org/1999/xhtml"===n.namespaceURI)n.textContent=t;else if(Wz.test(t)){const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,function Kz(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=Qz(e,t);n.replaceChild(i,t);continue}if(Jz(t)){const i=Zz(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(Rg(t),t)}e.textContent="",e.appendChild(n)}(i.content,n)}else n.textContent=t;WD(e,n)}function Xz(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function WD(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))GD(i.name,e,t)&&!Xz(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))GD(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function Qz(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);return i?i.localName!==e.localName?(console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),Rg(e)):(n.removeChild(i),qD(e,i.cloneNode(!1))):(console.warn(`An element named "${t}" wasn't found in the source.`),Rg(e))}function Zz(n){const e=n.ownerDocument.createElement(n.localName);return qD(n,e)}function Rg(n){return n.ownerDocument.createTextNode(n.textContent)}function Jz(n){const e=Gz[n.namespaceURI];return e&&e.includes(n.localName)}function GD(n,e,t=null){if(t&&t.includes(n))return!0;const i=qz[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if("http://www.w3.org/1999/xhtml"===e.namespaceURI&&"input"===s&&"value"===r){const o=e.type.toLowerCase();if("submit"===o||"button"===o||"reset"===o)return!0}return!1}function qD(n,e){return e.textContent=n.textContent,WD(n,e),e}class YD extends Array{static from(e){return e instanceof this?e:new this(e)}}Symbol;class e3 extends YD{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(e)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=e[Symbol.iterator]()}}[Symbol.asyncIterator](){const e=this;let t=0;return{next:()=>O(function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})()}}touchNext(e=1){var t=this;return O(function*(){let i=0;for(;i++<e;){const r=t[t.length-1];if(r&&(yield r).done)break;t.push(t.iterator.next())}return t[t.length-1]})()}}class t3{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){var i=this;return O(function*(){const r=[];let s=!1;var l,o=!1,a=!1;try{for(var u,c=function y$(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new du(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(i.bundles);o=!(u=yield c.next()).done;o=!1){const d=u.value;{s=!0;const h=r3(t,d,e,r);if(0===h.size)break;if(typeof console<"u"){const f=d.locales[0],p=Array.from(h).join(", ");console.warn(`[fluent] Missing translations in ${f}: ${p}`)}}}}catch(d){a=!0,l=d}finally{try{o&&null!=c.return&&(yield c.return())}finally{if(a)throw l}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(e)}.\n  resourceIds: ${JSON.stringify(i.resourceIds)}.`),r})()}formatMessages(e){return this.formatWithFallback(e,i3)}formatValues(e){return this.formatWithFallback(e,n3)}formatValue(e,t){var i=this;return O(function*(){const[r]=yield i.formatValues([{id:e,args:t}]);return r})()}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=e3.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function n3(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function i3(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[o,a]of s.entries()){let l=n.formatPattern(t.attributes[a],i,e);r.attributes[o]={name:a,value:l}}}return r}function r3(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:o,args:a},l)=>{if(void 0!==i[l])return;let c=e.getMessage(o);if(c){if(r.length=0,i[l]=n(e,r,c,a),r.length>0&&typeof console<"u"){const u=e.locales[0],d=r.join(", ");console.warn(`[fluent][resolver] errors in ${u}/${o}: ${d}.`)}}else s.add(o)}),s}const br="data-l10n-id",Sa="data-l10n-args",s3=`[${br}]`;class o3 extends t3{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[br,Sa]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(br,t),i?e.setAttribute(Sa,JSON.stringify(i)):e.removeAttribute(Sa),e}getAttributes(e){return{id:e.getAttribute(br),args:JSON.parse(e.getAttribute(Sa)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(br)&&this.pendingElements.add(i)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){var t=this;return O(function*(){if(!e.length)return;const i=e.map(t.getKeysForElement),r=yield t.formatMessages(i);return t.applyTranslations(e,r)})()}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)void 0!==t[i]&&Yz(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(s3));return"function"==typeof e.hasAttribute&&e.hasAttribute(br)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(br),args:JSON.parse(e.getAttribute(Sa)||null)}}}class Eu{#e;#t=new Set;#n;#r;constructor({lang:e,isRTL:t},i=null){this.#n=Eu.#s(e),this.#r=i,this.#e=t??Eu.#i(this.#n)?"rtl":"ltr"}_setL10n(e){this.#r=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,i){var r=this;return O(function*(){return Array.isArray(e)?(e=e.map(a=>({id:a})),(yield r.#r.formatMessages(e)).map(a=>a.value)):(yield r.#r.formatMessages([{id:e,args:t}]))?.[0].value||i})()}translate(e){var t=this;return O(function*(){t.#t.add(e);try{t.#r.connectRoot(e),yield t.#r.translateRoots()}catch{}})()}destroy(){var e=this;return O(function*(){for(const t of e.#t)e.#r.disconnectRoot(t);e.#t.clear(),e.#r.pauseObserving()})()}pause(){this.#r.pauseObserving()}resume(){this.#r.resumeObserving()}static#s(e){return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e=e?.toLowerCase()||"en-us"]||e}static#i(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}}function KD(n,e){const t=new zz(e),i=new Mz(n),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}class wi extends Eu{constructor(e){super({lang:e});const t=e?wi.#e.bind(wi,"en-us",this.getLanguage()):wi.#r.bind(wi,this.getLanguage());this._setL10n(new o3([],t))}static#e(e,t){var i=this;return dD(function*(){const{baseURL:r,paths:s}=yield uD(i.#n()),o=[t];if(e!==t){const a=t.split("-",1)[0];a!==t&&o.push(a),o.push(e)}for(const a of o){const l=yield uD(i.#t(a,r,s));l?yield l:"en-us"===a&&(yield i.#s(a))}})()}static#t(e,t,i){return O(function*(){const r=i[e];if(!r)return null;const s=new URL(r,t),o=yield xD(s,"text");return KD(e,o)})()}static#n(){return O(function*(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield xD(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})()}static#r(e){var t=this;return dD(function*(){yield t.#s(e)})()}static#s(e){return O(function*(){return KD(e,"pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\u2026\npdfjs-document-properties-button-label = Document Properties\u2026\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-string = { $date }, { $time }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } \xd7 { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } \xd7 { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\u2026\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\u2026\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-string = { $date }, { $time }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text =\n    .aria-label = Text Editor\npdfjs-free-text-default-content = Start typing\u2026\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, \u201cA young man sits down at a table to eat a meal\u201d\npdfjs-editor-resizer-label-top-left = Top left corner \u2014 resize\npdfjs-editor-resizer-label-top-middle = Top middle \u2014 resize\npdfjs-editor-resizer-label-top-right = Top right corner \u2014 resize\npdfjs-editor-resizer-label-middle-right = Middle right \u2014 resize\npdfjs-editor-resizer-label-bottom-right = Bottom right corner \u2014 resize\npdfjs-editor-resizer-label-bottom-middle = Bottom middle \u2014 resize\npdfjs-editor-resizer-label-bottom-left = Bottom left corner \u2014 resize\npdfjs-editor-resizer-label-middle-left = Middle left \u2014 resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all")})()}}function Lg(){return document.location.hash}class l3{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const r=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===i,this._initialized=!0,this.#d();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Lg(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#s(s,!0)||t){const{hash:a,page:l,rotation:c}=this.#o(!0);return!a||r||t?void this.#t(null,!0):void this.#t({hash:a,page:l,rotation:c},!0)}const o=s.destination;this.#i(o,s.uid,!0),void 0!==o.rotation&&(this._initialRotation=o.rotation),o.dest?(this._initialBookmark=JSON.stringify(o.dest),this._destination.page=null):o.hash?this._initialBookmark=o.hash:o.page&&(this._initialBookmark=`page=${o.page}`)}reset(){this._initialized&&(this.#c(),this._initialized=!1,this.#u()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(t))return void console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);if(!this.#r(i)&&(null!==i||this._destination))return void console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(function c3(n,e){return"string"==typeof n&&"string"==typeof e&&(n===e||hu(n).get("nameddest")===e)}(this._destination.hash,r)||function u3(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(null!==i&&"object"==typeof i&&null!==r){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this.#t({dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#r(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this.#s(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this.#s(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};let s;if(this.#i(e,r.uid),this._updateUrl&&e?.hash){const o=document.location.href.split("#",1)[0];o.startsWith("file://")||(s=`${o}#${e.hash}`)}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this.#t(t);if(this._destination.temporary)return void this.#t(t,!0);if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this.#t(t,i)}#r(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#s(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if("reload"!==i?.type)return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}#i(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#o(e=!1){const t=unescape(Lg()).substring(1),i=hu(t),r=i.get("nameddest")||"";let s=0|i.get("page");return(!this.#r(s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}}#l({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},1e3))}#h({state:e}){const t=Lg(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:o,rotation:a}=this.#o();return void this.#t({hash:s,page:o,rotation:a},!0)}if(!this.#s(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,function gz(n){return xg.apply(this,arguments)}({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const r=e.destination;this.#i(r,e.uid,!0),bD(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#c(){(!this._destination||this._destination.temporary)&&this.#n()}#d(){if(this.#e)return;this.#e=new AbortController;const{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:e}),window.addEventListener("popstate",this.#h.bind(this),{signal:e}),window.addEventListener("pagehide",this.#c.bind(this),{signal:e})}#u(){this.#e?.abort(),this.#e=null}}class d3{#e=null;#t=null;#n=null;#r=null;#s;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new wi,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#s=e.uiManager,this.#e=e.annotationLayer||null,this.#r=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null}render(e,t="display"){var i=this;return O(function*(){if("display"!==t||i._cancelled)return;const r=e.clone({dontFlip:!0});if(i.div)return i.annotationEditorLayer.update({viewport:r}),void i.show();const s=i.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=i.#s.direction,i.#n?.(s),i.annotationEditorLayer=new rz({uiManager:i.#s,div:s,accessibilityManager:i.accessibilityManager,pageIndex:i.pdfPage.pageNumber-1,l10n:i.l10n,viewport:r,annotationLayer:i.#e,textLayer:i.#r,drawLayer:i.#t}),i.annotationEditorLayer.render({viewport:r,div:s,annotations:null,intent:t}),i.show()})()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}{var Cu=new Map;const n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===e&&t>1||i)&&Cu.set("maxCanvasPixels",5242880),i&&Cu.set("useSystemFonts",!1)}const kg={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Wi={allowedGlobalEvents:{value:null,kind:1},canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},localeProperties:{value:{lang:navigator.language||"en-US"},kind:1},nimbusDataStr:{value:"",kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},toolbarDensity:{value:0,kind:17},altTextLearnMoreUrl:{value:"",kind:130},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableAltText:{value:!1,kind:130},enableGuessAltText:{value:!0,kind:130},enableHighlightEditor:{value:!1,kind:130},enableHighlightFloatingButton:{value:!1,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableUpdatedAddImage:{value:!1,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:2**25,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},useSystemFonts:{value:void 0,kind:4,type:kg.BOOLEAN+kg.UNDEFINED},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sandboxBundleSrc:{value:"../build/pdf.sandbox.mjs",kind:2},viewerCssTheme:{value:0,kind:130},disablePreferences:{value:!1,kind:2}},_r=new Map;for(const[n,e]of Cu)_r.set(n,e);let Ng=(()=>class n{static eventBus;constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){return _r.has(t)?_r.get(t):Wi[t]?.value}static getAll(t=null,i=!1){const r=Object.create(null);for(const s in Wi){const o=Wi[s];t&&!(t&o.kind)||(r[s]=!i&&_r.has(s)?_r.get(s):o.value)}return r}static set(t,i){this.setAll({[t]:i})}static setAll(t,i=!1){let r;for(const s in t){const o=Wi[s],a=t[s];if(!o||!(typeof a==typeof o.value||kg[(typeof a).toUpperCase()]&o.type))continue;const{kind:l}=o;i&&!(1&l||128&l)||(this.eventBus&&16&l&&(r||=new Map).set(s,a),_r.set(s,a))}if(r)for(const[s,o]of r)this.eventBus.dispatch(s.toLowerCase(),{source:this,value:o})}})();Ng._checkDisablePreferences=()=>{if(Ng.get("disablePreferences"))return!0;for(const[n]of _r)if(!Cu.has(n)){console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.');break}return!1};class h3{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){var t=this;return O(function*(){"display"!==e||t.#e||t._cancelled||(t.#e=new lz({pageIndex:t.pageIndex}))})()}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}}const QD={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},f3=/^H(\d+)$/;class ZD{#e=void 0;get renderingDone(){return void 0!==this.#e}render(e){if(void 0!==this.#e)return this.#e;const t=this.#n(e);return t?.classList.add("structTree"),this.#e=t}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(e,t){const{alt:i,id:r,lang:s}=e;void 0!==i&&t.setAttribute("aria-label",fu(i)),void 0!==r&&t.setAttribute("aria-owns",r),void 0!==s&&t.setAttribute("lang",fu(s,!0))}#n(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,r=i.match(f3);r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):QD[i]&&t.setAttribute("role",QD[i])}if(this.#t(e,t),e.children)if(1===e.children.length&&"id"in e.children[0])this.#t(e.children[0],t);else for(const i of e.children)t.append(this.#n(i));return t}}class xa{#e=!1;#t=null;#n=new Map;#r=new Map;setTextMapping(e){this.#t=e}static#s(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===r.width&&0===r.height)return-1;const a=i.y+i.height/2,u=r.y+r.height/2;return a<=r.y&&u>=i.y+i.height?-1:u<=i.y&&a>=r.y+r.height?1:i.x+i.width/2-(r.x+r.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(xa.#s),this.#n.size>0){const e=this.#t;for(const[t,i]of this.#n)document.getElementById(t)?this.#i(t,e[i]):this.#n.delete(t)}for(const[e,t]of this.#r)this.addPointerInTextLayer(e,t);this.#r.clear()}disable(){this.#e&&(this.#r.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e)return void this.#r.delete(e);const t=this.#t;if(!t||0===t.length)return;const{id:i}=e,r=this.#n.get(i);if(void 0===r)return;const s=t[r];this.#n.delete(i);let o=s.getAttribute("aria-owns");o?.includes(i)&&(o=o.split(" ").filter(a=>a!==i).join(" "),o?s.setAttribute("aria-owns",o):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}#i(e,t){const i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!this.#e)return this.#r.set(e,t),null;t&&this.removePointerInTextLayer(e);const r=this.#t;if(!r||0===r.length)return null;const s=Ca(r,c=>xa.#s(e,c)<0),o=Math.max(0,s-1),a=r[o];this.#i(i,a),this.#n.set(i,o);const l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const o=Array.from(e.childNodes).filter(c=>c!==t);if(0===o.length)return s;const a=i||t,l=Ca(o,c=>xa.#s(a,c)<0);return 0===l?o[0].before(t):o[l-1].after(t),s}}class p3{#e=null;constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||-1===e.pageIndex)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const o=i.length-1,a=[];for(let l=0,c=e.length;l<c;l++){let u=e[l];for(;r!==o&&u>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const d={begin:{divIdx:r,offset:u-s}};for(u+=t[l];r!==o&&u>s+i[r].length;)s+=i[r].length,r++;d.end={divIdx:r,offset:u-s},a.push(d)}return a}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,o=i===t.selected.pageIdx,a=t.selected.matchIdx;let c=null;function d(m,y){const b=m.divIdx;return s[b].textContent="",h(b,0,m.offset,y)}function h(m,y,b,_){let w=s[m];if(w.nodeType===Node.TEXT_NODE){const T=document.createElement("span");w.before(T),T.append(w),s[m]=T,w=T}const S=r[m].substring(y,b),x=document.createTextNode(S);if(_){const T=document.createElement("span");return T.className=`${_} appended`,T.append(x),w.append(T),_.includes("selected")?T.offsetLeft:0}return w.append(x),0}let f=a,p=f+1;if(t.state.highlightAll)f=0,p=e.length;else if(!o)return;let g=-1,v=-1;for(let m=f;m<p;m++){const y=e[m],b=y.begin;if(b.divIdx===g&&b.offset===v)continue;g=b.divIdx,v=b.offset;const _=y.end,w=o&&m===a,S=w?" selected":"";let x=0;if(c&&b.divIdx===c.divIdx?h(c.divIdx,c.offset,b.offset):(null!==c&&h(c.divIdx,c.offset,undefined),d(b)),b.divIdx===_.divIdx)x=h(b.divIdx,b.offset,_.offset,"highlight"+S);else{x=h(b.divIdx,b.offset,undefined,"highlight begin"+S);for(let T=b.divIdx+1,C=_.divIdx;T<C;T++)s[T].className="highlight middle"+S;d(_,"highlight end"+S)}c=_,w&&t.scrollMatchIntoView({element:s[b.divIdx],selectedLeft:x,pageIndex:i,matchIndex:a})}c&&h(c.divIdx,c.offset,undefined)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:o}=this;let a=-1;for(const u of i){for(let h=Math.max(a,u.begin.divIdx),f=u.end.divIdx;h<=f;h++){const p=o[h];p.textContent=s[h],p.className=""}a=u.end.divIdx+1}t?.highlightMatches&&!e&&(this.matches=this._convertMatches(t.pageMatches[r]||null,t.pageMatchesLength[r]||null),this._renderMatches(this.matches))}}class Fs{#e=!1;#t=null;#n=!1;#r=null;static#s=new Map;static#i=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,this.#e=!0===r,this.#t=s,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){var i=this;return O(function*(){if(i.#n&&i.#r)return i.#r.update({viewport:e,onBefore:i.hide.bind(i)}),void i.show();i.cancel(),i.#r=new fz({textContentSource:i.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:i.div,viewport:e});const{textDivs:r,textContentItemsStr:s}=i.#r;i.highlighter?.setTextMapping(r,s),i.accessibilityManager?.setTextMapping(r),yield i.#r.render(),i.#n=!0;const o=document.createElement("div");o.className="endOfContent",i.div.append(o),i.#o(o),i.#t?.(i.div),i.highlighter?.enable(),i.accessibilityManager?.enable()})()}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#r?.cancel(),this.#r=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),Fs.#l(this.div)}#o(e){const{div:t}=this;t.addEventListener("mousedown",i=>{e.classList.add("active")}),t.addEventListener("copy",i=>{if(!this.#e){const r=document.getSelection();i.clipboardData.setData("text/plain",fu(dz(r.toString())))}i.preventDefault(),i.stopPropagation()}),Fs.#s.set(t,e),Fs.#h()}static#l(e){this.#s.delete(e),0===this.#s.size&&(this.#i?.abort(),this.#i=null)}static#h(){if(this.#i)return;this.#i=new AbortController;const{signal:e}=this.#i,t=(s,o)=>{o.append(s),s.style.width="",s.style.height="",s.classList.remove("active")};var i,r;document.addEventListener("pointerup",()=>{this.#s.forEach(t)},{signal:e}),document.addEventListener("selectionchange",()=>{const s=document.getSelection();if(0===s.rangeCount)return void this.#s.forEach(t);const o=new Set;for(let h=0;h<s.rangeCount;h++){const f=s.getRangeAt(h);for(const p of this.#s.keys())!o.has(p)&&f.intersectsNode(p)&&o.add(p)}for(const[h,f]of this.#s)o.has(h)?f.classList.add("active"):t(f,h);if(i??="none"===getComputedStyle(this.#s.values().next().value).getPropertyValue("-moz-user-select"),i)return;const a=s.getRangeAt(0),l=r&&(0===a.compareBoundaryPoints(Range.END_TO_END,r)||0===a.compareBoundaryPoints(Range.START_TO_END,r));let c=l?a.startContainer:a.endContainer;c.nodeType===Node.TEXT_NODE&&(c=c.parentNode);const u=c.parentElement.closest(".textLayer"),d=this.#s.get(u);d&&(d.style.width=u.style.width,d.style.height=u.style.height,c.parentElement.insertBefore(d,l?c:c.nextSibling)),r=a.cloneRange()},{signal:e})}}class JD{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}render(e,t="display"){var i=this;return O(function*(){if("print"===t){const o={viewport:e.clone({dontFlip:!0}),div:i.div,xfaHtml:i.xfaHtml,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:t};return i.div=document.createElement("div"),o.div=i.div,Sg.render(o)}const r=yield i.pdfPage.getXfa();if(i._cancelled||!r)return{textDivs:[]};const s={viewport:e.clone({dontFlip:!0}),div:i.div,xfaHtml:r,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:t};return i.div?Sg.update(s):(i.div=document.createElement("div"),s.div=i.div,Sg.render(s))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const g3={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new Ag}},m3=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class eS{#e=yi.ENABLE_FORMS;#t=!1;#n=!1;#r=!1;#s=null;#i=null;#o=null;#l=null;#h=Fe.INITIAL;#c=1;#d={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#u=new WeakMap;#a=[null,null,null,null];constructor(e){const t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#s=e.layerProperties||g3,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||1,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#c=e.textLayerMode??1,this.#e=e.annotationMode??yi.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??Ng.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new wi,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const r=document.createElement("div");if(r.className="page",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),r.setAttribute("data-l10n-id","pdfjs-page-landmark"),r.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=r,this.#g(),t?.append(r),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*bi.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:s}=e;s&&s.then(o=>{s===this._optionalContentConfigPromise&&(this.#d.initialOptionalContent=o.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#p(e,t){const i=m3.get(t),r=this.#a[i];if(this.#a[i]=e,r)r.replaceWith(e);else{for(let s=i-1;s>=0;s--){const o=this.#a[s];if(o)return void o.after(e)}this.div.prepend(e)}}get renderingState(){return this.#h}set renderingState(e){if(e!==this.#h)switch(this.#h=e,this.#i&&(clearTimeout(this.#i),this.#i=null),e){case Fe.PAUSED:this.div.classList.remove("loading");break;case Fe.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case Fe.INITIAL:case Fe.FINISHED:this.div.classList.remove("loadingIcon","loading")}}#g(){const{viewport:e}=this;if(this.pdfPage){if(this.#o===e.rotation)return;this.#o=e.rotation}hz(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*bi.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#g(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return yu(this,"_textHighlighter",new p3({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#s.findController}))}#f(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#m(){var e=this;return O(function*(){let t=null;try{yield e.annotationLayer.render(e.viewport,"display")}catch(i){console.error(`#renderAnnotationLayer: "${i}".`),t=i}finally{e.#f("annotationlayerrendered",t)}})()}#v(){var e=this;return O(function*(){let t=null;try{yield e.annotationEditorLayer.render(e.viewport,"display")}catch(i){console.error(`#renderAnnotationEditorLayer: "${i}".`),t=i}finally{e.#f("annotationeditorlayerrendered",t)}})()}#y(){var e=this;return O(function*(){try{yield e.drawLayer.render("display")}catch(t){console.error(`#renderDrawLayer: "${t}".`)}})()}#_(){var e=this;return O(function*(){let t=null;try{const i=yield e.xfaLayer.render(e.viewport,"display");i?.textDivs&&e._textHighlighter&&e.#A(i.textDivs)}catch(i){console.error(`#renderXfaLayer: "${i}".`),t=i}finally{e.xfaLayer?.div&&(e.l10n.pause(),e.#p(e.xfaLayer.div,"xfaLayer"),e.l10n.resume()),e.#f("xfalayerrendered",t)}})()}#E(){var e=this;return O(function*(){if(!e.textLayer)return;let t=null;try{yield e.textLayer.render(e.viewport)}catch(i){if(i instanceof iz)return;console.error(`#renderTextLayer: "${i}".`),t=i}e.#f("textlayerrendered",t),e.#C()})()}#C(){var e=this;return O(function*(){if(!e.textLayer)return;e.structTreeLayer||=new ZD;const t=yield e.structTreeLayer.renderingDone?null:e.pdfPage.getStructTree(),i=e.structTreeLayer?.render(t);i&&(e.l10n.pause(),e.canvas?.append(i),e.l10n.resume()),e.structTreeLayer?.show()})()}#A(e){var t=this;return O(function*(){const i=yield t.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);t._textHighlighter.setTextMapping(e,r),t._textHighlighter.enable()})()}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;this.#u.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=Fe.INITIAL;const o=this.div,a=o.childNodes,l=e&&this.zoomLayer||null,c=t&&this.annotationLayer?.div||null,u=i&&this.annotationEditorLayer?.div||null,d=r&&this.xfaLayer?.div||null,h=s&&this.textLayer?.div||null;for(let f=a.length-1;f>=0;f--){const p=a[f];switch(p){case l:case c:case u:case d:case h:continue}p.remove();const g=this.#a.indexOf(p);g>=0&&(this.#a[g]=null)}o.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),u&&this.annotationEditorLayer.hide(),d&&this.xfaLayer.hide(),h&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#u.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#r=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:r=-1}){if(this.scale=e||this.scale,"number"==typeof t&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(o=>{i===this._optionalContentConfigPromise&&(this.#d.initialOptionalContent=o.hasInitialVisibility)})),this.#d.directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*bi.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#g(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let o=!1;if(this.#n)if(0===this.maxCanvasPixels)o=!0;else if(this.maxCanvasPixels>0){const{width:l,height:c}=this.viewport,{sx:u,sy:d}=this.outputScale;o=(Math.floor(l)*u|0)*(Math.floor(c)*d|0)>this.maxCanvasPixels}const a=r>=0&&r<1e3;if(a||o){if(a&&!o&&this.renderingState!==Fe.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:r}),this.renderingState=Fe.FINISHED,this.#d.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#l})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:r=!1,cancelExtraDelay:s=0}={}){this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!r||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:o=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:l}=e;l.width=l.height=""}const a=this.#u.get(e);if(this.viewport!==a){const l=this.viewport.rotation-a.rotation,c=Math.abs(l);let u=1,d=1;if(90===c||270===c){const{width:h,height:f}=this.viewport;u=f/h,d=h/f}e.style.transform=`rotate(${l}deg) scale(${u}, ${d})`}t&&this.annotationLayer&&this.#m(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#y(),this.#v()),r&&this.xfaLayer&&this.#_(),this.textLayer&&(o?(this.textLayer.hide(),this.structTreeLayer?.hide()):s&&this.#E())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#S(e,t=null){var i=this;return O(function*(){if(e===i.renderTask&&(i.renderTask=null),t instanceof Dg)i.#l=null;else if(i.#l=t,i.renderingState=Fe.FINISHED,i._resetZoomLayer(!0),i.#d.regularAnnotations=!e.separateAnnots,i.eventBus.dispatch("pagerendered",{source:i,pageNumber:i.id,cssTransform:!1,timestamp:performance.now(),error:i.#l}),t)throw t})()}draw(){var e=this;return O(function*(){e.renderingState!==Fe.INITIAL&&(console.error("Must be in new state before drawing"),e.reset());const{div:t,l10n:i,pageColors:r,pdfPage:s,viewport:o}=e;if(!s)throw e.renderingState=Fe.FINISHED,new Error("pdfPage is not loaded");e.renderingState=Fe.RUNNING;const a=document.createElement("div");if(a.classList.add("canvasWrapper"),e.#p(a,"canvasWrapper"),!e.textLayer&&0!==e.#c&&!s.isPureXfa&&(e._accessibilityManager||=new xa,e.textLayer=new Fs({pdfPage:s,highlighter:e._textHighlighter,accessibilityManager:e._accessibilityManager,enablePermissions:2===e.#c,onAppend:x=>{e.l10n.pause(),e.#p(x,"textLayer"),e.l10n.resume()}})),!e.annotationLayer&&e.#e!==yi.DISABLE){const{annotationStorage:x,annotationEditorUIManager:T,downloadManager:C,enableScripting:P,fieldObjectsPromise:k,hasJSActionsPromise:pe,linkService:be}=e.#s;e._annotationCanvasMap||=new Map,e.annotationLayer=new ID({pdfPage:s,annotationStorage:x,imageResourcesPath:e.imageResourcesPath,renderForms:e.#e===yi.ENABLE_FORMS,linkService:be,downloadManager:C,enableScripting:P,hasJSActionsPromise:pe,fieldObjectsPromise:k,annotationCanvasMap:e._annotationCanvasMap,accessibilityManager:e._accessibilityManager,annotationEditorUIManager:T,onAppend:me=>{e.#p(me,"annotationLayer")}})}const{width:c,height:u}=o,d=document.createElement("canvas");d.setAttribute("role","presentation"),d.hidden=!0;const h=!(!r?.background||!r?.foreground);let f=x=>{(!h||x)&&(d.hidden=!1,f=null)};a.append(d),e.canvas=d;const p=d.getContext("2d",{alpha:!1,willReadFrequently:!e.#t}),g=e.outputScale=new C$;if(0===e.maxCanvasPixels){const x=1/e.scale;g.sx*=x,g.sy*=x,e.#n=!0}else if(e.maxCanvasPixels>0){const T=Math.sqrt(e.maxCanvasPixels/(c*u));g.sx>T||g.sy>T?(g.sx=T,g.sy=T,e.#n=!0):e.#n=!1}const v=yD(g.sx),m=yD(g.sy);d.width=pu(c*g.sx,v[0]),d.height=pu(u*g.sy,m[0]);const{style:y}=d;y.width=pu(c,v[1])+"px",y.height=pu(u,m[1])+"px",e.#u.set(d,o);const _={canvasContext:p,transform:g.scaled?[g.sx,0,0,g.sy,0,0]:null,viewport:o,annotationMode:e.#e,optionalContentConfigPromise:e._optionalContentConfigPromise,annotationCanvasMap:e._annotationCanvasMap,pageColors:r,isEditing:e.#r},w=e.renderTask=s.render(_);w.onContinue=x=>{if(f?.(!1),e.renderingQueue&&!e.renderingQueue.isHighestPriority(e))return e.renderingState=Fe.PAUSED,void(e.resume=()=>{e.renderingState=Fe.RUNNING,x()});x()};const S=w.promise.then(O(function*(){f?.(!0),yield e.#S(w),e.#E(),e.annotationLayer&&(yield e.#m());const{annotationEditorUIManager:x}=e.#s;x&&(e.drawLayer||=new h3({pageIndex:e.id}),yield e.#y(),e.drawLayer.setParent(a),e.annotationEditorLayer||(e.annotationEditorLayer=new d3({uiManager:x,pdfPage:s,l10n:i,accessibilityManager:e._accessibilityManager,annotationLayer:e.annotationLayer?.annotationLayer,textLayer:e.textLayer,drawLayer:e.drawLayer.getDrawLayer(),onAppend:T=>{e.#p(T,"annotationEditorLayer")}})),e.#v())}),x=>(x instanceof Dg||f?.(!0),e.#S(w,x)));if(s.isPureXfa){if(!e.xfaLayer){const{annotationStorage:x,linkService:T}=e.#s;e.xfaLayer=new JD({pdfPage:s,annotationStorage:x,linkService:T})}e.#_()}return t.setAttribute("data-loaded",!0),e.eventBus.dispatch("pagerender",{source:e,pageNumber:e.id}),S})()}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=this.#d;return e&&t&&i?this.canvas:null}}function Fg(){return(Fg=O(function*(n){const t="".split("#",1)[0];let{info:i,metadata:r,contentDispositionFilename:s,contentLength:o}=yield n.getMetadata();if(!o){const{length:a}=yield n.getDownloadInfo();o=a}return{...i,baseURL:t,filesize:o,filename:s||cz(""),metadata:r?.getRaw(),authors:r?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}class y3{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}createSandbox(e){var t=this;return O(function*(){(yield t._ready).create(e)})()}dispatchEventInSandbox(e){var t=this;return O(function*(){const i=yield t._ready;setTimeout(()=>i.dispatchEvent(e),0)})()}destroySandbox(){var e=this;return O(function*(){(yield e._ready).nukeSandbox()})()}}class b3{#e=null;#t=null;#n=null;#r=null;#s=null;#i=null;#o=null;#l=null;#h=!1;#c=null;#d=null;constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){this.#s=e,this.#i=t,this.#n=i}setViewer(e){this.#l=e}setDocument(e){var t=this;return O(function*(){if(t.#o&&(yield t.#f()),t.#o=e,!e)return;const[i,r,s]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!i&&!s)return void(yield t.#f());if(e!==t.#o)return;try{t.#c=t.#g()}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield t.#f())}const o=t.#s;t.#r=new AbortController;const{signal:a}=t.#r;o._on("updatefromsandbox",l=>{l?.source===window&&t.#u(l.detail)},{signal:a}),o._on("dispatcheventinsandbox",l=>{t.#c?.dispatchEventInSandbox(l.detail)},{signal:a}),o._on("pagechanging",({pageNumber:l,previous:c})=>{l!==c&&(t.#p(c),t.#a(l))},{signal:a}),o._on("pagerendered",({pageNumber:l})=>{t._pageOpenPending.has(l)&&l===t.#l.currentPageNumber&&t.#a(l)},{signal:a}),o._on("pagesdestroy",O(function*(){yield t.#p(t.#l.currentPageNumber),yield t.#c?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),t.#e?.resolve()}),{signal:a});try{const l=yield t.#n(e);if(e!==t.#o)return;yield t.#c.createSandbox({objects:i,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:s}}),o.dispatch("sandboxcreated",{source:t})}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield t.#f())}yield t.#c?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t.#a(t.#l.currentPageNumber,!0),Promise.resolve().then(()=>{e===t.#o&&(t.#h=!0)})})()}dispatchWillSave(){var e=this;return O(function*(){return e.#c?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var e=this;return O(function*(){return e.#c?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var e=this;return O(function*(){if(e.#c){yield e.#d?.promise,e.#d=Promise.withResolvers();try{yield e.#c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw e.#d.resolve(),e.#d=null,t}yield e.#d.promise}})()}dispatchDidPrint(){var e=this;return O(function*(){return e.#c?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#h}get _pageOpenPending(){return yu(this,"_pageOpenPending",new Set)}get _visitedPages(){return yu(this,"_visitedPages",new Map)}#u(e){var t=this;return O(function*(){const i=t.#l,r=i.isInPresentationMode||i.isChangingPresentationMode,{id:s,siblings:o,command:a,value:l}=e;if(!s){switch(a){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!r){const u=function O$(n){let e=ce.VERTICAL,t=_t.NONE;switch(n){case"SinglePage":e=ce.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=ce.PAGE;case"TwoColumnLeft":t=_t.ODD;break;case"TwoPageRight":e=ce.PAGE;case"TwoColumnRight":t=_t.EVEN}return{scrollMode:e,spreadMode:t}}(l);i.spreadMode=u.spreadMode}break;case"page-num":i.currentPageNumber=l+1;break;case"print":yield i.pagesPromise,t.#s.dispatch("print",{source:t});break;case"println":console.log(l);break;case"zoom":r||(i.currentScaleValue=l);break;case"SaveAs":t.#s.dispatch("download",{source:t});break;case"FirstPage":i.currentPageNumber=1;break;case"LastPage":i.currentPageNumber=i.pagesCount;break;case"NextPage":i.nextPage();break;case"PrevPage":i.previousPage();break;case"ZoomViewIn":r||i.increaseScale();break;case"ZoomViewOut":r||i.decreaseScale();break;case"WillPrintFinished":t.#d?.resolve(),t.#d=null}return}if(r&&e.focus)return;delete e.id,delete e.siblings;const c=o?[s,...o]:[s];for(const u of c){const d=document.querySelector(`[data-element-id="${u}"]`);d?d.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):t.#o?.annotationStorage.setValue(u,e)}})()}#a(e,t=!1){var i=this;return O(function*(){const r=i.#o,s=i._visitedPages;if(t&&(i.#e=Promise.withResolvers()),!i.#e)return;const o=i.#l.getPageView(e-1);if(o?.renderingState!==Fe.FINISHED)return void i._pageOpenPending.add(e);i._pageOpenPending.delete(e);const a=O(function*(){const l=yield s.has(e)?null:o.pdfPage?.getJSActions();r===i.#o&&(yield i.#c?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:l}))})();s.set(e,a)})()}#p(e){var t=this;return O(function*(){const i=t.#o,r=t._visitedPages;if(!t.#e||t._pageOpenPending.has(e))return;const s=r.get(e);s&&(r.set(e,null),yield s,i===t.#o&&(yield t.#c?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})()}#g(){if(this.#t=Promise.withResolvers(),this.#c)throw new Error("#initScripting: Scripting already exists.");return this.#i.createScripting()}#f(){var e=this;return O(function*(){if(!e.#c)return e.#o=null,void e.#t?.resolve();e.#e&&(yield Promise.race([e.#e.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(()=>{}),e.#e=null),e.#o=null;try{yield e.#c.destroySandbox()}catch{}e.#d?.reject(new Error("Scripting destroyed.")),e.#d=null,e.#r?.abort(),e.#r=null,e._pageOpenPending.clear(),e._visitedPages.clear(),e.#c=null,e.#h=!1,e.#t?.resolve()})()}}class _3 extends b3{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new y3(e.sandboxBundleSrc)},e.docProperties||=t=>function v3(n){return Fg.apply(this,arguments)}(t),super(e)}}class E3{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(e,t,i,r=!1){const s=e.views,o=s.length;if(0===o)return null;for(let d=0;d<o;d++){const h=s[d].view;if(!this.isViewFinished(h))return h}const a=e.first.id,l=e.last.id;if(l-a+1>o){const d=e.ids;for(let h=1,f=l-a;h<f;h++){const p=i?a+h:l-h;if(d.has(p))continue;const g=t[p-1];if(!this.isViewFinished(g))return g}}let c=i?l:a-2,u=t[c];return u&&!this.isViewFinished(u)||r&&(c+=i?1:-1,u=t[c],u&&!this.isViewFinished(u))?u:null}isViewFinished(e){return e.renderingState===Fe.FINISHED}renderView(e){switch(e.renderingState){case Fe.FINISHED:return!1;case Fe.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Fe.RUNNING:this.highestPriorityPage=e.renderingId;break;case Fe.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof Dg||console.error(`renderView: "${t}"`)})}return!0}}function nS(n){return Object.values(Mn).includes(n)&&n!==Mn.DISABLE}class C3{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){const t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;const i=this.#e;if(t){const r=i.size;let s=1;for(const o of i)if(t.has(o.id)&&(i.delete(o),i.add(o)),++s>r)break}for(;i.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){const e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}}class iS{#e=null;#t=null;#n=null;#r=Mn.NONE;#s=null;#i=yi.ENABLE_FORMS;#o=null;#l=!1;#h=!1;#c=!1;#d=!1;#u=null;#a=null;#p=null;#g=null;#f=!1;#m=null;#v=!1;#y=0;#_=new ResizeObserver(this.#U.bind(this));#E=null;#C=null;#A=1;constructor(e){const t="4.5.136";if(MD!==t)throw new Error(`The API version "${MD}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.#_.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new Ag,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=r=>this._getVisiblePages().ids.has(r)),this._scriptingManager=e.scriptingManager||null,this.#A=e.textLayerMode??1,this.#i=e.annotationMode??yi.ENABLE_FORMS,this.#r=e.annotationEditorMode??Mn.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#h=!0===e.enableHighlightFloatingButton,this.#d=!0===e.enableUpdatedAddImage,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new wi,this.#c=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#a=e.mlManager||null,this.#l=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new E3,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i?.addEventListener("abort",()=>{this.#_.disconnect(),this.#_=null},{once:!0}),this.scroll=function A$(n,e,t){const i=function(o){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,c=r.lastX;l!==c&&(r.right=l>c),r.lastX=l;const u=n.scrollTop,d=r.lastY;u!==d&&(r.down=u>d),r.lastY=u,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#B(),this.eventBus._on("thumbnailrendered",({pageNumber:r,pdfPage:s})=>{this.#e.has(this._pages[r-1])||s?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#i===yi.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#O(),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&this.#O(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#x(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#x(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!bD(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((e%=360)<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#x(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return yu(this,"_layerProperties",{get annotationEditorUIManager(){return e.#s},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#S(e){const t={annotationEditorMode:this.#r,annotationMode:this.#i,textLayerMode:this.#A};return e&&(!e.includes(vu.COPY)&&1===this.#A&&(t.textLayerMode=2),e.includes(vu.MODIFY_CONTENTS)||(t.annotationEditorMode=Mn.DISABLE),!e.includes(vu.MODIFY_ANNOTATIONS)&&!e.includes(vu.FILL_INTERACTIVE_FORMS)&&this.#i===yi.ENABLE_FORMS&&(t.annotationMode=yi.ENABLE)),t}#T(e){var t=this;return O(function*(){if("hidden"===document.visibilityState||!t.container.offsetParent||0===t._getVisiblePages().views.length)return;const i=Promise.withResolvers();function r(){"hidden"===document.visibilityState&&i.resolve()}document.addEventListener("visibilitychange",r,{signal:e}),yield Promise.race([t._onePageRenderedCapability.promise,i.promise]),document.removeEventListener("visibilitychange",r)})()}getAllText(){var e=this;return O(function*(){const t=[],i=[];for(let r=1,s=e.pdfDocument.numPages;r<=s;++r){if(e.#v)return null;i.length=0;const o=yield e.pdfDocument.getPage(r),{items:a}=yield o.getTextContent();for(const l of a)l.str&&i.push(l.str),l.hasEOL&&i.push("\n");t.push(fu(i.join("")))}return t.join("\n")})()}#D(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(this.#m)){if(this.#f||2===e)return t.preventDefault(),void t.stopPropagation();this.#f=!0;const{classList:o}=this.viewer;o.add("copyAll");const a=new AbortController;window.addEventListener("keydown",l=>this.#v="Escape"===l.key,{signal:a.signal}),this.getAllText().then(function(){var l=O(function*(c){null!==c&&(yield navigator.clipboard.writeText(c))});return function(c){return l.apply(this,arguments)}}()).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#f=!1,this.#v=!1,a.abort(),o.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){var t=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#s&&(this.#s.destroy(),this.#s=null)),this.pdfDocument=e,!e)return;const i=e.numPages,r=e.getPage(1),s=e.getOptionalContentConfig({intent:"display"}),o=this.#c?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:l,viewer:c}=this;this.#u=new AbortController;const{signal:u}=this.#u;if(i>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const f=this._scrollMode=ce.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:f})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:i})},()=>{}),a._on("pagerender",f=>{const p=this._pages[f.pageNumber-1];p&&this.#e.push(p)},{signal:u});const h=f=>{f.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:f.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([r,o]).then(([f,p])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(f),this._optionalContentConfigPromise=s;const{annotationEditorMode:g,annotationMode:v,textLayerMode:m}=this.#S(p);if(0!==m){const w=this.#m=document.createElement("div");w.id="hiddenCopyElement",c.before(w)}if(g!==Mn.DISABLE){const w=g;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):nS(w)?(this.#s=new sz(this.container,c,this.#t,a,e,l,this.#n,this.#h,this.#d,this.#a),a.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#s}),w!==Mn.NONE&&this.#s.updateMode(w)):console.error(`Invalid AnnotationEditor mode: ${w}`)}const y=this._scrollMode===ce.PAGE?null:c,b=this.currentScale,_=f.getViewport({scale:b*bi.PDF_TO_CSS_UNITS});c.style.setProperty("--scale-factor",_.scale),("CanvasText"===l?.foreground||"Canvas"===l?.background)&&(c.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),c.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let w=1;w<=i;++w){const S=new eS({container:y,eventBus:a,id:w,scale:b,defaultViewport:_.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:m,annotationMode:v,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:l,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(S)}this._pages[0]?.setPdfPage(f),this._scrollMode===ce.PAGE?this.#w():this._spreadMode!==_t.NONE&&this._updateSpreadMode(),this.#T(u).then(O(function*(){if(e!==t.pdfDocument)return;if(t.findController?.setDocument(e),t._scriptingManager?.setDocument(e),t.#m&&document.addEventListener("copy",t.#D.bind(t,m),{signal:u}),t.#s&&a.dispatch("annotationeditormodechanged",{source:t,mode:t.#r}),e.loadingParams.disableAutoFetch||i>5e3)return void t._pagesCapability.resolve();let w=i-1;if(w<=0)t._pagesCapability.resolve();else for(let S=2;S<=i;++S){const x=e.getPage(S).then(T=>{const C=t._pages[S-1];C.pdfPage||C.setPdfPage(T),0==--w&&t._pagesCapability.resolve()},T=>{console.error(`Unable to get page ${S} to initialize viewer`,T),0==--w&&t._pagesCapability.resolve()});S%250==0&&(yield x)}})),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:w})=>{e===this.pdfDocument&&w.Language&&(c.lang=w.Language)}),this.defaultRenderingQueue&&this.update()}).catch(f=>{console.error("Unable to initialize viewer",f),this._pagesCapability.reject(f)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,i=this._pages.length;t<i;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,this.#e=new C3(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=ce.VERTICAL,this._previousScrollMode=ce.UNKNOWN,this._spreadMode=_t.NONE,this.#E={previousPageNumber:1,scrollDown:!0,pages:[]},this.#u?.abort(),this.#u=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#F()}#w(){if(this._scrollMode!==ce.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=this.#E,i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode!==_t.NONE||this.isInPresentationMode){const r=new Set,s=this._spreadMode-1;-1===s?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const o=document.createElement("div");if(o.className="spread",this.isInPresentationMode){const a=document.createElement("div");a.className="dummyPage",o.append(a)}for(const a of r){const l=this._pages[a];l&&(o.append(l.div),t.pages.push(l))}i.append(o)}else{const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){0!==this.pagesCount&&this.update()}#b(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===ce.PAGE&&(this.#w(),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,o=s+i.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===ce.HORIZONTAL||s<a||o>a+l)&&(t={left:0,top:0})}mD(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}#I(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#M(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:o=null}){if(this._currentScaleValue=t.toString(),this.#I(e))return void(r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t}));this.viewer.style.setProperty("--scale-factor",e*bi.PDF_TO_CSS_UNITS);const a=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:a?s:-1}),a&&(this.#C=setTimeout(()=>{this.#C=null,this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u,c=this._currentPageNumber;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0}),Array.isArray(o)){const d=e/l-1,[h,f]=this.containerTopLeft;this.container.scrollLeft+=(o[0]-f)*d,this.container.scrollTop+=(o[1]-h)*d}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}get#R(){return this._spreadMode!==_t.NONE&&this._scrollMode!==ce.HORIZONTAL?2:1}#x(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,this.#M(i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=40,o=5;this.isInPresentationMode?(s=o=4,this._spreadMode!==_t.NONE&&(s*=2)):this.removePageBorders?s=o=0:this._scrollMode===ce.HORIZONTAL&&([s,o]=[o,s]);const a=(this.container.clientWidth-s)/r.width*r.scale/this.#R,l=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":const c=_D(r)?a:Math.min(l,a);i=Math.min(1.25,c);break;default:return void console.error(`#setScale: "${e}" is an unknown zoom value.`)}t.preset=!0,this.#M(i,e,t)}}#O(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#x(this._currentScaleValue,{noScroll:!0}),this.#b(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(e)&&this._pages[e-1];if(!s)return void console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!t)return void this._setCurrentPageNumber(e,!0);let u,d,o=0,a=0,l=0,c=0;const h=s.rotation%180!=0,f=(h?s.height:s.width)/s.scale/bi.PDF_TO_CSS_UNITS,p=(h?s.width:s.height)/s.scale/bi.PDF_TO_CSS_UNITS;let g=0;switch(t[1].name){case"XYZ":o=t[2],a=t[3],g=t[4],o=null!==o?o:0,a=null!==a?a:p;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":a=t[2],g="page-width",null===a&&this._location?(o=this._location.left,a=this._location.top):("number"!=typeof a||a<0)&&(a=p);break;case"FitV":case"FitBV":o=t[2],l=f,c=p,g="page-height";break;case"FitR":o=t[2],a=t[3],l=t[4]-o,c=t[5]-a;let b=40,_=5;this.removePageBorders&&(b=_=0),u=(this.container.clientWidth-b)/l/bi.PDF_TO_CSS_UNITS,d=(this.container.clientHeight-_)/c/bi.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(u),Math.abs(d));break;default:return void console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`)}if(r||(g&&g!==this._currentScale?this.currentScaleValue=g:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===g&&!t[4])return void this.#b(s);const v=[s.viewport.convertToViewportPoint(o,a),s.viewport.convertToViewportPoint(o+l,a+c)];let m=Math.min(v[0][0],v[1][0]),y=Math.min(v[0][1],v[1][1]);i||(m=Math.max(m,0),y=Math.max(y,0)),this.#b(s,{left:m,top:y})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(1e4*t)/100:i,s=e.id,a=this.container,l=this._pages[s-1].getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),c=Math.round(l[0]),u=Math.round(l[1]);let d=`#page=${s}`;this.isInPresentationMode||(d+=`&zoom=${r},${c},${u}`),this._location={pageNumber:s,scale:r,top:u,left:c,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(0===i)return;const r=Math.max(10,2*i+1);this.#e.resize(r,e.ids),this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===_t.NONE&&(this._scrollMode===ce.PAGE||this._scrollMode===ce.VERTICAL),o=this._currentPageNumber;let a=!1;for(const l of t){if(l.percent<100)break;if(l.id===o&&s){a=!0;break}}this._setCurrentPageNumber(a?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#L(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:o}=s;o.hasEditableAnnotations()?t.push(s):i.delete(o.id)}return 0===t.length?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===ce.PAGE?this.#E.pages:this._pages,t=this._scrollMode===ce.HORIZONTAL;return function S$({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,o=s+n.clientHeight,a=n.scrollLeft,l=a+n.clientWidth,d=[],h=new Set,f=e.length;let p=Ca(e,i?function u(y){const b=y.div,_=b.offsetLeft+b.clientLeft;return r?_<l:_+b.clientWidth>a}:function c(y){const b=y.div;return b.offsetTop+b.clientTop+b.clientHeight>s});p>0&&p<f&&!i&&(p=function D$(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}(p,e,s));let g=i?l:-1;for(let y=p;y<f;y++){const b=e[y],_=b.div,w=_.offsetLeft+_.clientLeft,S=_.offsetTop+_.clientTop,x=_.clientWidth,T=_.clientHeight,C=w+x,P=S+T;if(-1===g)P>=o&&(g=P);else if((i?w:S)>g)break;if(P<=s||S>=o||C<=a||w>=l)continue;const k=Math.max(0,s-S)+Math.max(0,P-o),me=(x-(Math.max(0,a-w)+Math.max(0,C-l)))/x;d.push({id:b.id,x:w,y:S,view:b,percent:(T-k)/T*me*100|0,widthPercent:100*me|0}),h.add(b.id)}const v=d[0],m=d.at(-1);return t&&d.sort(function(y,b){const _=y.percent-b.percent;return Math.abs(_)>.001?-_:y.id-b.id}),{first:v,last:m,views:d,ids:h}}({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:t&&this._isContainerRtl})}cleanup(){for(const e of this._pages)e.renderingState!==Fe.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}#N(e){var t=this;return O(function*(){if(e.pdfPage)return e.pdfPage;try{const i=yield t.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(i),i}catch(i){return console.error("Unable to get page for page view",i),null}})()}#k(e){if(1===e.first?.id)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case ce.PAGE:return this.#E.scrollDown;case ce.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){const t=e||this._getVisiblePages(),i=this.#k(t),s=this.renderingQueue.getHighestPriority(t,this._pages,i,this._spreadMode!==_t.NONE&&this._scrollMode!==ce.HORIZONTAL);return!!s&&(this.#N(s).then(()=>{this.renderingQueue.renderView(s)}),!0)}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=_D(i);if(void 0===e)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!function M$(n){return Number.isInteger(n)&&Object.values(ce).includes(n)&&n!==ce.UNKNOWN}(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===ce.HORIZONTAL),i.classList.toggle("scrollWrapped",t===ce.WRAPPED),this.pdfDocument&&e&&(t===ce.PAGE?this.#w():this._previousScrollMode===ce.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#x(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!function I$(n){return Number.isInteger(n)&&Object.values(_t).includes(n)&&n!==_t.UNKNOWN}(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===ce.PAGE)this.#w();else if(t.textContent="",this._spreadMode===_t.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let o=0,a=i.length;o<a;++o)null===s?(s=document.createElement("div"),s.className="spread",t.append(s)):o%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[o].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#x(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case ce.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:o,percent:a,widthPercent:l}of i){if(0===a||l<100)continue;let c=r.get(o);c||r.set(o,c||=[]),c.push(s)}for(const s of r.values()){const o=s.indexOf(e);if(-1===o)continue;const a=s.length;if(1===a)break;if(t)for(let l=o-1,c=0;l>=c;l--){const d=s[l+1]-1;if(s[l]<d)return e-d}else for(let l=o+1,c=a;l<c;l++){const d=s[l-1]+1;if(s[l]>d)return d-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[a-1];if(l>e)return l-e+1}break}break}case ce.HORIZONTAL:break;case ce.PAGE:case ce.VERTICAL:{if(this._spreadMode===_t.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:o,percent:a,widthPercent:l}of r)if(o===s){if(a>0&&100===l)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(null===i&&null===t)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&1!==t)s=Math.round(s*t*100)/100;else if(i){const o=i>0?1.1:1/1.1,a=i>0?Math.ceil:Math.floor;i=Math.abs(i);do{s=a(10*(s*o).toFixed(2))/10}while(--i>0)}s=Math.max(.1,Math.min(10,s)),this.#x(s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}#B(e=this.container.clientHeight){e!==this.#y&&(this.#y=e,T$.setProperty("--viewer-container-height",`${e}px`))}#U(e){for(const t of e)if(t.target===this.container){this.#B(Math.floor(t.borderBoxSize[0].blockSize)),this.#o=null;break}}get containerTopLeft(){return this.#o||=[this.container.offsetTop,this.container.offsetLeft]}#F(){this.#p&&(this.eventBus._off("pagerendered",this.#p),this.#p=null),null!==this.#g&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#s?this.#r:Mn.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!this.#s)throw new Error("The AnnotationEditor is not enabled.");if(this.#r===e)return;if(!nS(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;const{eventBus:r}=this,s=()=>{this.#F(),this.#r=e,this.#s.updateMode(e,t,i),r.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===Mn.NONE||this.#r===Mn.NONE){const o=e!==Mn.NONE;o||this.pdfDocument.annotationStorage.resetModifiedIds();for(const l of this._pages)l.toggleEditingMode(o);const a=this.#L();if(o&&a){this.#F(),this.#p=({pageNumber:c})=>{a.delete(c),0===a.size&&(this.#g=setTimeout(s,0))};const{signal:l}=this.#u;return void r._on("pagerendered",this.#p,{signal:l})}}s()}set annotationEditorParams({type:e,value:t}){if(!this.#s)throw new Error("The AnnotationEditor is not enabled.");this.#s.updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);null!==this.#C&&(clearTimeout(this.#C),this.#C=null),e||this.update()}}}class A3 extends iS{_resetView(){super._resetView(),this._scrollMode=ce.PAGE,this._spreadMode=_t.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}var D3=Re.AnnotationLayerBuilder,S3=Re.DownloadManager,x3=Re.EventBus,M3=Re.FindState,rS=Re.GenericL10n,Bs=Re.LinkTarget,sS=Re.PDFFindController,I3=Re.PDFHistory,oS=Re.PDFLinkService,T3=Re.PDFPageView,P3=Re.PDFScriptingManager,aS=Re.PDFSinglePageViewer,lS=Re.PDFViewer,R3=Re.ProgressBar,O3=Re.RenderingStates,L3=Re.ScrollMode,k3=Re.SimpleLinkService,N3=Re.SpreadMode,F3=Re.StructTreeLayerBuilder,B3=Re.TextLayerBuilder,j3=Re.XfaLayerBuilder,V3=Re.parseQueryString;const H3=["pdfViewerContainer"];function Bg(n,e,t){n[e]=t}function Ma(){return typeof window>"u"}Ma()||Bg(Ci,"verbosity",aD.INFOS),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((i,r)=>{n=i,e=r}),resolve:n,reject:e}});var jg=function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n}(jg||{});let z3=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Ci<"u"?`https://unpkg.com/pdfjs-dist@${uu}/cmaps/`:null;_imageResourcesPath=typeof Ci<"u"?`https://unpkg.com/pdfjs-dist@${uu}/web/images/`:void 0;_renderText=!0;_renderTextMode=jg.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new tn;afterLoadComplete=new Le;pageRendered=new Le;pageInitialized=new Le;textLayerRendered=new Le;onError=new Le;onProgress=new Le;pageChange=new Le(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return Bs.BLANK;case"none":return Bs.NONE;case"self":return Bs.SELF;case"parent":return Bs.PARENT;case"top":return Bs.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,Ma())return;let r;const s=uu;r=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.mjs`),Bg(oD,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!Ma()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){Xe(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Te(this.destroy$)).subscribe({next:t=>{const i=this._rotation+t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS;let s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const a=t.getViewport({scale:1,rotation:i});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,o&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function U3(n,e){const t=new n.EventBus;return function $3(n,e){Ne(n,"documentload").pipe(Te(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Ne(n,"pagerendered").pipe(Te(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),Ne(n,"textlayerrendered").pipe(Te(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv?.dispatchEvent(r)}),Ne(n,"pagechanging").pipe(Te(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),Ne(n,"pagesinit").pipe(Te(e)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),Ne(n,"pagesloaded").pipe(Te(e)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),Ne(n,"scalechange").pipe(Te(e)).subscribe(({scale:t,presetValue:i,source:r})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),Ne(n,"updateviewarea").pipe(Te(e)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),Ne(n,"find").pipe(Te(e)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Ne(n,"attachmentsloaded").pipe(Te(e)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),Ne(n,"sidebarviewchanged").pipe(Te(e)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),Ne(n,"pagemode").pipe(Te(e)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),Ne(n,"namedaction").pipe(Te(e)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),Ne(n,"presentationmodechanged").pipe(Te(e)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),Ne(n,"outlineloaded").pipe(Te(e)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,e),t}(Tu,this.destroy$),Ne(this.eventBus,"pagerendered").pipe(Te(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Ne(this.eventBus,"pagesinit").pipe(Te(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Ne(this.eventBus,"pagechanging").pipe(Te(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Ne(this.eventBus,"textlayerrendered").pipe(Te(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new oS({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new sS({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:jg.DISABLED,findController:this.pdfFindController,l10n:new rS("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:sD.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),Bg(Ci,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new lS(this.getPDFOptions()):new aS(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=lD(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;Xe(this.loadingTask.promise).pipe(Te(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,o=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===o||0===i||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/i,s/t);break;case"page-height":a=o/i;break;default:a=s/t}return this._zoom*a/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Ma()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Ma()||this.ngZone.runOutsideAngular(()=>{Ne(window,"resize").pipe(function OV(n,e=RV){return ze((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(We(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}(100),ui(()=>this._canAutoResize&&!!this._pdf),Te(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||n)(j(ti),j(we))};static \u0275cmp=ht({type:n,selectors:[["pdf-viewer"]],viewQuery:function(i,r){if(1&i&&l0(H3,5),2&i){let s;_f(s=function wf(){return function VL(n,e){return n[Rn].queries[e].queryList}(I(),pv())}())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Pi],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(i,r){1&i&&(A(0,"div",0,1),Je(2,"div",2),D())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return n})(),W3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xi({type:n});static \u0275inj=Yn({})}return n})();const G3=[{path:"",component:EV},{path:"schedule",component:(()=>{class n{constructor(){this.pdfSrc="assets/iwana2022-ab1-1.pdf"}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-schedule"]],decls:13,vars:2,consts:[[1,"schedule-section"],[1,"schedule-container"],[1,"pdf-viewer-container"],[2,"display","block","width","50%","height","600px",3,"src","render-text"],[1,"download-container"],["href","assets/to be announced abstract.pdf","download","",1,"btn-download"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h1"),E(3,"Conference Schedule"),D(),A(4,"div",2)(5,"h3"),E(6,"Preview the Book of Abstracts"),D(),Je(7,"pdf-viewer",3),D(),A(8,"div",4)(9,"h3"),E(10,"Download the Book of Abstracts"),D(),A(11,"a",5),E(12,"Download Book of Abstracts"),D()()()()),2&i&&(xh(7),ql("src","assets/to be announced abstract.pdf")("render-text",!0))},dependencies:[z3],styles:[".schedule-section[_ngcontent-%COMP%]{padding:60px 20px;text-align:center}.schedule-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.schedule-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px}.conference-logo[_ngcontent-%COMP%]{max-width:300px;margin:20px 0}.pdf-viewer-container[_ngcontent-%COMP%]{margin:40px 0}.pdf-viewer-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.download-container[_ngcontent-%COMP%]{margin:20px 0}.download-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.btn-download[_ngcontent-%COMP%]{display:inline-block;background:#007bff;color:#fff;padding:10px 20px;border-radius:5px;text-decoration:none;transition:background .3s ease-in-out}.btn-download[_ngcontent-%COMP%]:hover{background:#0056b3}.table-container[_ngcontent-%COMP%]{margin-top:50px;overflow-x:auto}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;text-align:center}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#333;color:#fff}.schedule-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f9f9f9}"]})}}return n})()},{path:"speakers",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-speakers"]],decls:3,vars:0,consts:[[1,"speakers-section"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"h1"),E(2,"To be announced"),D()())},styles:[".speakers-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f9f9f9;text-align:center}.speakers-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.speaker-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:40px}.speaker-card[_ngcontent-%COMP%]{flex-basis:30%;background:#fff;border:1px solid #ddd;padding:20px;box-shadow:0 2px 4px #0000001a;text-align:center}.speaker-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;border-radius:50%;margin-bottom:15px}.speaker-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.speaker-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}@media (max-width: 768px){.speaker-grid[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.speaker-card[_ngcontent-%COMP%]{flex-basis:80%;margin-bottom:20px}}"]})}}return n})()},{path:"registration",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-registration"]],decls:121,vars:0,consts:[[1,"registration-section"],[1,"registration-container"],[1,"registration-steps"],["href","https://docs.google.com/forms/d/e/1FAIpQLSeBuw1TaJbswSV3qKKJQAilwBGE7eF-jc2TTq4snw-CNkIYdg/viewform?usp=sf_link",1,"register-link"],["href","mailto:conference2024@domain.com"],[1,"registration-table"],[1,"remarks-list"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h2"),E(3,"Registration"),D(),A(4,"p"),E(5,"Dear Colleagues,"),D(),A(6,"p"),E(7,"This is to inform you that the registration for the upcoming "),A(8,"strong"),E(9,"The 12th Asian Conferences on Fixed Point Theory and Optimization 2024 "),D(),E(10," (ACFPTO 2024) is "),A(11,"strong"),E(12,"now open."),D()(),A(13,"p"),E(14,"Please make sure to read the following "),A(15,"strong"),E(16,"registration steps"),D(),E(17," beforehand."),D(),A(18,"h3"),E(19,"Registration Steps"),D(),A(20,"ol",2)(21,"li"),E(22,"Click "),A(23,"a",3),E(24,"REGISTER NOW"),D(),E(25," and fill in the necessary information."),D(),A(26,"li"),E(27,"If you would like to contribute a presentation, visit the ABSTRACT SUBMISSION page, read the guidelines, and submit your abstract. The submission is open from "),A(28,"strong"),E(29,"May 1 \u2013 July 12, 2024."),D(),E(30," The announcement of acceptance is on "),A(31,"strong"),E(32,"July 15, 2024."),D()(),A(33,"li"),E(34,"Pay the registration fee according to your category listed below in the "),A(35,"strong"),E(36,"Registration Fees"),D(),E(37," section."),D(),A(38,"li"),E(39,"Scan your transaction slip and email it to us at "),A(40,"a",4),E(41,"conference2024@domain.com"),D(),E(42,"."),D()(),A(43,"h3"),E(44,"Registration Fees"),D(),A(45,"p"),E(46,"The registration fees are split into categories and based on the registration date. We offer a discount rate for early bird registration (register before "),A(47,"strong"),E(48,"August 1, 2024"),D(),E(49,")."),D(),A(50,"table",5)(51,"thead")(52,"tr")(53,"th"),E(54,"Registration Rate"),D(),A(55,"th"),E(56,"Early Registration (May 1 \u2013 July 31, 2024)"),D(),A(57,"th"),E(58,"Regular Registration (August 1 \u2013 September 5, 2024)"),D()()(),A(59,"tbody")(60,"tr")(61,"td"),E(62,"Thai Students"),D(),A(63,"td"),E(64,"6,000 THB"),D(),A(65,"td"),E(66,"8,000 THB"),D()(),A(67,"tr")(68,"td"),E(69,"Thai Regulars"),D(),A(70,"td"),E(71,"8,000 THB"),D(),A(72,"td"),E(73,"10,000 THB"),D()(),A(74,"tr")(75,"td"),E(76,"Thai Participants"),D(),A(77,"td"),E(78,"6,000 THB"),D(),A(79,"td"),E(80,"8,000 THB"),D()(),A(81,"tr")(82,"td"),E(83,"Foreign Students"),D(),A(84,"td"),E(85,"200 USD"),D(),A(86,"td"),E(87,"270 USD"),D()(),A(88,"tr")(89,"td"),E(90,"Foreign Regulars"),D(),A(91,"td"),E(92,"270 USD"),D(),A(93,"td"),E(94,"350 USD"),D()(),A(95,"tr")(96,"td"),E(97,"Foreign Participants"),D(),A(98,"td"),E(99,"200 USD"),D(),A(100,"td"),E(101,"270 USD"),D()(),A(102,"tr")(103,"td"),E(104,"Accompanying Person"),D(),A(105,"td"),E(106,"4,000 THB"),D(),A(107,"td"),E(108,"4,000 THB"),D()()()(),A(109,"h3"),E(110,"Remarks"),D(),A(111,"ul",6)(112,"li"),E(113,"The registration fee includes:"),D(),A(114,"ul")(115,"li"),E(116,"Conference kit."),D(),A(117,"li"),E(118,"Banquet (Sep 5)."),D(),A(119,"li"),E(120,"Lunch and coffee break."),D()()()()())},styles:[".registration-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f4f4f4;text-align:left}.registration-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;background:#fff;padding:40px;box-shadow:0 4px 8px #0000001a;border-radius:8px}.registration-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .registration-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#333;border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:20px}.registration-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#555;line-height:1.6;margin-bottom:20px}.registration-steps[_ngcontent-%COMP%]{margin:20px 0;padding-left:20px}.registration-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1rem;color:#444}.register-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.register-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.registration-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:30px 0}.registration-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .registration-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;text-align:center}.registration-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#333;color:#fff}.registration-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f9f9f9}.remarks-list[_ngcontent-%COMP%]{list-style-type:none;padding-left:20px}.remarks-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem;color:#333;margin-bottom:5px}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.margin-auto[_ngcontent-%COMP%]{margin:0 auto}@media (max-width: 768px){.registration-container[_ngcontent-%COMP%]{width:95%;padding:20px}.registration-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .registration-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.registration-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .registration-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}}"]})}}return n})()},{path:"contact",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-contact"]],decls:18,vars:0,consts:[[1,"contact-section"],[1,"contact-container"],[1,"contact-form"],["for","name"],["type","text","id","name","name","name","placeholder","Enter your name"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email"],["for","message"],["id","message","name","message","placeholder","Write your message"],["type","submit",1,"btn-submit"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h2"),E(3,"Contact Us"),D(),A(4,"p"),E(5,"If you have any questions or need further information, please get in touch using the form below."),D(),A(6,"form",2)(7,"label",3),E(8,"Your Name"),D(),Je(9,"input",4),A(10,"label",5),E(11,"Your Email"),D(),Je(12,"input",6),A(13,"label",7),E(14,"Your Message"),D(),Je(15,"textarea",8),A(16,"button",9),E(17,"Send Message"),D()()()())},styles:[".contact-section[_ngcontent-%COMP%]{padding:60px 20px;background:#fff;text-align:center}.contact-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.contact-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;color:#333}.contact-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;margin-bottom:30px}.contact-form[_ngcontent-%COMP%]{background:#f4f4f4;padding:30px;border:1px solid #ddd;box-shadow:0 2px 4px #0000001a;border-radius:8px}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ddd;border-radius:5px}.contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:120px}.btn-submit[_ngcontent-%COMP%]{background:#333;color:#fff;padding:10px 20px;border:none;cursor:pointer;border-radius:5px;transition:background .3s ease-in-out}.btn-submit[_ngcontent-%COMP%]:hover{background:#555}@media (max-width: 768px){.contact-container[_ngcontent-%COMP%]{width:90%}}"]})}}return n})()},{path:"committees",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-committees"]],decls:60,vars:0,consts:[[1,"committees-section"],[1,"committees-container"],[1,"committee"],[1,"committee-list"],[1,"note"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h1"),E(3,"Organizers & Committees"),D(),A(4,"div",2)(5,"h2"),E(6,"Organizing Committee"),D(),A(7,"ul",3)(8,"li"),E(9,"Juan Martinez-Moreno (Universidad de Ja\xe9n, Spain)"),D(),A(10,"li"),E(11,"Poom Kumam (TaCS-CoE, KMUTT, Thailand)"),D(),A(12,"li"),E(13,"Antonio Francisco Rold\xe1n L\xf3pez de Hierro (University of Granada, Spain)"),D(),A(14,"li"),E(15,"Dhananjay Gopal (ACU, India)"),D(),A(16,"li"),E(17,"Ovidiu Bagdasar (University of Derby, UK)"),D(),A(18,"li"),E(19,"Parin Chaipunya (KMUTT, Thailand)"),D(),A(20,"li"),E(21,"Supak Phiangsungnoen (RMUTR, Thailand)"),D(),A(22,"li"),E(23,"Nantaporn Chuensupantharat (BSRU, Thailand)"),D()(),A(24,"p",4),E(25," The next Working Group on Applied Nonlinear Analysis (WG-ANA) will be organized to prepare for the Second International Workshop on Applied Nonlinear Analysis (The 2th IWANA 2022), September 5-6, 2022, Bangsaen, Chonburi, Thailand. "),D()(),A(26,"div",2)(27,"h2"),E(28,"Local Organizing Committee"),D(),A(29,"ul",3)(30,"li"),E(31,"Konrawut Khammahawong (RMUTT, Thailand)"),D(),A(32,"li"),E(33,"Wiyada Kumam (RMUTT, Thailand)"),D(),A(34,"li"),E(35,"Kamornat Sombut (RMUTT, Thailand)"),D(),A(36,"li"),E(37,"Thongchai Botmart (KKU, Thailand)"),D(),A(38,"li"),E(39,"Kanit Mukdasai (KKU, Thailand)"),D(),A(40,"li"),E(41,"Wajaree Weera (KKU, Thailand)"),D(),A(42,"li"),E(43,"Nimit Nimana (KKU, Thailand)"),D(),A(44,"li"),E(45,"Thidaporn Seangwattana (KMUTNB, Thailand)"),D(),A(46,"li"),E(47,"Kanokwan Sitthithakerngkiet (KMUTNB, Thailand)"),D(),A(48,"li"),E(49,"Kasamsuk Ungchittrakool (NU, Thailand)"),D(),A(50,"li"),E(51,"Phum Sumalai (MCRU, Thailand)"),D(),A(52,"li"),E(53,"Issara Inchan (URU, Thailand)"),D(),A(54,"li"),E(55,"Thanatporn Bantaoraj (VRU, Thailand)"),D(),A(56,"li"),E(57,"Areeat Arunchai (NSRU, Thailand)"),D(),A(58,"li"),E(59,"Thanomwan Kumam (KMUTT, Thailand)"),D()()()()())},styles:[".committees-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f7f7f7;text-align:center}.committees-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.committees-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:40px}.committee[_ngcontent-%COMP%]{margin-bottom:50px}.committee[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#444;margin-bottom:20px}.committee-list[_ngcontent-%COMP%]{list-style-type:disc;text-align:left;margin:0 auto 30px;max-width:800px;padding:0}.committee-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2rem;margin:10px 0;color:#555}.note[_ngcontent-%COMP%]{font-style:italic;color:#777;max-width:800px;margin:0 auto;line-height:1.6}"]})}}return n})()},{path:"important-dates",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-important-dates"]],decls:14,vars:0,consts:[[1,"important-dates-section"],[1,"important-dates-container"],[1,"important-dates-list"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h2"),E(3,"Important Dates"),D(),Je(4,"hr"),A(5,"ul",2)(6,"li"),E(7,"May 1 \u2013 June 30, 2024: Abstract submission"),D(),A(8,"li"),E(9,"July 15, 2024: Announcement for presentation acceptance"),D(),A(10,"li"),E(11,"August 1, 2024: Early bird registration closed"),D(),A(12,"li"),E(13,"September 5-6, 2024: Conference dates"),D()()()())},styles:[".important-dates-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f4f4f4;text-align:center}.important-dates-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;background:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.important-dates-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:20px}.important-dates-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:50px;border:1px solid #ddd;margin:20px auto}.important-dates-list[_ngcontent-%COMP%]{list-style:none;padding-left:0}.important-dates-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2rem;color:#555;margin-bottom:15px;line-height:1.6}"]})}}return n})()},{path:"abstract-proceedings",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-abstract-proceedings"]],decls:55,vars:0,consts:[[1,"abstract-section"],[1,"abstract-container"],[1,"guidelines-list"],["routerLink","/registration"],["href","#"],["href","mailto:conference2024@domain.com"],[1,"journal-list"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h2"),E(3,"Abstract & Proceedings"),D(),A(4,"p"),E(5,"The abstract submission is "),A(6,"strong"),E(7,"NOW OPEN!"),D()(),A(8,"p"),E(9,"The submission deadline is "),A(10,"strong"),E(11,"June 30, 2024"),D(),E(12,". The acceptance announcement will be made on "),A(13,"strong"),E(14,"July 15, 2024"),D(),E(15,"."),D(),A(16,"p"),E(17,"If you wish to contribute a presentation to our conference, please follow the guidelines below and submit your abstract before the deadline."),D(),A(18,"h3"),E(19,"Author Guidelines"),D(),A(20,"ol",2)(21,"li"),E(22,"Be sure to follow the "),A(23,"a",3),E(24,"Registration Steps"),D(),E(25," on the registration page."),D(),A(26,"li"),E(27,"Download the LaTeX template of the talk abstract "),A(28,"a",4),E(29,"here"),D(),E(30,". Make sure to download all the files for smooth implementation."),D(),A(31,"li"),E(32,"Enter your abstract and complete the necessary information according to the provided template. Include the title, author list, affiliations, supporting agencies, references, etc."),D(),A(33,"li"),E(34,"Submit your abstract via email to "),A(35,"a",5),E(36,"conference2024@domain.com"),D(),E(37," before "),A(38,"strong"),E(39,"June 30, 2024"),D(),E(40,"."),D()(),A(41,"h3"),E(42,"Special Issues Journals"),D(),A(43,"ul",6)(44,"li"),E(45,"TJM (Thai Journal of Mathematics: ESCI WoS, SCOPUS SIR Q4)"),D(),A(46,"li"),E(47,"NCAO (Nonlinear Convex Analysis and Optimization, new journal in 202>4)"),D(),A(48,"li"),E(49,"Bangmod J-MCS (Bangmod International Journal of Mathematical and Computational Science, "),A(50,"strong"),E(51,"ISSN: 2408-154X"),D(),E(52,")"),D(),A(53,"li"),E(54,"The selected paper will be published in a special issue of NFAA (SCOPUS SJR Q3) November, 2024, Vol. 28(5)."),D()()()())},dependencies:[Ts],styles:[".abstract-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f4f4f4;text-align:left}.abstract-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;background:#fff;padding:40px;box-shadow:0 4px 8px #0000001a;border-radius:8px}.abstract-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .abstract-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#333;border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:20px}.abstract-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#555;line-height:1.6;margin-bottom:20px}.guidelines-list[_ngcontent-%COMP%]{list-style:decimal;padding-left:20px}.guidelines-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1rem}.journal-list[_ngcontent-%COMP%]{list-style:none;padding-left:0}.journal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem;color:#444;margin-bottom:10px}"]})}}return n})()},{path:"participants",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-participants"]],decls:8,vars:0,consts:[[1,"participants-section"],[1,"participants-container"],[1,"google-sheet-container"],["src","https://docs.google.com/spreadsheets/d/1Q6egSCo8VkzLfN5vng6mGVu5EOeiRBt419B3DSKzHoQ/edit?usp=sharing","width","100%","height","600px","frameborder","0","allowfullscreen","true"]],template:function(i,r){1&i&&(A(0,"section",0)(1,"div",1)(2,"h1"),E(3,"Participants"),D(),A(4,"p"),E(5,"Below is the real-time list of participants for the conference. The data is updated live as changes are made in the Google Sheet."),D(),A(6,"div",2),Je(7,"iframe",3),D()()())},styles:[".participants-section[_ngcontent-%COMP%]{padding:60px 20px;background:#f7f7f7;text-align:center}.participants-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.participants-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:20px}.participants-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#555;max-width:800px;margin:0 auto 40px;line-height:1.6}.google-sheet-container[_ngcontent-%COMP%]{margin-top:30px;overflow:hidden;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a}.google-sheet-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:none;border-radius:8px}@media (max-width: 1024px){.participants-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.participants-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.google-sheet-container[_ngcontent-%COMP%]{width:100%;height:500px}.google-sheet-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:500px}}@media (max-width: 768px){.participants-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.participants-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.google-sheet-container[_ngcontent-%COMP%]{width:100%;height:400px}.google-sheet-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:400px}}@media (max-width: 480px){.participants-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.participants-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.google-sheet-container[_ngcontent-%COMP%]{width:100%;height:300px}.google-sheet-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:300px}}"]})}}return n})()}];let q3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=xi({type:n})}static{this.\u0275inj=Yn({imports:[oA.forRoot(G3),oA]})}}return n})();const Y3=function(n){return{active:n}};let K3=(()=>{class n{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-header"]],decls:36,vars:3,consts:[[1,"navbar"],[1,"navbar-logo"],["routerLink","/"],[1,"navbar-links",3,"ngClass"],["routerLink","/schedule"],["routerLink","/speakers"],["routerLink","/registration"],["routerLink","/important-dates"],["routerLink","/abstract-proceedings"],["routerLink","/participants"],["routerLink","/committees"],["routerLink","/contact"],["id","mobile-menu",1,"navbar-toggle",3,"click"],[1,"bar"]],template:function(i,r){1&i&&(A(0,"nav",0)(1,"div",1)(2,"a",2),E(3,"THE 12TH ASIAN CONFERENCES ON FIXED POINT THEORY AND OPTIMIZATION 2025"),D()(),A(4,"ul",3)(5,"li")(6,"a",2),E(7,"Home"),D()(),A(8,"li")(9,"a",4),E(10,"Schedule"),D()(),A(11,"li")(12,"a",5),E(13,"Speakers"),D()(),A(14,"li")(15,"a",6),E(16,"Registration"),D()(),A(17,"li")(18,"a",7),E(19,"Important Dates"),D()(),A(20,"li")(21,"a",8),E(22,"Abstract & Proceedings"),D()(),A(23,"li")(24,"a",9),E(25,"Participants"),D()(),A(26,"li")(27,"a",10),E(28,"Committees"),D()(),A(29,"li")(30,"a",11),E(31,"Contact"),D()()(),A(32,"div",12),Kl("click",function(){return r.toggleMenu()}),Je(33,"span",13)(34,"span",13)(35,"span",13),D()()),2&i&&(xh(4),ql("ngClass",zw(1,Y3,r.isMenuOpen)))},dependencies:[SE,Ts],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#333;color:#fff;padding:15px 20px;position:sticky;top:0;z-index:1000;width:100%}.navbar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:gold;font-size:1.2rem;text-transform:uppercase;letter-spacing:2px;font-weight:700}.navbar-links[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,auto);gap:15px;list-style:none;justify-content:center;padding:0;transition:max-height .3s ease-out}@media (max-width: 1024px){.navbar-links[_ngcontent-%COMP%]{display:none;position:fixed;top:60px;left:0;right:0;background:#333;z-index:999;flex-direction:column;align-items:center;max-height:0;overflow:hidden}.navbar-links.active[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);max-height:100vh;gap:15px}}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:1rem;padding:3px 15px;transition:color .3s ease-in}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#FFD700;color:#333;border-radius:5px}.navbar-toggle[_ngcontent-%COMP%]{display:none;cursor:pointer;z-index:1001}.bar[_ngcontent-%COMP%]{display:block;width:25px;height:3px;margin:5px auto;background:#fff}@media (max-width: 1024px){.navbar-toggle[_ngcontent-%COMP%]{display:block;position:relative;right:15px}.bar[_ngcontent-%COMP%]{width:30px;height:4px}}@media (max-width: 768px){.navbar-links.active[_ngcontent-%COMP%]{grid-template-columns:repeat(1,auto)}.navbar[_ngcontent-%COMP%]{justify-content:space-between}}@media (max-width: 930px) and (orientation: landscape){.navbar-links.active[_ngcontent-%COMP%]{max-height:calc(100vh - 60px);overflow-y:auto}}@media (max-width: 480px){.navbar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}.navbar-toggle[_ngcontent-%COMP%]{position:relative;top:0;right:15px}}"]})}}return n})(),X3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"social-links"],["href","#"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin-in"]],template:function(i,r){1&i&&(A(0,"footer",0)(1,"div",1)(2,"p"),E(3,"\xa9 2024 Conference Website. All rights reserved."),D(),A(4,"div",2)(5,"a",3),Je(6,"i",4),D(),A(7,"a",3),Je(8,"i",5),D(),A(9,"a",3),Je(10,"i",6),D()()()())},styles:[".footer[_ngcontent-%COMP%]{background:#333;color:#fff;text-align:center;padding:20px 0}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;max-width:1200px;margin:0 auto}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gold;margin:0 10px;text-decoration:none}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:orange}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column}.social-links[_ngcontent-%COMP%]{margin-top:10px}}"]})}}return n})(),Q3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-logo"]],decls:2,vars:0,consts:[[1,"logo-container"],["src","assets/ACFPTO.png","alt","Conference Logo",1,"logo-image"]],template:function(i,r){1&i&&(A(0,"div",0),Je(1,"img",1),D())},styles:[".logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px 0}.logo-image[_ngcontent-%COMP%]{width:1000px;height:auto;transition:transform .3s ease-in-out}@media (max-width: 1024px){.logo-image[_ngcontent-%COMP%]{width:350px}}@media (max-width: 768px){.logo-image[_ngcontent-%COMP%]{width:350px}}@media (max-width: 480px){.logo-image[_ngcontent-%COMP%]{width:200px}}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})}}return n})(),Z3=(()=>{class n{constructor(){this.title="conference-website"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-content"]],template:function(i,r){1&i&&(Je(0,"app-header")(1,"app-logo"),A(2,"div",0),Je(3,"router-outlet"),D(),Je(4,"app-footer"))},dependencies:[kp,K3,X3,Q3],styles:[".main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 120px)}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}"]})}}return n})(),J3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=xi({type:n,bootstrap:[Z3]})}static{this.\u0275inj=Yn({imports:[N2,W3,q3]})}}return n})();L2().bootstrapModule(J3).catch(n=>console.error(n))}},Iu=>{Iu(Iu.s=547)}]);